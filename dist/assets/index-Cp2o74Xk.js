(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function OS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var am={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function MS(){if(pv)return Nl;pv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var gv;function kS(){return gv||(gv=1,am.exports=MS()),am.exports}var A=kS(),om={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function VS(){if(yv)return Ce;yv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=S&&R[S]||R["@@iterator"],typeof R=="function"?R:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,K={};function G(R,q,ae){this.props=R,this.context=q,this.refs=K,this.updater=ae||P}G.prototype.isReactComponent={},G.prototype.setState=function(R,q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,q,"setState")},G.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function $(){}$.prototype=G.prototype;function ee(R,q,ae){this.props=R,this.context=q,this.refs=K,this.updater=ae||P}var oe=ee.prototype=new $;oe.constructor=ee,k(oe,G.prototype),oe.isPureReactComponent=!0;var he=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},_e=Object.prototype.hasOwnProperty;function O(R,q,ae,Z,me,Te){return ae=Te.ref,{$$typeof:r,type:R,key:q,ref:ae!==void 0?ae:null,props:Te}}function I(R,q){return O(R.type,q,void 0,void 0,void 0,R.props)}function C(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function D(R){var q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ae){return q[ae]})}var V=/\/+/g;function U(R,q){return typeof R=="object"&&R!==null&&R.key!=null?D(""+R.key):q.toString(36)}function x(){}function ot(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(x,x):(R.status="pending",R.then(function(q){R.status==="pending"&&(R.status="fulfilled",R.value=q)},function(q){R.status==="pending"&&(R.status="rejected",R.reason=q)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function Fe(R,q,ae,Z,me){var Te=typeof R;(Te==="undefined"||Te==="boolean")&&(R=null);var ge=!1;if(R===null)ge=!0;else switch(Te){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(R.$$typeof){case r:case e:ge=!0;break;case E:return ge=R._init,Fe(ge(R._payload),q,ae,Z,me)}}if(ge)return me=me(R),ge=Z===""?"."+U(R,0):Z,he(me)?(ae="",ge!=null&&(ae=ge.replace(V,"$&/")+"/"),Fe(me,q,ae,"",function(vt){return vt})):me!=null&&(C(me)&&(me=I(me,ae+(me.key==null||R&&R.key===me.key?"":(""+me.key).replace(V,"$&/")+"/")+ge)),q.push(me)),1;ge=0;var tt=Z===""?".":Z+":";if(he(R))for(var De=0;De<R.length;De++)Z=R[De],Te=tt+U(Z,De),ge+=Fe(Z,q,ae,Te,me);else if(De=b(R),typeof De=="function")for(R=De.call(R),De=0;!(Z=R.next()).done;)Z=Z.value,Te=tt+U(Z,De++),ge+=Fe(Z,q,ae,Te,me);else if(Te==="object"){if(typeof R.then=="function")return Fe(ot(R),q,ae,Z,me);throw q=String(R),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ge}function W(R,q,ae){if(R==null)return R;var Z=[],me=0;return Fe(R,Z,"","",function(Te){return q.call(ae,Te,me++)}),Z}function ue(R){if(R._status===-1){var q=R._result;q=q(),q.then(function(ae){(R._status===0||R._status===-1)&&(R._status=1,R._result=ae)},function(ae){(R._status===0||R._status===-1)&&(R._status=2,R._result=ae)}),R._status===-1&&(R._status=0,R._result=q)}if(R._status===1)return R._result.default;throw R._result}var te=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function F(){}return Ce.Children={map:W,forEach:function(R,q,ae){W(R,function(){q.apply(this,arguments)},ae)},count:function(R){var q=0;return W(R,function(){q++}),q},toArray:function(R){return W(R,function(q){return q})||[]},only:function(R){if(!C(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ce.Component=G,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=ee,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(R){return ce.H.useMemoCache(R)}},Ce.cache=function(R){return function(){return R.apply(null,arguments)}},Ce.cloneElement=function(R,q,ae){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var Z=k({},R.props),me=R.key,Te=void 0;if(q!=null)for(ge in q.ref!==void 0&&(Te=void 0),q.key!==void 0&&(me=""+q.key),q)!_e.call(q,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&q.ref===void 0||(Z[ge]=q[ge]);var ge=arguments.length-2;if(ge===1)Z.children=ae;else if(1<ge){for(var tt=Array(ge),De=0;De<ge;De++)tt[De]=arguments[De+2];Z.children=tt}return O(R.type,me,void 0,void 0,Te,Z)},Ce.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},Ce.createElement=function(R,q,ae){var Z,me={},Te=null;if(q!=null)for(Z in q.key!==void 0&&(Te=""+q.key),q)_e.call(q,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(me[Z]=q[Z]);var ge=arguments.length-2;if(ge===1)me.children=ae;else if(1<ge){for(var tt=Array(ge),De=0;De<ge;De++)tt[De]=arguments[De+2];me.children=tt}if(R&&R.defaultProps)for(Z in ge=R.defaultProps,ge)me[Z]===void 0&&(me[Z]=ge[Z]);return O(R,Te,void 0,void 0,null,me)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(R){return{$$typeof:m,render:R}},Ce.isValidElement=C,Ce.lazy=function(R){return{$$typeof:E,_payload:{_status:-1,_result:R},_init:ue}},Ce.memo=function(R,q){return{$$typeof:g,type:R,compare:q===void 0?null:q}},Ce.startTransition=function(R){var q=ce.T,ae={};ce.T=ae;try{var Z=R(),me=ce.S;me!==null&&me(ae,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(F,te)}catch(Te){te(Te)}finally{ce.T=q}},Ce.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Ce.use=function(R){return ce.H.use(R)},Ce.useActionState=function(R,q,ae){return ce.H.useActionState(R,q,ae)},Ce.useCallback=function(R,q){return ce.H.useCallback(R,q)},Ce.useContext=function(R){return ce.H.useContext(R)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(R,q){return ce.H.useDeferredValue(R,q)},Ce.useEffect=function(R,q,ae){var Z=ce.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(R,q)},Ce.useId=function(){return ce.H.useId()},Ce.useImperativeHandle=function(R,q,ae){return ce.H.useImperativeHandle(R,q,ae)},Ce.useInsertionEffect=function(R,q){return ce.H.useInsertionEffect(R,q)},Ce.useLayoutEffect=function(R,q){return ce.H.useLayoutEffect(R,q)},Ce.useMemo=function(R,q){return ce.H.useMemo(R,q)},Ce.useOptimistic=function(R,q){return ce.H.useOptimistic(R,q)},Ce.useReducer=function(R,q,ae){return ce.H.useReducer(R,q,ae)},Ce.useRef=function(R){return ce.H.useRef(R)},Ce.useState=function(R){return ce.H.useState(R)},Ce.useSyncExternalStore=function(R,q,ae){return ce.H.useSyncExternalStore(R,q,ae)},Ce.useTransition=function(){return ce.H.useTransition()},Ce.version="19.1.0",Ce}var _v;function Wm(){return _v||(_v=1,om.exports=VS()),om.exports}var z=Wm(),lm={exports:{}},xl={},um={exports:{}},cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function PS(){return vv||(vv=1,function(r){function e(W,ue){var te=W.length;W.push(ue);e:for(;0<te;){var F=te-1>>>1,R=W[F];if(0<o(R,ue))W[F]=ue,W[te]=R,te=F;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ue=W[0],te=W.pop();if(te!==ue){W[0]=te;e:for(var F=0,R=W.length,q=R>>>1;F<q;){var ae=2*(F+1)-1,Z=W[ae],me=ae+1,Te=W[me];if(0>o(Z,te))me<R&&0>o(Te,Z)?(W[F]=Te,W[me]=te,F=me):(W[F]=Z,W[ae]=te,F=ae);else if(me<R&&0>o(Te,te))W[F]=Te,W[me]=te,F=me;else break e}}return ue}function o(W,ue){var te=W.sortIndex-ue.sortIndex;return te!==0?te:W.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,S=null,b=3,P=!1,k=!1,K=!1,G=!1,$=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function he(W){for(var ue=n(g);ue!==null;){if(ue.callback===null)s(g);else if(ue.startTime<=W)s(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(g)}}function ce(W){if(K=!1,he(W),!k)if(n(p)!==null)k=!0,_e||(_e=!0,U());else{var ue=n(g);ue!==null&&Fe(ce,ue.startTime-W)}}var _e=!1,O=-1,I=5,C=-1;function D(){return G?!0:!(r.unstable_now()-C<I)}function V(){if(G=!1,_e){var W=r.unstable_now();C=W;var ue=!0;try{e:{k=!1,K&&(K=!1,ee(O),O=-1),P=!0;var te=b;try{t:{for(he(W),S=n(p);S!==null&&!(S.expirationTime>W&&D());){var F=S.callback;if(typeof F=="function"){S.callback=null,b=S.priorityLevel;var R=F(S.expirationTime<=W);if(W=r.unstable_now(),typeof R=="function"){S.callback=R,he(W),ue=!0;break t}S===n(p)&&s(p),he(W)}else s(p);S=n(p)}if(S!==null)ue=!0;else{var q=n(g);q!==null&&Fe(ce,q.startTime-W),ue=!1}}break e}finally{S=null,b=te,P=!1}ue=void 0}}finally{ue?U():_e=!1}}}var U;if(typeof oe=="function")U=function(){oe(V)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ot=x.port2;x.port1.onmessage=V,U=function(){ot.postMessage(null)}}else U=function(){$(V,0)};function Fe(W,ue){O=$(function(){W(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(W){switch(b){case 1:case 2:case 3:var ue=3;break;default:ue=b}var te=b;b=ue;try{return W()}finally{b=te}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(W,ue){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var te=b;b=W;try{return ue()}finally{b=te}},r.unstable_scheduleCallback=function(W,ue,te){var F=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?F+te:F):te=F,W){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=te+R,W={id:E++,callback:ue,priorityLevel:W,startTime:te,expirationTime:R,sortIndex:-1},te>F?(W.sortIndex=te,e(g,W),n(p)===null&&W===n(g)&&(K?(ee(O),O=-1):K=!0,Fe(ce,te-F))):(W.sortIndex=R,e(p,W),k||P||(k=!0,_e||(_e=!0,U()))),W},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(W){var ue=b;return function(){var te=b;b=ue;try{return W.apply(this,arguments)}finally{b=te}}}}(cm)),cm}var Ev;function LS(){return Ev||(Ev=1,um.exports=PS()),um.exports}var hm={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function US(){if(Tv)return en;Tv=1;var r=Wm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},en.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:b,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},en.useFormStatus=function(){return f.H.useHostTransitionStatus()},en.version="19.1.0",en}var Av;function jS(){if(Av)return hm.exports;Av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hm.exports=US(),hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function BS(){if(bv)return xl;bv=1;var r=LS(),e=Wm(),n=jS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case G:return"Profiler";case K:return"StrictMode";case ce:return"Suspense";case _e:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case oe:return(t.displayName||"Context")+".Provider";case ee:return(t._context.displayName||"Context")+".Consumer";case he:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return i=t.displayName||null,i!==null?i:ot(t.type)||"Memo";case I:i=t._payload,t=t._init;try{return ot(t(i))}catch{}}return null}var Fe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},F=[],R=-1;function q(t){return{current:t}}function ae(t){0>R||(t.current=F[R],F[R]=null,R--)}function Z(t,i){R++,F[R]=t.current,t.current=i}var me=q(null),Te=q(null),ge=q(null),tt=q(null);function De(t,i){switch(Z(ge,i),Z(Te,t),Z(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?H_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=H_(i),t=F_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(me),Z(me,t)}function vt(){ae(me),ae(Te),ae(ge)}function Rt(t){t.memoizedState!==null&&Z(tt,t);var i=me.current,a=F_(i,t.type);i!==a&&(Z(Te,t),Z(me,a))}function Zt(t){Te.current===t&&(ae(me),ae(Te)),tt.current===t&&(ae(tt),Sl._currentValue=te)}var hn=Object.prototype.hasOwnProperty,Jn=r.unstable_scheduleCallback,ei=r.unstable_cancelCallback,Ri=r.unstable_shouldYield,Eu=r.unstable_requestPaint,In=r.unstable_now,af=r.unstable_getCurrentPriorityLevel,Ao=r.unstable_ImmediatePriority,Zs=r.unstable_UserBlockingPriority,rs=r.unstable_NormalPriority,of=r.unstable_LowPriority,Ws=r.unstable_IdlePriority,bo=r.log,Tu=r.unstable_setDisableYieldValue,ht=null,Qe=null;function gn(t){if(typeof bo=="function"&&Tu(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ht,t)}catch{}}var Wt=Math.clz32?Math.clz32:ss,Au=Math.log,lf=Math.LN2;function ss(t){return t>>>=0,t===0?32:31-(Au(t)/lf|0)|0}var as=256,os=4194304;function zn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Js(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=zn(l):(v&=T,v!==0?h=zn(v):a||(a=T&~t,a!==0&&(h=zn(a))))):(T=l&~d,T!==0?h=zn(T):v!==0?h=zn(v):a||(a=l&~t,a!==0&&(h=zn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ls(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function So(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wo(){var t=as;return as<<=1,(as&4194048)===0&&(as=256),t}function Ro(){var t=os;return os<<=1,(os&62914560)===0&&(os=4194304),t}function Ii(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ci(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Io(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var J=31-Wt(a),re=1<<J;T[J]=0,N[J]=-1;var Q=H[J];if(Q!==null)for(H[J]=null,J=0;J<Q.length;J++){var Y=Q[J];Y!==null&&(Y.lane&=-536870913)}a&=~re}l!==0&&ti(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function ti(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Wt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Co(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Wt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function ur(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ea(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cr(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:uv(t.type))}function bu(t,i){var a=ue.p;try{return ue.p=t,i()}finally{ue.p=a}}var rt=Math.random().toString(36).slice(2),It="__reactFiber$"+rt,Et="__reactProps$"+rt,Cn="__reactContainer$"+rt,No="__reactEvents$"+rt,uf="__reactListeners$"+rt,hr="__reactHandles$"+rt,Su="__reactResources$"+rt,us="__reactMarker$"+rt;function fr(t){delete t[It],delete t[Et],delete t[No],delete t[uf],delete t[hr]}function Ni(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Cn]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Y_(t);t!==null;){if(a=t[It])return a;t=Y_(t)}return i}t=a,a=t.parentNode}return null}function ni(t){if(t=t[It]||t[Cn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ii(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function sn(t){var i=t[Su];return i||(i=t[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function pt(t){t[us]=!0}var xo=new Set,ta={};function qn(t,i){xi(t,i),xi(t+"Capture",i)}function xi(t,i){for(ta[t]=i,t=0;t<i.length;t++)xo.add(i[t])}var wu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ru={},cs={};function Iu(t){return hn.call(cs,t)?!0:hn.call(Ru,t)?!1:wu.test(t)?cs[t]=!0:(Ru[t]=!0,!1)}function dr(t,i,a){if(Iu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ri(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function zt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var hs,Cu;function Di(t){if(hs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);hs=i&&i[1]||"",Cu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hs+t+Cu}var na=!1;function ia(t,i){if(!t||na)return"";na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Y){var Q=Y}Reflect.construct(t,[],re)}else{try{re.call()}catch(Y){Q=Y}t.call(re.prototype)}}else{try{throw Error()}catch(Y){Q=Y}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Y){if(Y&&Q&&typeof Y.stack=="string")return[Y.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var N=v.split(`
`),H=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===H.length)for(l=N.length-1,h=H.length-1;1<=l&&0<=h&&N[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==H[h]){var J=`
`+N[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{na=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Di(a):""}function Do(t){switch(t.tag){case 26:case 27:case 5:return Di(t.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return ia(t.type,!1);case 11:return ia(t.type.render,!1);case 1:return ia(t.type,!0);case 31:return Di("Activity");default:return""}}function ra(t){try{var i="";do i+=Do(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function cf(t){var i=Oo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function sa(t){t._valueTracker||(t._valueTracker=cf(t))}function Mo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Oo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function fs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var hf=/[\n"\\]/g;function Tt(t){return t.replace(hf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function yn(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+an(i)):t.value!==""+an(i)&&(t.value=""+an(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?mr(t,v,an(i)):a!=null?mr(t,v,an(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+an(T):t.removeAttribute("name")}function ds(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+an(a):"",i=i!=null?""+an(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function mr(t,i,a){i==="number"&&fs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Oi(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+an(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function $e(t,i,a){if(i!=null&&(i=""+an(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+an(a):""}function ms(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Fe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=an(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Nn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ps.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function ko(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Nu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Nu(t,d,i[d])}function Vo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(t){return df.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Mi=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ki=null,Vi=null;function Po(t){var i=ni(t);if(i&&(t=i.stateNode)){var a=t[Et]||null;e:switch(t=i.stateNode,i.type){case"input":if(yn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(s(90));yn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Mo(l)}break e;case"textarea":$e(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Oi(t,!!a.multiple,i,!1)}}}var si=!1;function xu(t,i,a){if(si)return t(i,a);si=!0;try{var l=t(i);return l}finally{if(si=!1,(ki!==null||Vi!==null)&&(bc(),ki&&(i=ki,t=Vi,Vi=ki=null,Po(i),t)))for(i=0;i<t.length;i++)Po(t[i])}}function gs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Hn)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{Dn=!1}var ai=null,pr=null,Pi=null;function Lo(){if(Pi)return Pi;var t,i=pr,a=i.length,l,h="value"in ai?ai.value:ai.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Pi=h.slice(t,1<l?1-l:void 0)}function oi(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function li(){return!0}function Uo(){return!1}function kt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?li:Uo,this.isPropagationStopped=Uo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oa=kt(Ge),_s=E({},Ge,{view:0,detail:0}),Du=kt(_s),la,ua,ui,vs=E({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(la=t.screenX-ui.screenX,ua=t.screenY-ui.screenY):ua=la=0,ui=t),la)},movementY:function(t){return"movementY"in t?t.movementY:ua}}),On=kt(vs),Ou=E({},vs,{dataTransfer:0}),mf=kt(Ou),Es=E({},_s,{relatedTarget:0}),ca=kt(Es),jo=E({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),ha=kt(jo),Mu=E({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fa=kt(Mu),pf=E({},Ge,{data:0}),Bo=kt(pf),Ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Vu[t])?!!i[t]:!1}function As(){return zo}var Pu=E({},_s,{key:function(t){if(t.key){var i=Ts[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=oi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(t){return t.type==="keypress"?oi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),da=kt(Pu),Lu=E({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=kt(Lu),Li=E({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),Uu=kt(Li),ju=E({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bu=kt(ju),zu=E({},vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ma=kt(zu),on=E({},Ge,{newState:0,oldState:0}),qu=kt(on),Hu=[9,13,27,32],ci=Hn&&"CompositionEvent"in window,c=null;Hn&&"documentMode"in document&&(c=document.documentMode);var y=Hn&&"TextEvent"in window&&!c,_=Hn&&(!ci||c&&8<c&&11>=c),w=" ",j=!1;function X(t,i){switch(t){case"keyup":return Hu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Le=!1;function Ct(t,i){switch(t){case"compositionend":return le(i);case"keypress":return i.which!==32?null:(j=!0,w);case"textInput":return t=i.data,t===w&&j?null:t;default:return null}}function Ue(t,i){if(Le)return t==="compositionend"||!ci&&X(t,i)?(t=Lo(),Pi=pr=ai=null,Le=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vt[t.type]:i==="textarea"}function Ui(t,i,a,l){ki?Vi?Vi.push(l):Vi=[l]:ki=l,i=Nc(i,"onChange"),0<i.length&&(a=new oa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var qt=null,hi=null;function Ho(t){U_(t,0)}function Fu(t){var i=ii(t);if(Mo(i))return t}function sg(t,i){if(t==="change")return i}var ag=!1;if(Hn){var gf;if(Hn){var yf="oninput"in document;if(!yf){var og=document.createElement("div");og.setAttribute("oninput","return;"),yf=typeof og.oninput=="function"}gf=yf}else gf=!1;ag=gf&&(!document.documentMode||9<document.documentMode)}function lg(){qt&&(qt.detachEvent("onpropertychange",ug),hi=qt=null)}function ug(t){if(t.propertyName==="value"&&Fu(hi)){var i=[];Ui(i,hi,t,xn(t)),xu(Ho,i)}}function lb(t,i,a){t==="focusin"?(lg(),qt=i,hi=a,qt.attachEvent("onpropertychange",ug)):t==="focusout"&&lg()}function ub(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(hi)}function cb(t,i){if(t==="click")return Fu(i)}function hb(t,i){if(t==="input"||t==="change")return Fu(i)}function fb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:fb;function Fo(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!hn.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hg(t,i){var a=cg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cg(a)}}function fg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?fg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=fs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=fs(t.document)}return i}function _f(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var db=Hn&&"documentMode"in document&&11>=document.documentMode,pa=null,vf=null,Go=null,Ef=!1;function mg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ef||pa==null||pa!==fs(l)||(l=pa,"selectionStart"in l&&_f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Go&&Fo(Go,l)||(Go=l,l=Nc(vf,"onSelect"),0<l.length&&(i=new oa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=pa)))}function bs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ga={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Tf={},pg={};Hn&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Ss(t){if(Tf[t])return Tf[t];if(!ga[t])return t;var i=ga[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in pg)return Tf[t]=i[a];return t}var gg=Ss("animationend"),yg=Ss("animationiteration"),_g=Ss("animationstart"),mb=Ss("transitionrun"),pb=Ss("transitionstart"),gb=Ss("transitioncancel"),vg=Ss("transitionend"),Eg=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function Fn(t,i){Eg.set(t,i),qn(i,[t])}var Tg=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=Tg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ra(i)},Tg.set(t,i),i)}return{value:t,source:i,stack:ra(i)}}var kn=[],ya=0,bf=0;function Gu(){for(var t=ya,i=bf=ya=0;i<t;){var a=kn[i];kn[i++]=null;var l=kn[i];kn[i++]=null;var h=kn[i];kn[i++]=null;var d=kn[i];if(kn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Ag(a,h,d)}}function Qu(t,i,a,l){kn[ya++]=t,kn[ya++]=i,kn[ya++]=a,kn[ya++]=l,bf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sf(t,i,a,l){return Qu(t,i,a,l),Ku(t)}function _a(t,i){return Qu(t,null,null,i),Ku(t)}function Ag(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Wt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ku(t){if(50<gl)throw gl=0,xd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var va={};function yb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new yb(t,i,a,l)}function wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function bg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Yu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")wf(t)&&(v=1);else if(typeof t=="string")v=vS(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=vn(31,a,i,h),t.elementType=C,t.lanes=d,t;case k:return ws(a.children,h,d,i);case K:v=8,h|=24;break;case G:return t=vn(12,a,i,h|2),t.elementType=G,t.lanes=d,t;case ce:return t=vn(13,a,i,h),t.elementType=ce,t.lanes=d,t;case _e:return t=vn(19,a,i,h),t.elementType=_e,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case oe:v=10;break e;case ee:v=9;break e;case he:v=11;break e;case O:v=14;break e;case I:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ws(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function Rf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function If(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ea=[],Ta=0,$u=null,Xu=0,Vn=[],Pn=0,Rs=null,Bi=1,zi="";function Is(t,i){Ea[Ta++]=Xu,Ea[Ta++]=$u,$u=t,Xu=i}function Sg(t,i,a){Vn[Pn++]=Bi,Vn[Pn++]=zi,Vn[Pn++]=Rs,Rs=t;var l=Bi;t=zi;var h=32-Wt(l)-1;l&=~(1<<h),a+=1;var d=32-Wt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Bi=1<<32-Wt(i)+h|a<<h|l,zi=d+t}else Bi=1<<d|a<<h|l,zi=t}function Cf(t){t.return!==null&&(Is(t,1),Sg(t,1,0))}function Nf(t){for(;t===$u;)$u=Ea[--Ta],Ea[Ta]=null,Xu=Ea[--Ta],Ea[Ta]=null;for(;t===Rs;)Rs=Vn[--Pn],Vn[Pn]=null,zi=Vn[--Pn],Vn[Pn]=null,Bi=Vn[--Pn],Vn[Pn]=null}var ln=null,ft=null,He=!1,Cs=null,fi=!1,xf=Error(s(519));function Ns(t){var i=Error(s(418,""));throw Yo(Mn(i,t)),xf}function wg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[Et]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<_l.length;a++)ke(_l[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),ds(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),sa(i);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),ms(i,l.value,l.defaultValue,l.children),sa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||q_(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=xc),i=!0):i=!1,i||Ns(t)}function Rg(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:ln=ln.return}}function Qo(t){if(t!==ln)return!1;if(!He)return Rg(t),He=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Qd(t.type,t.memoizedProps)),a=!a),a&&ft&&Ns(t),Rg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ft=Qn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ft=null}}else i===27?(i=ft,Dr(t.type)?(t=Xd,Xd=null,ft=t):ft=i):ft=ln?Qn(t.stateNode.nextSibling):null;return!0}function Ko(){ft=ln=null,He=!1}function Ig(){var t=Cs;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Cs=null),t}function Yo(t){Cs===null?Cs=[t]:Cs.push(t)}var Df=q(null),xs=null,qi=null;function gr(t,i,a){Z(Df,i._currentValue),i._currentValue=a}function Hi(t){t._currentValue=Df.current,ae(Df)}function Of(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Mf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Of(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Of(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function $o(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;_n(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===tt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}h=h.return}t!==null&&Mf(i,t,a,l),i.flags|=262144}function Zu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ds(t){xs=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return Cg(xs,t)}function Wu(t,i){return xs===null&&Ds(t),Cg(t,i)}function Cg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(t===null)throw Error(s(308));qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else qi=qi.next=i;return a}var _b=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},vb=r.unstable_scheduleCallback,Eb=r.unstable_NormalPriority,xt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new _b,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&vb(Eb,function(){t.controller.abort()})}var Zo=null,Vf=0,Aa=0,ba=null;function Tb(t,i){if(Zo===null){var a=Zo=[];Vf=0,Aa=Ld(),ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,i.then(Ng,Ng),i}function Ng(){if(--Vf===0&&Zo!==null){ba!==null&&(ba.status="fulfilled");var t=Zo;Zo=null,Aa=0,ba=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Ab(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var xg=W.S;W.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Tb(t,i),xg!==null&&xg(t,i)};var Os=q(null);function Pf(){var t=Os.current;return t!==null?t:nt.pooledCache}function Ju(t,i){i===null?Z(Os,Os.current):Z(Os,i.pool)}function Dg(){var t=Pf();return t===null?null:{parent:xt._currentValue,pool:t}}var Wo=Error(s(460)),Og=Error(s(474)),ec=Error(s(542)),Lf={then:function(){}};function Mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tc(){}function kg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(tc,tc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t;default:if(typeof i.status=="string")i.then(tc,tc);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t}throw Jo=i,Wo}}var Jo=null;function Vg(){if(Jo===null)throw Error(s(459));var t=Jo;return Jo=null,t}function Pg(t){if(t===Wo||t===ec)throw Error(s(483))}var yr=!1;function Uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _r(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ku(t),Ag(t,null,a),i}return Qu(t,l,i,a),Ku(t)}function el(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Co(t,a)}}function Bf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var zf=!1;function tl(){if(zf){var t=ba;if(t!==null)throw t}}function nl(t,i,a,l){zf=!1;var h=t.updateQueue;yr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,H=N.next;N.next=null,v===null?d=H:v.next=H,v=N;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==v&&(T===null?J.firstBaseUpdate=H:T.next=H,J.lastBaseUpdate=N))}if(d!==null){var re=h.baseState;v=0,J=H=N=null,T=d;do{var Q=T.lane&-536870913,Y=Q!==T.lane;if(Y?(je&Q)===Q:(l&Q)===Q){Q!==0&&Q===Aa&&(zf=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Re=t,Ae=T;Q=i;var We=a;switch(Ae.tag){case 1:if(Re=Ae.payload,typeof Re=="function"){re=Re.call(We,re,Q);break e}re=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ae.payload,Q=typeof Re=="function"?Re.call(We,re,Q):Re,Q==null)break e;re=E({},re,Q);break e;case 2:yr=!0}}Q=T.callback,Q!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[Q]:Y.push(Q))}else Y={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(H=J=Y,N=re):J=J.next=Y,v|=Q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);J===null&&(N=re),h.baseState=N,h.firstBaseUpdate=H,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),Ir|=v,t.lanes=v,t.memoizedState=re}}function Lg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Ug(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Lg(a[t],i)}var Sa=q(null),nc=q(0);function jg(t,i){t=Xi,Z(nc,t),Z(Sa,i),Xi=t|i.baseLanes}function qf(){Z(nc,Xi),Z(Sa,Sa.current)}function Hf(){Xi=nc.current,ae(Sa),ae(nc)}var Er=0,Ne=null,Xe=null,At=null,ic=!1,wa=!1,Ms=!1,rc=0,il=0,Ra=null,bb=0;function gt(){throw Error(s(321))}function Ff(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function Gf(t,i,a,l,h,d){return Er=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?Ay:by,Ms=!1,d=a(l,h),Ms=!1,wa&&(d=zg(i,a,l,h)),Bg(t),d}function Bg(t){W.H=cc;var i=Xe!==null&&Xe.next!==null;if(Er=0,At=Xe=Ne=null,ic=!1,il=0,Ra=null,i)throw Error(s(300));t===null||Pt||(t=t.dependencies,t!==null&&Zu(t)&&(Pt=!0))}function zg(t,i,a,l){Ne=t;var h=0;do{if(wa&&(Ra=null),il=0,wa=!1,25<=h)throw Error(s(301));if(h+=1,At=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=xb,d=i(a,l)}while(wa);return d}function Sb(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?rl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Qf(){var t=rc!==0;return rc=0,t}function Kf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Yf(t){if(ic){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ic=!1}Er=0,At=Xe=Ne=null,wa=!1,il=rc=0,Ra=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ne.memoizedState=At=t:At=At.next=t,At}function bt(){if(Xe===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=At===null?Ne.memoizedState:At.next;if(i!==null)At=i,Xe=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},At===null?Ne.memoizedState=At=t:At=At.next=t}return At}function $f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(t){var i=il;return il+=1,Ra===null&&(Ra=[]),t=kg(Ra,t,i),i=Ne,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?Ay:by),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===oe)return Jt(t)}throw Error(s(438,String(t)))}function Xf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=$f(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=D;return i.index++,a}function Fi(t,i){return typeof i=="function"?i(t):i}function ac(t){var i=bt();return Zf(i,Xe,t)}function Zf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,N=null,H=i,J=!1;do{var re=H.lane&-536870913;if(re!==H.lane?(je&re)===re:(Er&re)===re){var Q=H.revertLane;if(Q===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),re===Aa&&(J=!0);else if((Er&Q)===Q){H=H.next,Q===Aa&&(J=!0);continue}else re={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=re,v=d):N=N.next=re,Ne.lanes|=Q,Ir|=Q;re=H.action,Ms&&a(d,re),d=H.hasEagerState?H.eagerState:a(d,re)}else Q={lane:re,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=Q,v=d):N=N.next=Q,Ne.lanes|=re,Ir|=re;H=H.next}while(H!==null&&H!==i);if(N===null?v=d:N.next=T,!_n(d,t.memoizedState)&&(Pt=!0,J&&(a=ba,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wf(t){var i=bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);_n(d,i.memoizedState)||(Pt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function qg(t,i,a){var l=Ne,h=bt(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!_n((Xe||h).memoizedState,a);v&&(h.memoizedState=a,Pt=!0),h=h.queue;var T=Gg.bind(null,l,h,t);if(sl(2048,8,T,[t]),h.getSnapshot!==i||v||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Ia(9,oc(),Fg.bind(null,l,h,a,i),null),nt===null)throw Error(s(349));d||(Er&124)!==0||Hg(l,i,a)}return a}function Hg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=$f(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Fg(t,i,a,l){i.value=a,i.getSnapshot=l,Qg(i)&&Kg(t)}function Gg(t,i,a){return a(function(){Qg(i)&&Kg(t)})}function Qg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function Kg(t){var i=_a(t,2);i!==null&&Sn(i,t,2)}function Jf(t){var i=fn();if(typeof t=="function"){var a=t;if(t=a(),Ms){gn(!0);try{a()}finally{gn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},i}function Yg(t,i,a,l){return t.baseState=a,Zf(t,Xe,typeof l=="function"?l:Fi)}function wb(t,i,a,l,h){if(uc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,$g(i,d)):(d.next=a.next,i.pending=a.next=d)}}function $g(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=W.T,v={};W.T=v;try{var T=a(h,l),N=W.S;N!==null&&N(v,T),Xg(t,i,T)}catch(H){ed(t,i,H)}finally{W.T=d}}else try{d=a(h,l),Xg(t,i,d)}catch(H){ed(t,i,H)}}function Xg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Zg(t,i,l)},function(l){return ed(t,i,l)}):Zg(t,i,a)}function Zg(t,i,a){i.status="fulfilled",i.value=a,Wg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,$g(t,a)))}function ed(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Wg(i),i=i.next;while(i!==l)}t.action=null}function Wg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Jg(t,i){return i}function ey(t,i){if(He){var a=nt.formState;if(a!==null){e:{var l=Ne;if(He){if(ft){t:{for(var h=ft,d=fi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ft=Qn(h.nextSibling),l=h.data==="F!";break e}}Ns(l)}l=!1}l&&(i=a[0])}}return a=fn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:i},a.queue=l,a=vy.bind(null,Ne,l),l.dispatch=a,l=Jf(!1),d=sd.bind(null,Ne,!1,l.queue),l=fn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=wb.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ty(t){var i=bt();return ny(i,Xe,t)}function ny(t,i,a){if(i=Zf(t,i,Jg)[0],t=ac(Fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=rl(i)}catch(v){throw v===Wo?ec:v}else l=i;i=bt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,Ia(9,oc(),Rb.bind(null,h,a),null)),[l,d,t]}function Rb(t,i){t.action=i}function iy(t){var i=bt(),a=Xe;if(a!==null)return ny(i,a,t);bt(),i=i.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ia(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=$f(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function oc(){return{destroy:void 0,resource:void 0}}function ry(){return bt().memoizedState}function lc(t,i,a,l){var h=fn();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=Ia(1|i,oc(),a,l)}function sl(t,i,a,l){var h=bt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&Ff(l,Xe.memoizedState.deps)?h.memoizedState=Ia(i,d,a,l):(Ne.flags|=t,h.memoizedState=Ia(1|i,d,a,l))}function sy(t,i){lc(8390656,8,t,i)}function ay(t,i){sl(2048,8,t,i)}function oy(t,i){return sl(4,2,t,i)}function ly(t,i){return sl(4,4,t,i)}function uy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function cy(t,i,a){a=a!=null?a.concat([t]):null,sl(4,4,uy.bind(null,i,t),a)}function td(){}function hy(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Ff(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function fy(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Ff(i,l[1]))return l[0];if(l=t(),Ms){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,i],l}function nd(t,i,a){return a===void 0||(Er&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=p_(),Ne.lanes|=t,Ir|=t,a)}function dy(t,i,a,l){return _n(a,i)?a:Sa.current!==null?(t=nd(t,a,l),_n(t,i)||(Pt=!0),t):(Er&42)===0?(Pt=!0,t.memoizedState=a):(t=p_(),Ne.lanes|=t,Ir|=t,i)}function my(t,i,a,l,h){var d=ue.p;ue.p=d!==0&&8>d?d:8;var v=W.T,T={};W.T=T,sd(t,!1,i,a);try{var N=h(),H=W.S;if(H!==null&&H(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=Ab(N,l);al(t,i,J,bn(t))}else al(t,i,l,bn(t))}catch(re){al(t,i,{then:function(){},status:"rejected",reason:re},bn())}finally{ue.p=d,W.T=v}}function Ib(){}function id(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=py(t).queue;my(t,h,i,te,a===null?Ib:function(){return gy(t),a(l)})}function py(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:te},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function gy(t){var i=py(t).next.queue;al(t,i,{},bn())}function rd(){return Jt(Sl)}function yy(){return bt().memoizedState}function _y(){return bt().memoizedState}function Cb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=_r(a);var l=vr(i,t,a);l!==null&&(Sn(l,i,a),el(l,i,a)),i={cache:kf()},t.payload=i;return}i=i.return}}function Nb(t,i,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},uc(t)?Ey(i,a):(a=Sf(t,i,a,l),a!==null&&(Sn(a,t,l),Ty(a,i,l)))}function vy(t,i,a){var l=bn();al(t,i,a,l)}function al(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(t))Ey(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,_n(T,v))return Qu(t,i,h,0),nt===null&&Gu(),!1}catch{}finally{}if(a=Sf(t,i,h,l),a!==null)return Sn(a,t,l),Ty(a,i,l),!0}return!1}function sd(t,i,a,l){if(l={lane:2,revertLane:Ld(),action:l,hasEagerState:!1,eagerState:null,next:null},uc(t)){if(i)throw Error(s(479))}else i=Sf(t,a,l,2),i!==null&&Sn(i,t,2)}function uc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function Ey(t,i){wa=ic=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ty(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Co(t,a)}}var cc={readContext:Jt,use:sc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Ay={readContext:Jt,use:sc,useCallback:function(t,i){return fn().memoizedState=[t,i===void 0?null:i],t},useContext:Jt,useEffect:sy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,lc(4194308,4,uy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return lc(4194308,4,t,i)},useInsertionEffect:function(t,i){lc(4,2,t,i)},useMemo:function(t,i){var a=fn();i=i===void 0?null:i;var l=t();if(Ms){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=fn();if(a!==void 0){var h=a(i);if(Ms){gn(!0);try{a(i)}finally{gn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Nb.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=fn();return t={current:t},i.memoizedState=t},useState:function(t){t=Jf(t);var i=t.queue,a=vy.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:td,useDeferredValue:function(t,i){var a=fn();return nd(a,t,i)},useTransition:function(){var t=Jf(!1);return t=my.bind(null,Ne,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=fn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(je&124)!==0||Hg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,sy(Gg.bind(null,l,d,t),[t]),l.flags|=2048,Ia(9,oc(),Fg.bind(null,l,d,a,i),null),a},useId:function(){var t=fn(),i=nt.identifierPrefix;if(He){var a=zi,l=Bi;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=rc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=bb++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:rd,useFormState:ey,useActionState:ey,useOptimistic:function(t){var i=fn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=sd.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:Xf,useCacheRefresh:function(){return fn().memoizedState=Cb.bind(null,Ne)}},by={readContext:Jt,use:sc,useCallback:hy,useContext:Jt,useEffect:ay,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:fy,useReducer:ac,useRef:ry,useState:function(){return ac(Fi)},useDebugValue:td,useDeferredValue:function(t,i){var a=bt();return dy(a,Xe.memoizedState,t,i)},useTransition:function(){var t=ac(Fi)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:rl(t),i]},useSyncExternalStore:qg,useId:yy,useHostTransitionStatus:rd,useFormState:ty,useActionState:ty,useOptimistic:function(t,i){var a=bt();return Yg(a,Xe,t,i)},useMemoCache:Xf,useCacheRefresh:_y},xb={readContext:Jt,use:sc,useCallback:hy,useContext:Jt,useEffect:ay,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:fy,useReducer:Wf,useRef:ry,useState:function(){return Wf(Fi)},useDebugValue:td,useDeferredValue:function(t,i){var a=bt();return Xe===null?nd(a,t,i):dy(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Wf(Fi)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:rl(t),i]},useSyncExternalStore:qg,useId:yy,useHostTransitionStatus:rd,useFormState:iy,useActionState:iy,useOptimistic:function(t,i){var a=bt();return Xe!==null?Yg(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Xf,useCacheRefresh:_y},Ca=null,ol=0;function hc(t){var i=ol;return ol+=1,Ca===null&&(Ca=[]),kg(Ca,t,i)}function ll(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fc(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Sy(t){var i=t._init;return i(t._payload)}function wy(t){function i(L,M){if(t){var B=L.deletions;B===null?(L.deletions=[M],L.flags|=16):B.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=ji(L,M),L.index=0,L.sibling=null,L}function d(L,M,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<M?(L.flags|=67108866,M):B):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,M,B,ne){return M===null||M.tag!==6?(M=Rf(B,L.mode,ne),M.return=L,M):(M=h(M,B),M.return=L,M)}function N(L,M,B,ne){var pe=B.type;return pe===k?J(L,M,B.props.children,ne,B.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===I&&Sy(pe)===M.type)?(M=h(M,B.props),ll(M,B),M.return=L,M):(M=Yu(B.type,B.key,B.props,null,L.mode,ne),ll(M,B),M.return=L,M)}function H(L,M,B,ne){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=If(B,L.mode,ne),M.return=L,M):(M=h(M,B.children||[]),M.return=L,M)}function J(L,M,B,ne,pe){return M===null||M.tag!==7?(M=ws(B,L.mode,ne,pe),M.return=L,M):(M=h(M,B),M.return=L,M)}function re(L,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Rf(""+M,L.mode,B),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return B=Yu(M.type,M.key,M.props,null,L.mode,B),ll(B,M),B.return=L,B;case P:return M=If(M,L.mode,B),M.return=L,M;case I:var ne=M._init;return M=ne(M._payload),re(L,M,B)}if(Fe(M)||U(M))return M=ws(M,L.mode,B,null),M.return=L,M;if(typeof M.then=="function")return re(L,hc(M),B);if(M.$$typeof===oe)return re(L,Wu(L,M),B);fc(L,M)}return null}function Q(L,M,B,ne){var pe=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:T(L,M,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===pe?N(L,M,B,ne):null;case P:return B.key===pe?H(L,M,B,ne):null;case I:return pe=B._init,B=pe(B._payload),Q(L,M,B,ne)}if(Fe(B)||U(B))return pe!==null?null:J(L,M,B,ne,null);if(typeof B.then=="function")return Q(L,M,hc(B),ne);if(B.$$typeof===oe)return Q(L,M,Wu(L,B),ne);fc(L,B)}return null}function Y(L,M,B,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return L=L.get(B)||null,T(M,L,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:return L=L.get(ne.key===null?B:ne.key)||null,N(M,L,ne,pe);case P:return L=L.get(ne.key===null?B:ne.key)||null,H(M,L,ne,pe);case I:var Oe=ne._init;return ne=Oe(ne._payload),Y(L,M,B,ne,pe)}if(Fe(ne)||U(ne))return L=L.get(B)||null,J(M,L,ne,pe,null);if(typeof ne.then=="function")return Y(L,M,B,hc(ne),pe);if(ne.$$typeof===oe)return Y(L,M,B,Wu(M,ne),pe);fc(M,ne)}return null}function Re(L,M,B,ne){for(var pe=null,Oe=null,ye=M,be=M=0,Ut=null;ye!==null&&be<B.length;be++){ye.index>be?(Ut=ye,ye=null):Ut=ye.sibling;var qe=Q(L,ye,B[be],ne);if(qe===null){ye===null&&(ye=Ut);break}t&&ye&&qe.alternate===null&&i(L,ye),M=d(qe,M,be),Oe===null?pe=qe:Oe.sibling=qe,Oe=qe,ye=Ut}if(be===B.length)return a(L,ye),He&&Is(L,be),pe;if(ye===null){for(;be<B.length;be++)ye=re(L,B[be],ne),ye!==null&&(M=d(ye,M,be),Oe===null?pe=ye:Oe.sibling=ye,Oe=ye);return He&&Is(L,be),pe}for(ye=l(ye);be<B.length;be++)Ut=Y(ye,L,be,B[be],ne),Ut!==null&&(t&&Ut.alternate!==null&&ye.delete(Ut.key===null?be:Ut.key),M=d(Ut,M,be),Oe===null?pe=Ut:Oe.sibling=Ut,Oe=Ut);return t&&ye.forEach(function(Pr){return i(L,Pr)}),He&&Is(L,be),pe}function Ae(L,M,B,ne){if(B==null)throw Error(s(151));for(var pe=null,Oe=null,ye=M,be=M=0,Ut=null,qe=B.next();ye!==null&&!qe.done;be++,qe=B.next()){ye.index>be?(Ut=ye,ye=null):Ut=ye.sibling;var Pr=Q(L,ye,qe.value,ne);if(Pr===null){ye===null&&(ye=Ut);break}t&&ye&&Pr.alternate===null&&i(L,ye),M=d(Pr,M,be),Oe===null?pe=Pr:Oe.sibling=Pr,Oe=Pr,ye=Ut}if(qe.done)return a(L,ye),He&&Is(L,be),pe;if(ye===null){for(;!qe.done;be++,qe=B.next())qe=re(L,qe.value,ne),qe!==null&&(M=d(qe,M,be),Oe===null?pe=qe:Oe.sibling=qe,Oe=qe);return He&&Is(L,be),pe}for(ye=l(ye);!qe.done;be++,qe=B.next())qe=Y(ye,L,be,qe.value,ne),qe!==null&&(t&&qe.alternate!==null&&ye.delete(qe.key===null?be:qe.key),M=d(qe,M,be),Oe===null?pe=qe:Oe.sibling=qe,Oe=qe);return t&&ye.forEach(function(DS){return i(L,DS)}),He&&Is(L,be),pe}function We(L,M,B,ne){if(typeof B=="object"&&B!==null&&B.type===k&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var pe=B.key;M!==null;){if(M.key===pe){if(pe=B.type,pe===k){if(M.tag===7){a(L,M.sibling),ne=h(M,B.props.children),ne.return=L,L=ne;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===I&&Sy(pe)===M.type){a(L,M.sibling),ne=h(M,B.props),ll(ne,B),ne.return=L,L=ne;break e}a(L,M);break}else i(L,M);M=M.sibling}B.type===k?(ne=ws(B.props.children,L.mode,ne,B.key),ne.return=L,L=ne):(ne=Yu(B.type,B.key,B.props,null,L.mode,ne),ll(ne,B),ne.return=L,L=ne)}return v(L);case P:e:{for(pe=B.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(L,M.sibling),ne=h(M,B.children||[]),ne.return=L,L=ne;break e}else{a(L,M);break}else i(L,M);M=M.sibling}ne=If(B,L.mode,ne),ne.return=L,L=ne}return v(L);case I:return pe=B._init,B=pe(B._payload),We(L,M,B,ne)}if(Fe(B))return Re(L,M,B,ne);if(U(B)){if(pe=U(B),typeof pe!="function")throw Error(s(150));return B=pe.call(B),Ae(L,M,B,ne)}if(typeof B.then=="function")return We(L,M,hc(B),ne);if(B.$$typeof===oe)return We(L,M,Wu(L,B),ne);fc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(L,M.sibling),ne=h(M,B),ne.return=L,L=ne):(a(L,M),ne=Rf(B,L.mode,ne),ne.return=L,L=ne),v(L)):a(L,M)}return function(L,M,B,ne){try{ol=0;var pe=We(L,M,B,ne);return Ca=null,pe}catch(ye){if(ye===Wo||ye===ec)throw ye;var Oe=vn(29,ye,null,L.mode);return Oe.lanes=ne,Oe.return=L,Oe}finally{}}}var Na=wy(!0),Ry=wy(!1),Ln=q(null),di=null;function Tr(t){var i=t.alternate;Z(Dt,Dt.current&1),Z(Ln,t),di===null&&(i===null||Sa.current!==null||i.memoizedState!==null)&&(di=t)}function Iy(t){if(t.tag===22){if(Z(Dt,Dt.current),Z(Ln,t),di===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(di=t)}}else Ar()}function Ar(){Z(Dt,Dt.current),Z(Ln,Ln.current)}function Gi(t){ae(Ln),di===t&&(di=null),ae(Dt)}var Dt=q(0);function dc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$d(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ad(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var od={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=bn(),h=_r(l);h.payload=i,a!=null&&(h.callback=a),i=vr(t,h,l),i!==null&&(Sn(i,t,l),el(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=bn(),h=_r(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=vr(t,h,l),i!==null&&(Sn(i,t,l),el(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),l=_r(a);l.tag=2,i!=null&&(l.callback=i),i=vr(t,l,a),i!==null&&(Sn(i,t,a),el(i,t,a))}};function Cy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Fo(a,l)||!Fo(h,d):!0}function Ny(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&od.enqueueReplaceState(i,i.state,null)}function ks(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var mc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function xy(t){mc(t)}function Dy(t){console.error(t)}function Oy(t){mc(t)}function pc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function My(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ld(t,i,a){return a=_r(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,i)},a}function ky(t){return t=_r(t),t.tag=3,t}function Vy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){My(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){My(i,a,l),typeof h!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Db(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&$o(i,a,h,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return di===null?Od():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Lf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),kd(t,l,h)),!1;case 22:return a.flags|=65536,l===Lf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),kd(t,l,h)),!1}throw Error(s(435,a.tag))}return kd(t,l,h),Od(),!1}if(He)return i=Ln.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==xf&&(t=Error(s(422),{cause:l}),Yo(Mn(t,a)))):(l!==xf&&(i=Error(s(423),{cause:l}),Yo(Mn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Mn(l,a),h=ld(t.stateNode,l,h),Bf(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),pl===null?pl=[d]:pl.push(d),dt!==4&&(dt=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ld(a.stateNode,l,t),Bf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Cr===null||!Cr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ky(h),Vy(h,t,a,l),Bf(a,h),!1}a=a.return}while(a!==null);return!1}var Py=Error(s(461)),Pt=!1;function Ht(t,i,a,l){i.child=t===null?Ry(i,null,a,l):Na(i,t.child,a,l)}function Ly(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ds(i),l=Gf(t,i,a,v,d,h),T=Qf(),t!==null&&!Pt?(Kf(t,i,h),Qi(t,i,h)):(He&&T&&Cf(i),i.flags|=1,Ht(t,i,l,h),i.child)}function Uy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!wf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,jy(t,i,d,l,h)):(t=Yu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!gd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(v,l)&&t.ref===i.ref)return Qi(t,i,h)}return i.flags|=1,t=ji(d,l),t.ref=i.ref,t.return=i,i.child=t}function jy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Fo(d,l)&&t.ref===i.ref)if(Pt=!1,i.pendingProps=l=d,gd(t,h))(t.flags&131072)!==0&&(Pt=!0);else return i.lanes=t.lanes,Qi(t,i,h)}return ud(t,i,a,l,h)}function By(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return zy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ju(i,d!==null?d.cachePool:null),d!==null?jg(i,d):qf(),Iy(i);else return i.lanes=i.childLanes=536870912,zy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ju(i,d.cachePool),jg(i,d),Ar(),i.memoizedState=null):(t!==null&&Ju(i,null),qf(),Ar());return Ht(t,i,h,a),i.child}function zy(t,i,a,l){var h=Pf();return h=h===null?null:{parent:xt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Ju(i,null),qf(),Iy(i),t!==null&&$o(t,i,l,!0),null}function gc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ud(t,i,a,l,h){return Ds(i),a=Gf(t,i,a,l,void 0,h),l=Qf(),t!==null&&!Pt?(Kf(t,i,h),Qi(t,i,h)):(He&&l&&Cf(i),i.flags|=1,Ht(t,i,a,h),i.child)}function qy(t,i,a,l,h,d){return Ds(i),i.updateQueue=null,a=zg(i,l,a,h),Bg(t),l=Qf(),t!==null&&!Pt?(Kf(t,i,d),Qi(t,i,d)):(He&&l&&Cf(i),i.flags|=1,Ht(t,i,a,d),i.child)}function Hy(t,i,a,l,h){if(Ds(i),i.stateNode===null){var d=va,v=a.contextType;typeof v=="object"&&v!==null&&(d=Jt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=od,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Uf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Jt(v):va,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ad(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&od.enqueueReplaceState(d,d.state,null),nl(i,l,d,h),tl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,N=ks(a,T);d.props=N;var H=d.context,J=a.contextType;v=va,typeof J=="object"&&J!==null&&(v=Jt(J));var re=a.getDerivedStateFromProps;J=typeof re=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==v)&&Ny(i,d,l,v),yr=!1;var Q=i.memoizedState;d.state=Q,nl(i,l,d,h),tl(),H=i.memoizedState,T||Q!==H||yr?(typeof re=="function"&&(ad(i,a,re,l),H=i.memoizedState),(N=yr||Cy(i,a,N,l,Q,H,v))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,jf(t,i),v=i.memoizedProps,J=ks(a,v),d.props=J,re=i.pendingProps,Q=d.context,H=a.contextType,N=va,typeof H=="object"&&H!==null&&(N=Jt(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==re||Q!==N)&&Ny(i,d,l,N),yr=!1,Q=i.memoizedState,d.state=Q,nl(i,l,d,h),tl();var Y=i.memoizedState;v!==re||Q!==Y||yr||t!==null&&t.dependencies!==null&&Zu(t.dependencies)?(typeof T=="function"&&(ad(i,a,T,l),Y=i.memoizedState),(J=yr||Cy(i,a,J,l,Q,Y,N)||t!==null&&t.dependencies!==null&&Zu(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=N,l=J):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,gc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Na(i,t.child,null,h),i.child=Na(i,null,a,h)):Ht(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Qi(t,i,h),t}function Fy(t,i,a,l){return Ko(),i.flags|=256,Ht(t,i,a,l),i.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hd(t){return{baseLanes:t,cachePool:Dg()}}function fd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Un),t}function Gy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?Tr(i):Ar(),He){var T=ft,N;if(N=T){e:{for(N=T,T=fi;N.nodeType!==8;){if(!T){T=null;break e}if(N=Qn(N.nextSibling),N===null){T=null;break e}}T=N}T!==null?(i.memoizedState={dehydrated:T,treeContext:Rs!==null?{id:Bi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},N=vn(18,null,null,0),N.stateNode=T,N.return=i,i.child=N,ln=i,ft=null,N=!0):N=!1}N||Ns(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return $d(T)?i.lanes=32:i.lanes=536870912,null;Gi(i)}return T=l.children,l=l.fallback,h?(Ar(),h=i.mode,T=yc({mode:"hidden",children:T},h),l=ws(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=hd(a),h.childLanes=fd(t,v,a),i.memoizedState=cd,l):(Tr(i),dd(i,T))}if(N=t.memoizedState,N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(Tr(i),i.flags&=-257,i=md(t,i,a)):i.memoizedState!==null?(Ar(),i.child=t.child,i.flags|=128,i=null):(Ar(),h=l.fallback,T=i.mode,l=yc({mode:"visible",children:l.children},T),h=ws(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Na(i,t.child,null,a),l=i.child,l.memoizedState=hd(a),l.childLanes=fd(t,v,a),i.memoizedState=cd,i=h);else if(Tr(i),$d(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(s(419)),l.stack="",l.digest=v,Yo({value:l,source:null,stack:null}),i=md(t,i,a)}else if(Pt||$o(t,i,a,!1),v=(a&t.childLanes)!==0,Pt||v){if(v=nt,v!==null&&(l=a&-a,l=(l&42)!==0?1:ur(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,_a(t,l),Sn(v,t,l),Py;T.data==="$?"||Od(),i=md(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,ft=Qn(T.nextSibling),ln=i,He=!0,Cs=null,fi=!1,t!==null&&(Vn[Pn++]=Bi,Vn[Pn++]=zi,Vn[Pn++]=Rs,Bi=t.id,zi=t.overflow,Rs=i),i=dd(i,l.children),i.flags|=4096);return i}return h?(Ar(),h=l.fallback,T=i.mode,N=t.child,H=N.sibling,l=ji(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?h=ji(H,h):(h=ws(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=hd(a):(N=T.cachePool,N!==null?(H=xt._currentValue,N=N.parent!==H?{parent:H,pool:H}:N):N=Dg(),T={baseLanes:T.baseLanes|a,cachePool:N}),h.memoizedState=T,h.childLanes=fd(t,v,a),i.memoizedState=cd,l):(Tr(i),a=t.child,t=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function dd(t,i){return i=yc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function yc(t,i){return t=vn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function md(t,i,a){return Na(i,t.child,null,a),t=dd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Qy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Of(t.return,i,a)}function pd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Ky(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ht(t,i,l.children,a),l=Dt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qy(t,a,i);else if(t.tag===19)Qy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Z(Dt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&dc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),pd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&dc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}pd(i,!0,a,null,d);break;case"together":pd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Qi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ir|=i.lanes,(a&i.childLanes)===0)if(t!==null){if($o(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ji(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ji(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function gd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Zu(t)))}function Ob(t,i,a){switch(i.tag){case 3:De(i,i.stateNode.containerInfo),gr(i,xt,t.memoizedState.cache),Ko();break;case 27:case 5:Rt(i);break;case 4:De(i,i.stateNode.containerInfo);break;case 10:gr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Tr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Gy(t,i,a):(Tr(i),t=Qi(t,i,a),t!==null?t.sibling:null);Tr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||($o(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ky(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z(Dt,Dt.current),l)break;return null;case 22:case 23:return i.lanes=0,By(t,i,a);case 24:gr(i,xt,t.memoizedState.cache)}return Qi(t,i,a)}function Yy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pt=!0;else{if(!gd(t,a)&&(i.flags&128)===0)return Pt=!1,Ob(t,i,a);Pt=(t.flags&131072)!==0}else Pt=!1,He&&(i.flags&1048576)!==0&&Sg(i,Xu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")wf(l)?(t=ks(l,t),i.tag=1,i=Hy(null,i,l,t,a)):(i.tag=0,i=ud(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===he){i.tag=11,i=Ly(null,i,l,t,a);break e}else if(h===O){i.tag=14,i=Uy(null,i,l,t,a);break e}}throw i=ot(l)||l,Error(s(306,i,""))}}return i;case 0:return ud(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ks(l,i.pendingProps),Hy(t,i,l,h,a);case 3:e:{if(De(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,jf(t,i),nl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,gr(i,xt,l),l!==d.cache&&Mf(i,[xt],a,!0),tl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Fy(t,i,l,a);break e}else if(l!==h){h=Mn(Error(s(424)),i),Yo(h),i=Fy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=Qn(t.firstChild),ln=i,He=!0,Cs=null,fi=!0,a=Ry(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ko(),l===h){i=Qi(t,i,a);break e}Ht(t,i,l,a)}i=i.child}return i;case 26:return gc(t,i),t===null?(a=W_(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,l=Dc(ge.current).createElement(a),l[It]=i,l[Et]=t,Gt(l,a,t),pt(l),i.stateNode=l):i.memoizedState=W_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Rt(i),t===null&&He&&(l=i.stateNode=$_(i.type,i.pendingProps,ge.current),ln=i,fi=!0,h=ft,Dr(i.type)?(Xd=h,ft=Qn(l.firstChild)):ft=h),Ht(t,i,i.pendingProps.children,a),gc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((h=l=ft)&&(l=aS(l,i.type,i.pendingProps,fi),l!==null?(i.stateNode=l,ln=i,ft=Qn(l.firstChild),fi=!1,h=!0):h=!1),h||Ns(i)),Rt(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Qd(h,d)?l=null:v!==null&&Qd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Gf(t,i,Sb,null,null,a),Sl._currentValue=h),gc(t,i),Ht(t,i,l,a),i.child;case 6:return t===null&&He&&((t=a=ft)&&(a=oS(a,i.pendingProps,fi),a!==null?(i.stateNode=a,ln=i,ft=null,t=!0):t=!1),t||Ns(i)),null;case 13:return Gy(t,i,a);case 4:return De(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Na(i,null,l,a):Ht(t,i,l,a),i.child;case 11:return Ly(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,gr(i,i.type,l.value),Ht(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ds(i),h=Jt(h),l=l(h),i.flags|=1,Ht(t,i,l,a),i.child;case 14:return Uy(t,i,i.type,i.pendingProps,a);case 15:return jy(t,i,i.type,i.pendingProps,a);case 19:return Ky(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=yc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ji(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return By(t,i,a);case 24:return Ds(i),l=Jt(xt),t===null?(h=Pf(),h===null&&(h=nt,d=kf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Uf(i),gr(i,xt,h)):((t.lanes&a)!==0&&(jf(t,i),nl(i,null,null,a),tl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),gr(i,xt,l)):(l=d.cache,gr(i,xt,l),l!==h.cache&&Mf(i,[xt],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ki(t){t.flags|=4}function $y(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!iv(i)){if(i=Ln.current,i!==null&&((je&4194048)===je?di!==null:(je&62914560)!==je&&(je&536870912)===0||i!==di))throw Jo=Lf,Og;t.flags|=8192}}function _c(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ro():536870912,t.lanes|=i,Ma|=i)}function ul(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Mb(t,i,a){var l=i.pendingProps;switch(Nf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(xt),vt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qo(i)?Ki(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ig())),lt(i),null;case 26:return a=i.memoizedState,t===null?(Ki(i),a!==null?(lt(i),$y(i,a)):(lt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Ki(i),lt(i),$y(i,a)):(lt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Ki(i),lt(i),i.flags&=-16777217),null;case 27:Zt(i),a=ge.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}t=me.current,Qo(i)?wg(i):(t=$_(h,l,a),i.stateNode=t,Ki(i))}return lt(i),null;case 5:if(Zt(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(t=me.current,Qo(i))wg(i);else{switch(h=Dc(ge.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[It]=i,t[Et]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Gt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ki(i)}}return lt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ki(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ge.current,Qo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||q_(t.nodeValue,a)),t||Ns(i)}else t=Dc(t).createTextNode(l),t[It]=i,i.stateNode=t}return lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Qo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=i}else Ko(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),h=!1}else h=Ig(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Gi(i),i):(Gi(i),null)}if(Gi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),_c(i,i.updateQueue),lt(i),null;case 4:return vt(),t===null&&zd(i.stateNode.containerInfo),lt(i),null;case 10:return Hi(i.type),lt(i),null;case 19:if(ae(Dt),h=i.memoizedState,h===null)return lt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)ul(h,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=dc(t),d!==null){for(i.flags|=128,ul(h,!1),t=d.updateQueue,i.updateQueue=t,_c(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)bg(a,t),a=a.sibling;return Z(Dt,Dt.current&1|2),i.child}t=t.sibling}h.tail!==null&&In()>Tc&&(i.flags|=128,l=!0,ul(h,!1),i.lanes=4194304)}else{if(!l)if(t=dc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,_c(i,t),ul(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!He)return lt(i),null}else 2*In()-h.renderingStartTime>Tc&&a!==536870912&&(i.flags|=128,l=!0,ul(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=In(),i.sibling=null,t=Dt.current,Z(Dt,l?t&1|2:t&1),i):(lt(i),null);case 22:case 23:return Gi(i),Hf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&_c(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ae(Os),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(xt),lt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function kb(t,i){switch(Nf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Hi(xt),vt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Zt(i),null;case 13:if(Gi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ko()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ae(Dt),null;case 4:return vt(),null;case 10:return Hi(i.type),null;case 22:case 23:return Gi(i),Hf(),t!==null&&ae(Os),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Hi(xt),null;case 25:return null;default:return null}}function Xy(t,i){switch(Nf(i),i.tag){case 3:Hi(xt),vt();break;case 26:case 27:case 5:Zt(i);break;case 4:vt();break;case 13:Gi(i);break;case 19:ae(Dt);break;case 10:Hi(i.type);break;case 22:case 23:Gi(i),Hf(),t!==null&&ae(Os);break;case 24:Hi(xt)}}function cl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Je(i,i.return,T)}}function br(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var N=a,H=T;try{H()}catch(J){Je(h,N,J)}}}l=l.next}while(l!==d)}}catch(J){Je(i,i.return,J)}}function Zy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ug(i,a)}catch(l){Je(t,t.return,l)}}}function Wy(t,i,a){a.props=ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function hl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,i,h)}}function mi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function Jy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function yd(t,i,a){try{var l=t.stateNode;tS(l,t.type,a,i),l[Et]=i}catch(h){Je(t,t.return,h)}}function e_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Dr(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Dr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=xc));else if(l!==4&&(l===27&&Dr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(vd(t,i,a),t=t.sibling;t!==null;)vd(t,i,a),t=t.sibling}function vc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Dr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vc(t,i,a),t=t.sibling;t!==null;)vc(t,i,a),t=t.sibling}function t_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[It]=t,i[Et]=a}catch(d){Je(t,t.return,d)}}var Yi=!1,yt=!1,Ed=!1,n_=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function Vb(t,i){if(t=t.containerInfo,Fd=Lc,t=dg(t),_f(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,N=-1,H=0,J=0,re=t,Q=null;t:for(;;){for(var Y;re!==a||h!==0&&re.nodeType!==3||(T=v+h),re!==d||l!==0&&re.nodeType!==3||(N=v+l),re.nodeType===3&&(v+=re.nodeValue.length),(Y=re.firstChild)!==null;)Q=re,re=Y;for(;;){if(re===t)break t;if(Q===a&&++H===h&&(T=v),Q===d&&++J===l&&(N=v),(Y=re.nextSibling)!==null)break;re=Q,Q=re.parentNode}re=Y}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gd={focusedElem:t,selectionRange:a},Lc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Re=ks(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Re,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){Je(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Yd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}}function i_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Sr(t,a),l&4&&cl(5,a);break;case 1:if(Sr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Je(a,a.return,v)}else{var h=ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}l&64&&Zy(a),l&512&&hl(a,a.return);break;case 3:if(Sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ug(t,i)}catch(v){Je(a,a.return,v)}}break;case 27:i===null&&l&4&&t_(a);case 26:case 5:Sr(t,a),i===null&&l&4&&Jy(a),l&512&&hl(a,a.return);break;case 12:Sr(t,a);break;case 13:Sr(t,a),l&4&&a_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Fb.bind(null,a),lS(t,a))));break;case 22:if(l=a.memoizedState!==null||Yi,!l){i=i!==null&&i.memoizedState!==null||yt,h=Yi;var d=yt;Yi=l,(yt=i)&&!d?wr(t,a,(a.subtreeFlags&8772)!==0):Sr(t,a),Yi=h,yt=d}break;case 30:break;default:Sr(t,a)}}function r_(t){var i=t.alternate;i!==null&&(t.alternate=null,r_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&fr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,dn=!1;function $i(t,i,a){for(a=a.child;a!==null;)s_(t,i,a),a=a.sibling}function s_(t,i,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:yt||mi(a,i),$i(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||mi(a,i);var l=st,h=dn;Dr(a.type)&&(st=a.stateNode,dn=!1),$i(t,i,a),El(a.stateNode),st=l,dn=h;break;case 5:yt||mi(a,i);case 6:if(l=st,h=dn,st=null,$i(t,i,a),st=l,dn=h,st!==null)if(dn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{st.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:st!==null&&(dn?(t=st,K_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):K_(st,a.stateNode));break;case 4:l=st,h=dn,st=a.stateNode.containerInfo,dn=!0,$i(t,i,a),st=l,dn=h;break;case 0:case 11:case 14:case 15:yt||br(2,a,i),yt||br(4,a,i),$i(t,i,a);break;case 1:yt||(mi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Wy(a,i,l)),$i(t,i,a);break;case 21:$i(t,i,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,$i(t,i,a),yt=l;break;default:$i(t,i,a)}}function a_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){Je(i,i.return,a)}}function Pb(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new n_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new n_),i;default:throw Error(s(435,t.tag))}}function Td(t,i){var a=Pb(t);i.forEach(function(l){var h=Gb.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function En(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Dr(T.type)){st=T.stateNode,dn=!1;break e}break;case 5:st=T.stateNode,dn=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(st===null)throw Error(s(160));s_(d,v,h),st=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)o_(i,t),i=i.sibling}var Gn=null;function o_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(i,t),Tn(t),l&4&&(br(3,t,t.return),cl(3,t),br(5,t,t.return));break;case 1:En(i,t),Tn(t),l&512&&(yt||a===null||mi(a,a.return)),l&64&&Yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Gn;if(En(i,t),Tn(t),l&512&&(yt||a===null||mi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[us]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[It]=t,pt(d),l=d;break e;case"link":var v=tv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=tv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,pt(d),l=d}t.stateNode=l}else nv(h,t.type,t.stateNode);else t.stateNode=ev(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?nv(h,t.type,t.stateNode):ev(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(i,t),Tn(t),l&512&&(yt||a===null||mi(a,a.return)),a!==null&&l&4&&yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(i,t),Tn(t),l&512&&(yt||a===null||mi(a,a.return)),t.flags&32){h=t.stateNode;try{Nn(h,"")}catch(Y){Je(t,t.return,Y)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ed=!0);break;case 6:if(En(i,t),Tn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Y){Je(t,t.return,Y)}}break;case 3:if(kc=null,h=Gn,Gn=Oc(i.containerInfo),En(i,t),Gn=h,Tn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(i.containerInfo)}catch(Y){Je(t,t.return,Y)}Ed&&(Ed=!1,l_(t));break;case 4:l=Gn,Gn=Oc(t.stateNode.containerInfo),En(i,t),Tn(t),Gn=l;break;case 12:En(i,t),Tn(t);break;case 13:En(i,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Id=In()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Td(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=Yi,J=yt;if(Yi=H||h,yt=J||N,En(i,t),yt=J,Yi=H,Tn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Yi||yt||Vs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=N.stateNode;var re=N.memoizedProps.style,Q=re!=null&&re.hasOwnProperty("display")?re.display:null;T.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Y){Je(N,N.return,Y)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(Y){Je(N,N.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Td(t,a))));break;case 19:En(i,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Td(t,l)));break;case 30:break;case 21:break;default:En(i,t),Tn(t)}}function Tn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(e_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=_d(t);vc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Nn(v,""),a.flags&=-33);var T=_d(t);vc(t,T,v);break;case 3:case 4:var N=a.stateNode.containerInfo,H=_d(t);vd(t,H,N);break;default:throw Error(s(161))}}catch(J){Je(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function l_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;l_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Sr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)i_(t,i.alternate,i),i=i.sibling}function Vs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:br(4,i,i.return),Vs(i);break;case 1:mi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Wy(i,i.return,a),Vs(i);break;case 27:El(i.stateNode);case 26:case 5:mi(i,i.return),Vs(i);break;case 22:i.memoizedState===null&&Vs(i);break;case 30:Vs(i);break;default:Vs(i)}t=t.sibling}}function wr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:wr(h,d,a),cl(4,d);break;case 1:if(wr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Je(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Lg(N[h],T)}catch(H){Je(l,l.return,H)}}a&&v&64&&Zy(d),hl(d,d.return);break;case 27:t_(d);case 26:case 5:wr(h,d,a),a&&l===null&&v&4&&Jy(d),hl(d,d.return);break;case 12:wr(h,d,a);break;case 13:wr(h,d,a),a&&v&4&&a_(h,d);break;case 22:d.memoizedState===null&&wr(h,d,a),hl(d,d.return);break;case 30:break;default:wr(h,d,a)}i=i.sibling}}function Ad(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xo(a))}function bd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Xo(t))}function pi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)u_(t,i,a,l),i=i.sibling}function u_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:pi(t,i,a,l),h&2048&&cl(9,i);break;case 1:pi(t,i,a,l);break;case 3:pi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){pi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Je(i,i.return,N)}}else pi(t,i,a,l);break;case 13:pi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?pi(t,i,a,l):fl(t,i):d._visibility&2?pi(t,i,a,l):(d._visibility|=2,xa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Ad(v,i);break;case 24:pi(t,i,a,l),h&2048&&bd(i.alternate,i);break;default:pi(t,i,a,l)}}function xa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,N=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:xa(d,v,T,N,h),cl(8,v);break;case 23:break;case 22:var J=v.stateNode;v.memoizedState!==null?J._visibility&2?xa(d,v,T,N,h):fl(d,v):(J._visibility|=2,xa(d,v,T,N,h)),h&&H&2048&&Ad(v.alternate,v);break;case 24:xa(d,v,T,N,h),h&&H&2048&&bd(v.alternate,v);break;default:xa(d,v,T,N,h)}i=i.sibling}}function fl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:fl(a,l),h&2048&&Ad(l.alternate,l);break;case 24:fl(a,l),h&2048&&bd(l.alternate,l);break;default:fl(a,l)}i=i.sibling}}var dl=8192;function Da(t){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)c_(t),t=t.sibling}function c_(t){switch(t.tag){case 26:Da(t),t.flags&dl&&t.memoizedState!==null&&TS(Gn,t.memoizedState,t.memoizedProps);break;case 5:Da(t);break;case 3:case 4:var i=Gn;Gn=Oc(t.stateNode.containerInfo),Da(t),Gn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=dl,dl=16777216,Da(t),dl=i):Da(t));break;default:Da(t)}}function h_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,d_(l,t)}h_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)f_(t),t=t.sibling}function f_(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&br(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ec(t)):ml(t);break;default:ml(t)}}function Ec(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,d_(l,t)}h_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:br(8,i,i.return),Ec(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(i));break;default:Ec(i)}t=t.sibling}}function d_(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(r_(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}var Lb={getCacheForType:function(t){var i=Jt(xt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},Ub=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,Me=null,je=0,Ye=0,An=null,Rr=!1,Oa=!1,Sd=!1,Xi=0,dt=0,Ir=0,Ps=0,wd=0,Un=0,Ma=0,pl=null,mn=null,Rd=!1,Id=0,Tc=1/0,Ac=null,Cr=null,Ft=0,Nr=null,ka=null,Va=0,Cd=0,Nd=null,m_=null,gl=0,xd=null;function bn(){if((Ke&2)!==0&&je!==0)return je&-je;if(W.T!==null){var t=Aa;return t!==0?t:Ld()}return cr()}function p_(){Un===0&&(Un=(je&536870912)===0||He?wo():536870912);var t=Ln.current;return t!==null&&(t.flags|=32),Un}function Sn(t,i,a){(t===nt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Pa(t,0),xr(t,je,Un,!1)),Ci(t,a),((Ke&2)===0||t!==nt)&&(t===nt&&((Ke&2)===0&&(Ps|=a),dt===4&&xr(t,je,Un,!1)),gi(t))}function g_(t,i,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||ls(t,i),h=l?zb(t,i):Md(t,i,!0),d=l;do{if(h===0){Oa&&!l&&xr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!jb(a)){h=Md(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=pl;var N=T.current.memoizedState.isDehydrated;if(N&&(Pa(T,v).flags|=256),v=Md(T,v,!1),v!==2){if(Sd&&!N){T.errorRecoveryDisabledLanes|=d,Ps|=d,h=4;break e}d=mn,mn=h,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Pa(t,0),xr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:xr(l,i,Un,!Rr);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Id+300-In(),10<h)){if(xr(l,i,Un,!Rr),Js(l,0,!0)!==0)break e;l.timeoutHandle=G_(y_.bind(null,l,a,mn,Ac,Rd,i,Un,Ps,Ma,Rr,d,2,-0,0),h);break e}y_(l,a,mn,Ac,Rd,i,Un,Ps,Ma,Rr,d,0,-0,0)}}break}while(!0);gi(t)}function y_(t,i,a,l,h,d,v,T,N,H,J,re,Q,Y){if(t.timeoutHandle=-1,re=i.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:ES},c_(i),re=AS(),re!==null)){t.cancelPendingCommit=re(S_.bind(null,t,i,d,a,l,h,v,T,N,J,1,Q,Y)),xr(t,d,v,!H);return}S_(t,i,d,a,l,h,v,T,N)}function jb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xr(t,i,a,l){i&=~wd,i&=~Ps,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Wt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ti(t,a,i)}function bc(){return(Ke&6)===0?(yl(0),!1):!0}function Dd(){if(Me!==null){if(Ye===0)var t=Me.return;else t=Me,qi=xs=null,Yf(t),Ca=null,ol=0,t=Me;for(;t!==null;)Xy(t.alternate,t),t=t.return;Me=null}}function Pa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,iS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Dd(),nt=t,Me=a=ji(t.current,null),je=i,Ye=0,An=null,Rr=!1,Oa=ls(t,i),Sd=!1,Ma=Un=wd=Ps=Ir=dt=0,mn=pl=null,Rd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Wt(l),d=1<<h;i|=t[h],l&=~d}return Xi=i,Gu(),a}function __(t,i){Ne=null,W.H=cc,i===Wo||i===ec?(i=Vg(),Ye=3):i===Og?(i=Vg(),Ye=4):Ye=i===Py?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Me===null&&(dt=1,pc(t,Mn(i,t.current)))}function v_(){var t=W.H;return W.H=cc,t===null?cc:t}function E_(){var t=W.A;return W.A=Lb,t}function Od(){dt=4,Rr||(je&4194048)!==je&&Ln.current!==null||(Oa=!0),(Ir&134217727)===0&&(Ps&134217727)===0||nt===null||xr(nt,je,Un,!1)}function Md(t,i,a){var l=Ke;Ke|=2;var h=v_(),d=E_();(nt!==t||je!==i)&&(Ac=null,Pa(t,i)),i=!1;var v=dt;e:do try{if(Ye!==0&&Me!==null){var T=Me,N=An;switch(Ye){case 8:Dd(),v=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(i=!0);var H=Ye;if(Ye=0,An=null,La(t,T,N,H),a&&Oa){v=0;break e}break;default:H=Ye,Ye=0,An=null,La(t,T,N,H)}}Bb(),v=dt;break}catch(J){__(t,J)}while(!0);return i&&t.shellSuspendCounter++,qi=xs=null,Ke=l,W.H=h,W.A=d,Me===null&&(nt=null,je=0,Gu()),v}function Bb(){for(;Me!==null;)T_(Me)}function zb(t,i){var a=Ke;Ke|=2;var l=v_(),h=E_();nt!==t||je!==i?(Ac=null,Tc=In()+500,Pa(t,i)):Oa=ls(t,i);e:do try{if(Ye!==0&&Me!==null){i=Me;var d=An;t:switch(Ye){case 1:Ye=0,An=null,La(t,i,d,1);break;case 2:case 9:if(Mg(d)){Ye=0,An=null,A_(i);break}i=function(){Ye!==2&&Ye!==9||nt!==t||(Ye=7),gi(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Mg(d)?(Ye=0,An=null,A_(i)):(Ye=0,An=null,La(t,i,d,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var T=Me;if(!v||iv(v)){Ye=0,An=null;var N=T.sibling;if(N!==null)Me=N;else{var H=T.return;H!==null?(Me=H,Sc(H)):Me=null}break t}}Ye=0,An=null,La(t,i,d,5);break;case 6:Ye=0,An=null,La(t,i,d,6);break;case 8:Dd(),dt=6;break e;default:throw Error(s(462))}}qb();break}catch(J){__(t,J)}while(!0);return qi=xs=null,W.H=l,W.A=h,Ke=a,Me!==null?0:(nt=null,je=0,Gu(),dt)}function qb(){for(;Me!==null&&!Ri();)T_(Me)}function T_(t){var i=Yy(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,i===null?Sc(t):Me=i}function A_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=qy(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=qy(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Yf(i);default:Xy(a,i),i=Me=bg(i,Xi),i=Yy(a,i,Xi)}t.memoizedProps=t.pendingProps,i===null?Sc(t):Me=i}function La(t,i,a,l){qi=xs=null,Yf(i),Ca=null,ol=0;var h=i.return;try{if(Db(t,h,i,a,je)){dt=1,pc(t,Mn(a,t.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;dt=1,pc(t,Mn(a,t.current)),Me=null;return}i.flags&32768?(He||l===1?t=!0:Oa||(je&536870912)!==0?t=!1:(Rr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),b_(i,t)):Sc(i)}function Sc(t){var i=t;do{if((i.flags&32768)!==0){b_(i,Rr);return}t=i.return;var a=Mb(i.alternate,i,Xi);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);dt===0&&(dt=5)}function b_(t,i){do{var a=kb(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);dt=6,Me=null}function S_(t,i,a,l,h,d,v,T,N){t.cancelPendingCommit=null;do wc();while(Ft!==0);if((Ke&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=bf,Io(t,a,d,v,T,N),t===nt&&(Me=nt=null,je=0),ka=i,Nr=t,Va=a,Cd=d,Nd=h,m_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Qb(rs,function(){return N_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=ue.p,ue.p=2,v=Ke,Ke|=4;try{Vb(t,i,a)}finally{Ke=v,ue.p=h,W.T=l}}Ft=1,w_(),R_(),I_()}}function w_(){if(Ft===1){Ft=0;var t=Nr,i=ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var h=Ke;Ke|=4;try{o_(i,t);var d=Gd,v=dg(t.containerInfo),T=d.focusedElem,N=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&fg(T.ownerDocument.documentElement,T)){if(N!==null&&_f(T)){var H=N.start,J=N.end;if(J===void 0&&(J=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(J,T.value.length);else{var re=T.ownerDocument||document,Q=re&&re.defaultView||window;if(Q.getSelection){var Y=Q.getSelection(),Re=T.textContent.length,Ae=Math.min(N.start,Re),We=N.end===void 0?Ae:Math.min(N.end,Re);!Y.extend&&Ae>We&&(v=We,We=Ae,Ae=v);var L=hg(T,Ae),M=hg(T,We);if(L&&M&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var B=re.createRange();B.setStart(L.node,L.offset),Y.removeAllRanges(),Ae>We?(Y.addRange(B),Y.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),Y.addRange(B))}}}}for(re=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&re.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<re.length;T++){var ne=re[T];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Lc=!!Fd,Gd=Fd=null}finally{Ke=h,ue.p=l,W.T=a}}t.current=i,Ft=2}}function R_(){if(Ft===2){Ft=0;var t=Nr,i=ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var h=Ke;Ke|=4;try{i_(t,i.alternate,i)}finally{Ke=h,ue.p=l,W.T=a}}Ft=3}}function I_(){if(Ft===4||Ft===3){Ft=0,Eu();var t=Nr,i=ka,a=Va,l=m_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ft=5:(Ft=0,ka=Nr=null,C_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Cr=null),ea(a),i=i.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ht,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,h=ue.p,ue.p=2,W.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{W.T=i,ue.p=h}}(Va&3)!==0&&wc(),gi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===xd?gl++:(gl=0,xd=t):gl=0,yl(0)}}function C_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Xo(i)))}function wc(t){return w_(),R_(),I_(),N_()}function N_(){if(Ft!==5)return!1;var t=Nr,i=Cd;Cd=0;var a=ea(Va),l=W.T,h=ue.p;try{ue.p=32>a?32:a,W.T=null,a=Nd,Nd=null;var d=Nr,v=Va;if(Ft=0,ka=Nr=null,Va=0,(Ke&6)!==0)throw Error(s(331));var T=Ke;if(Ke|=4,f_(d.current),u_(d,d.current,v,a),Ke=T,yl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ht,d)}catch{}return!0}finally{ue.p=h,W.T=l,C_(t,i)}}function x_(t,i,a){i=Mn(a,i),i=ld(t.stateNode,i,2),t=vr(t,i,2),t!==null&&(Ci(t,2),gi(t))}function Je(t,i,a){if(t.tag===3)x_(t,t,a);else for(;i!==null;){if(i.tag===3){x_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Cr===null||!Cr.has(l))){t=Mn(a,t),a=ky(2),l=vr(i,a,2),l!==null&&(Vy(a,l,i,t),Ci(l,2),gi(l));break}}i=i.return}}function kd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Ub;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Sd=!0,h.add(a),t=Hb.bind(null,t,i,a),i.then(t,t))}function Hb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(je&a)===a&&(dt===4||dt===3&&(je&62914560)===je&&300>In()-Id?(Ke&2)===0&&Pa(t,0):wd|=a,Ma===je&&(Ma=0)),gi(t)}function D_(t,i){i===0&&(i=Ro()),t=_a(t,i),t!==null&&(Ci(t,i),gi(t))}function Fb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),D_(t,a)}function Gb(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),D_(t,a)}function Qb(t,i){return Jn(t,i)}var Rc=null,Ua=null,Vd=!1,Ic=!1,Pd=!1,Ls=0;function gi(t){t!==Ua&&t.next===null&&(Ua===null?Rc=Ua=t:Ua=Ua.next=t),Ic=!0,Vd||(Vd=!0,Yb())}function yl(t,i){if(!Pd&&Ic){Pd=!0;do for(var a=!1,l=Rc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Wt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,V_(l,d))}else d=je,d=Js(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ls(l,d)||(a=!0,V_(l,d));l=l.next}while(a);Pd=!1}}function Kb(){O_()}function O_(){Ic=Vd=!1;var t=0;Ls!==0&&(nS()&&(t=Ls),Ls=0);for(var i=In(),a=null,l=Rc;l!==null;){var h=l.next,d=M_(l,i);d===0?(l.next=null,a===null?Rc=h:a.next=h,h===null&&(Ua=a)):(a=l,(t!==0||(d&3)!==0)&&(Ic=!0)),l=h}yl(t)}function M_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Wt(d),T=1<<v,N=h[v];N===-1?((T&a)===0||(T&l)!==0)&&(h[v]=So(T,i)):N<=i&&(t.expiredLanes|=T),d&=~T}if(i=nt,a=je,a=Js(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ei(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ls(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ei(l),ea(a)){case 2:case 8:a=Zs;break;case 32:a=rs;break;case 268435456:a=Ws;break;default:a=rs}return l=k_.bind(null,t),a=Jn(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ei(l),t.callbackPriority=2,t.callbackNode=null,2}function k_(t,i){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wc()&&t.callbackNode!==a)return null;var l=je;return l=Js(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(g_(t,l,i),M_(t,In()),t.callbackNode!=null&&t.callbackNode===a?k_.bind(null,t):null)}function V_(t,i){if(wc())return null;g_(t,i,!0)}function Yb(){rS(function(){(Ke&6)!==0?Jn(Ao,Kb):O_()})}function Ld(){return Ls===0&&(Ls=wo()),Ls}function P_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:aa(""+t)}function L_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function $b(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=P_((h[Et]||null).action),v=l.submitter;v&&(i=(i=v[Et]||null)?P_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new oa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ls!==0){var N=v?L_(h,v):new FormData(h);id(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=v?L_(h,v):new FormData(h),id(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Ud=0;Ud<Af.length;Ud++){var jd=Af[Ud],Xb=jd.toLowerCase(),Zb=jd[0].toUpperCase()+jd.slice(1);Fn(Xb,"on"+Zb)}Fn(gg,"onAnimationEnd"),Fn(yg,"onAnimationIteration"),Fn(_g,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(mb,"onTransitionRun"),Fn(pb,"onTransitionStart"),Fn(gb,"onTransitionCancel"),Fn(vg,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function U_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],N=T.instance,H=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(J){mc(J)}h.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(T=l[v],N=T.instance,H=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(J){mc(J)}h.currentTarget=null,d=N}}}}function ke(t,i){var a=i[No];a===void 0&&(a=i[No]=new Set);var l=t+"__bubble";a.has(l)||(j_(i,t,2,!1),a.add(l))}function Bd(t,i,a){var l=0;i&&(l|=4),j_(a,t,l,i)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function zd(t){if(!t[Cc]){t[Cc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(Wb.has(a)||Bd(a,!1,t),Bd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Cc]||(i[Cc]=!0,Bd("selectionchange",!1,i))}}function j_(t,i,a,l){switch(uv(i)){case 2:var h=wS;break;case 8:h=RS;break;default:h=tm}a=h.bind(null,i,a,t),h=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function qd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ni(T),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}T=T.parentNode}}l=l.return}xu(function(){var H=d,J=xn(a),re=[];e:{var Q=Eg.get(t);if(Q!==void 0){var Y=oa,Re=t;switch(t){case"keypress":if(oi(a)===0)break e;case"keydown":case"keyup":Y=da;break;case"focusin":Re="focus",Y=ca;break;case"focusout":Re="blur",Y=ca;break;case"beforeblur":case"afterblur":Y=ca;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Uu;break;case gg:case yg:case _g:Y=ha;break;case vg:Y=Bu;break;case"scroll":case"scrollend":Y=Du;break;case"wheel":Y=ma;break;case"copy":case"cut":case"paste":Y=fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=qo;break;case"toggle":case"beforetoggle":Y=qu}var Ae=(i&4)!==0,We=!Ae&&(t==="scroll"||t==="scrollend"),L=Ae?Q!==null?Q+"Capture":null:Q;Ae=[];for(var M=H,B;M!==null;){var ne=M;if(B=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||B===null||L===null||(ne=gs(M,L),ne!=null&&Ae.push(vl(M,ne,B))),We)break;M=M.return}0<Ae.length&&(Q=new Y(Q,Re,null,a,J),re.push({event:Q,listeners:Ae}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",Q&&a!==Mi&&(Re=a.relatedTarget||a.fromElement)&&(Ni(Re)||Re[Cn]))break e;if((Y||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,Y?(Re=a.relatedTarget||a.toElement,Y=H,Re=Re?Ni(Re):null,Re!==null&&(We=u(Re),Ae=Re.tag,Re!==We||Ae!==5&&Ae!==27&&Ae!==6)&&(Re=null)):(Y=null,Re=H),Y!==Re)){if(Ae=On,ne="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=qo,ne="onPointerLeave",L="onPointerEnter",M="pointer"),We=Y==null?Q:ii(Y),B=Re==null?Q:ii(Re),Q=new Ae(ne,M+"leave",Y,a,J),Q.target=We,Q.relatedTarget=B,ne=null,Ni(J)===H&&(Ae=new Ae(L,M+"enter",Re,a,J),Ae.target=B,Ae.relatedTarget=We,ne=Ae),We=ne,Y&&Re)t:{for(Ae=Y,L=Re,M=0,B=Ae;B;B=ja(B))M++;for(B=0,ne=L;ne;ne=ja(ne))B++;for(;0<M-B;)Ae=ja(Ae),M--;for(;0<B-M;)L=ja(L),B--;for(;M--;){if(Ae===L||L!==null&&Ae===L.alternate)break t;Ae=ja(Ae),L=ja(L)}Ae=null}else Ae=null;Y!==null&&B_(re,Q,Y,Ae,!1),Re!==null&&We!==null&&B_(re,We,Re,Ae,!0)}}e:{if(Q=H?ii(H):window,Y=Q.nodeName&&Q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&Q.type==="file")var pe=sg;else if(Nt(Q))if(ag)pe=hb;else{pe=ub;var Oe=lb}else Y=Q.nodeName,!Y||Y.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?H&&Vo(H.elementType)&&(pe=sg):pe=cb;if(pe&&(pe=pe(t,H))){Ui(re,pe,a,J);break e}Oe&&Oe(t,Q,H),t==="focusout"&&H&&Q.type==="number"&&H.memoizedProps.value!=null&&mr(Q,"number",Q.value)}switch(Oe=H?ii(H):window,t){case"focusin":(Nt(Oe)||Oe.contentEditable==="true")&&(pa=Oe,vf=H,Go=null);break;case"focusout":Go=vf=pa=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,mg(re,a,J);break;case"selectionchange":if(db)break;case"keydown":case"keyup":mg(re,a,J)}var ye;if(ci)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Le?X(t,a)&&(be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(_&&a.locale!=="ko"&&(Le||be!=="onCompositionStart"?be==="onCompositionEnd"&&Le&&(ye=Lo()):(ai=J,pr="value"in ai?ai.value:ai.textContent,Le=!0)),Oe=Nc(H,be),0<Oe.length&&(be=new Bo(be,t,null,a,J),re.push({event:be,listeners:Oe}),ye?be.data=ye:(ye=le(a),ye!==null&&(be.data=ye)))),(ye=y?Ct(t,a):Ue(t,a))&&(be=Nc(H,"onBeforeInput"),0<be.length&&(Oe=new Bo("onBeforeInput","beforeinput",null,a,J),re.push({event:Oe,listeners:be}),Oe.data=ye)),$b(re,t,H,a,J)}U_(re,i)})}function vl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Nc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=gs(t,a),h!=null&&l.unshift(vl(t,h,d)),h=gs(t,i),h!=null&&l.push(vl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function B_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,N=T.alternate,H=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||H===null||(N=H,h?(H=gs(a,d),H!=null&&v.unshift(vl(a,H,N))):h||(H=gs(a,d),H!=null&&v.push(vl(a,H,N)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Jb=/\r\n?/g,eS=/\u0000|\uFFFD/g;function z_(t){return(typeof t=="string"?t:""+t).replace(Jb,`
`).replace(eS,"")}function q_(t,i){return i=z_(i),z_(t)===i}function xc(){}function Ze(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Nn(t,""+l);break;case"className":ri(t,"class",l);break;case"tabIndex":ri(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(t,a,l);break;case"style":ko(t,l,d);break;case"data":if(i!=="object"){ri(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=aa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=aa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=xc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),dr(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ff.get(a)||a,dr(t,a,l))}}function Hd(t,i,a,l,h,d){switch(a){case"style":ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ta.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):dr(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,v,a,null)}}h&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var T=d=v=h=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":v=J;break;case"checked":N=J;break;case"defaultChecked":H=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:Ze(t,i,l,J,a,null)}}ds(t,d,T,N,H,v,h,!1),sa(t);return;case"select":ke("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Ze(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Oi(t,!!l,i,!1):a!=null&&Oi(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ze(t,i,v,T,a,null)}ms(t,l,h,d),sa(t);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,N,l,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)ke(_l[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,H,l,a,null)}return;default:if(Vo(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Hd(t,i,J,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ze(t,i,T,l,a,null))}function tS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,N=null,H=null,J=null;for(Y in a){var re=a[Y];if(a.hasOwnProperty(Y)&&re!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=re;default:l.hasOwnProperty(Y)||Ze(t,i,Y,null,l,re)}}for(var Q in l){var Y=l[Q];if(re=a[Q],l.hasOwnProperty(Q)&&(Y!=null||re!=null))switch(Q){case"type":d=Y;break;case"name":h=Y;break;case"checked":H=Y;break;case"defaultChecked":J=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==re&&Ze(t,i,Q,Y,l,re)}}yn(t,v,T,N,H,J,d,h);return;case"select":Y=v=T=Q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":Q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==N&&Ze(t,i,h,d,l,N)}i=T,a=v,l=Y,Q!=null?Oi(t,!!a,Q,!1):!!l!=!!a&&(i!=null?Oi(t,!!a,i,!0):Oi(t,!!a,a?[]:"",!1));return;case"textarea":Y=Q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":Q=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ze(t,i,v,h,l,d)}$e(t,Q,Y);return;case"option":for(var Re in a)if(Q=a[Re],a.hasOwnProperty(Re)&&Q!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":t.selected=!1;break;default:Ze(t,i,Re,null,l,Q)}for(N in l)if(Q=l[N],Y=a[N],l.hasOwnProperty(N)&&Q!==Y&&(Q!=null||Y!=null))switch(N){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Ze(t,i,N,Q,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)Q=a[Ae],a.hasOwnProperty(Ae)&&Q!=null&&!l.hasOwnProperty(Ae)&&Ze(t,i,Ae,null,l,Q);for(H in l)if(Q=l[H],Y=a[H],l.hasOwnProperty(H)&&Q!==Y&&(Q!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Ze(t,i,H,Q,l,Y)}return;default:if(Vo(i)){for(var We in a)Q=a[We],a.hasOwnProperty(We)&&Q!==void 0&&!l.hasOwnProperty(We)&&Hd(t,i,We,void 0,l,Q);for(J in l)Q=l[J],Y=a[J],!l.hasOwnProperty(J)||Q===Y||Q===void 0&&Y===void 0||Hd(t,i,J,Q,l,Y);return}}for(var L in a)Q=a[L],a.hasOwnProperty(L)&&Q!=null&&!l.hasOwnProperty(L)&&Ze(t,i,L,null,l,Q);for(re in l)Q=l[re],Y=a[re],!l.hasOwnProperty(re)||Q===Y||Q==null&&Y==null||Ze(t,i,re,Q,l,Y)}var Fd=null,Gd=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function H_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Qd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Kd=null;function nS(){var t=window.event;return t&&t.type==="popstate"?t===Kd?!1:(Kd=t,!0):(Kd=null,!1)}var G_=typeof setTimeout=="function"?setTimeout:void 0,iS=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,rS=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(t){return Q_.resolve(null).then(t).catch(sS)}:G_;function sS(t){setTimeout(function(){throw t})}function Dr(t){return t==="head"}function K_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&El(v.documentElement),a&2&&El(v.body),a&4)for(a=v.head,El(a),v=a.firstChild;v;){var T=v.nextSibling,N=v.nodeName;v[us]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Cl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Cl(i)}function Yd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yd(a),fr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function aS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[us])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function oS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function $d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function lS(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Xd=null;function Y_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function $_(t,i,a){switch(i=Dc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function El(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fr(t)}var jn=new Map,X_=new Set;function Oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zi=ue.d;ue.d={f:uS,r:cS,D:hS,C:fS,L:dS,m:mS,X:gS,S:pS,M:yS};function uS(){var t=Zi.f(),i=bc();return t||i}function cS(t){var i=ni(t);i!==null&&i.tag===5&&i.type==="form"?gy(i):Zi.r(t)}var Ba=typeof document>"u"?null:document;function Z_(t,i,a){var l=Ba;if(l&&typeof i=="string"&&i){var h=Tt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),X_.has(h)||(X_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),pt(i),l.head.appendChild(i)))}}function hS(t){Zi.D(t),Z_("dns-prefetch",t,null)}function fS(t,i){Zi.C(t,i),Z_("preconnect",t,i)}function dS(t,i,a){Zi.L(t,i,a);var l=Ba;if(l&&t&&i){var h='link[rel="preload"][as="'+Tt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Tt(a.imageSizes)+'"]')):h+='[href="'+Tt(t)+'"]';var d=h;switch(i){case"style":d=za(t);break;case"script":d=qa(t)}jn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Tl(d))||i==="script"&&l.querySelector(Al(d))||(i=l.createElement("link"),Gt(i,"link",t),pt(i),l.head.appendChild(i)))}}function mS(t,i){Zi.m(t,i);var a=Ba;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=qa(t)}if(!jn.has(d)&&(t=E({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(d)))return}l=a.createElement("link"),Gt(l,"link",t),pt(l),a.head.appendChild(l)}}}function pS(t,i,a){Zi.S(t,i,a);var l=Ba;if(l&&t){var h=sn(l).hoistableStyles,d=za(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Tl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&Zd(t,a);var N=v=l.createElement("link");pt(N),Gt(N,"link",t),N._p=new Promise(function(H,J){N.onload=H,N.onerror=J}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Mc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function gS(t,i){Zi.X(t,i);var a=Ba;if(a&&t){var l=sn(a).hoistableScripts,h=qa(t),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(t=E({src:t,async:!0},i),(i=jn.get(h))&&Wd(t,i),d=a.createElement("script"),pt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function yS(t,i){Zi.M(t,i);var a=Ba;if(a&&t){var l=sn(a).hoistableScripts,h=qa(t),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=jn.get(h))&&Wd(t,i),d=a.createElement("script"),pt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function W_(t,i,a,l){var h=(h=ge.current)?Oc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=za(a.href),a=sn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=za(a.href);var d=sn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Tl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||_S(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=qa(a),a=sn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function za(t){return'href="'+Tt(t)+'"'}function Tl(t){return'link[rel="stylesheet"]['+t+"]"}function J_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function _S(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),pt(i),t.head.appendChild(i))}function qa(t){return'[src="'+Tt(t)+'"]'}function Al(t){return"script[async]"+t}function ev(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return i.instance=l,pt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pt(l),Gt(l,"style",h),Mc(l,a.precedence,t),i.instance=l;case"stylesheet":h=za(a.href);var d=t.querySelector(Tl(h));if(d)return i.state.loading|=4,i.instance=d,pt(d),d;l=J_(a),(h=jn.get(h))&&Zd(l,h),d=(t.ownerDocument||t).createElement("link"),pt(d);var v=d;return v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),Gt(d,"link",l),i.state.loading|=4,Mc(d,a.precedence,t),i.instance=d;case"script":return d=qa(a.src),(h=t.querySelector(Al(d)))?(i.instance=h,pt(h),h):(l=a,(h=jn.get(d))&&(l=E({},a),Wd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),pt(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Mc(l,a.precedence,t));return i.instance}function Mc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Wd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var kc=null;function tv(t,i,a){if(kc===null){var l=new Map,h=kc=new Map;h.set(a,l)}else h=kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[us]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function nv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function vS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function iv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var bl=null;function ES(){}function TS(t,i,a){if(bl===null)throw Error(s(475));var l=bl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=za(a.href),d=t.querySelector(Tl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Vc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,pt(d);return}d=t.ownerDocument||t,a=J_(a),(h=jn.get(h))&&Zd(a,h),d=d.createElement("link"),pt(d);var v=d;v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),Gt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Vc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function AS(){if(bl===null)throw Error(s(475));var t=bl;return t.stylesheets&&t.count===0&&Jd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Jd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Vc(){if(this.count--,this.count===0){if(this.stylesheets)Jd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pc=null;function Jd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pc=new Map,i.forEach(bS,t),Pc=null,Vc.call(t))}function bS(t,i){if(!(i.state.loading&4)){var a=Pc.get(t);if(a)var l=a.get(null);else{a=new Map,Pc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Sl={$$typeof:oe,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function SS(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function rv(t,i,a,l,h,d,v,T,N,H,J,re){return t=new SS(t,i,a,v,T,N,H,re),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=kf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Uf(d),t}function sv(t){return t?(t=va,t):va}function av(t,i,a,l,h,d){h=sv(h),l.context===null?l.context=h:l.pendingContext=h,l=_r(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=vr(t,l,i),a!==null&&(Sn(a,t,i),el(a,t,i))}function ov(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function em(t,i){ov(t,i),(t=t.alternate)&&ov(t,i)}function lv(t){if(t.tag===13){var i=_a(t,67108864);i!==null&&Sn(i,t,67108864),em(t,67108864)}}var Lc=!0;function wS(t,i,a,l){var h=W.T;W.T=null;var d=ue.p;try{ue.p=2,tm(t,i,a,l)}finally{ue.p=d,W.T=h}}function RS(t,i,a,l){var h=W.T;W.T=null;var d=ue.p;try{ue.p=8,tm(t,i,a,l)}finally{ue.p=d,W.T=h}}function tm(t,i,a,l){if(Lc){var h=nm(l);if(h===null)qd(t,i,l,Uc,a),cv(t,l);else if(CS(h,t,i,a,l))l.stopPropagation();else if(cv(t,l),i&4&&-1<IS.indexOf(t)){for(;h!==null;){var d=ni(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=zn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var N=1<<31-Wt(v);T.entanglements[1]|=N,v&=~N}gi(d),(Ke&6)===0&&(Tc=In()+500,yl(0))}}break;case 13:T=_a(d,2),T!==null&&Sn(T,d,2),bc(),em(d,2)}if(d=nm(l),d===null&&qd(t,i,l,Uc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else qd(t,i,l,null,a)}}function nm(t){return t=xn(t),im(t)}var Uc=null;function im(t){if(Uc=null,t=Ni(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Uc=t,null}function uv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(af()){case Ao:return 2;case Zs:return 8;case rs:case of:return 32;case Ws:return 268435456;default:return 32}default:return 32}}var rm=!1,Or=null,Mr=null,kr=null,wl=new Map,Rl=new Map,Vr=[],IS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cv(t,i){switch(t){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(i.pointerId)}}function Il(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ni(i),i!==null&&lv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function CS(t,i,a,l,h){switch(i){case"focusin":return Or=Il(Or,t,i,a,l,h),!0;case"dragenter":return Mr=Il(Mr,t,i,a,l,h),!0;case"mouseover":return kr=Il(kr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return wl.set(d,Il(wl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Rl.set(d,Il(Rl.get(d)||null,t,i,a,l,h)),!0}return!1}function hv(t){var i=Ni(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,bu(t.priority,function(){if(a.tag===13){var l=bn();l=ur(l);var h=_a(a,l);h!==null&&Sn(h,a,l),em(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=nm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Mi=l,a.target.dispatchEvent(l),Mi=null}else return i=ni(a),i!==null&&lv(i),t.blockedOn=a,!1;i.shift()}return!0}function fv(t,i,a){jc(t)&&a.delete(i)}function NS(){rm=!1,Or!==null&&jc(Or)&&(Or=null),Mr!==null&&jc(Mr)&&(Mr=null),kr!==null&&jc(kr)&&(kr=null),wl.forEach(fv),Rl.forEach(fv)}function Bc(t,i){t.blockedOn===i&&(t.blockedOn=null,rm||(rm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,NS)))}var zc=null;function dv(t){zc!==t&&(zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(im(l||a)===null)continue;break}var d=ni(a);d!==null&&(t.splice(i,3),i-=3,id(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Cl(t){function i(N){return Bc(N,t)}Or!==null&&Bc(Or,t),Mr!==null&&Bc(Mr,t),kr!==null&&Bc(kr,t),wl.forEach(i),Rl.forEach(i);for(var a=0;a<Vr.length;a++){var l=Vr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Vr.length&&(a=Vr[0],a.blockedOn===null);)hv(a),a.blockedOn===null&&Vr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Et]||null;if(typeof d=="function")v||dv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Et]||null)T=v.formAction;else if(im(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),dv(a)}}}function sm(t){this._internalRoot=t}qc.prototype.render=sm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();av(a,l,t,i,null,null)},qc.prototype.unmount=sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;av(t.current,2,null,t,null,null),bc(),i[Cn]=null}};function qc(t){this._internalRoot=t}qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=cr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Vr.length&&i!==0&&i<Vr[a].priority;a++);Vr.splice(a,0,t),a===0&&hv(t)}};var mv=e.version;if(mv!=="19.1.0")throw Error(s(527,mv,"19.1.0"));ue.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var xS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{ht=Hc.inject(xS),Qe=Hc}catch{}}return xl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=xy,d=Dy,v=Oy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=rv(t,1,!1,null,null,a,l,h,d,v,T,null),t[Cn]=i.current,zd(t),new sm(i)},xl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=xy,v=Dy,T=Oy,N=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=rv(t,1,!0,i,a??null,l,h,d,v,T,N,H),i.context=sv(null),a=i.current,l=bn(),l=ur(l),h=_r(l),h.callback=null,vr(a,h,l),a=l,i.current.lanes=a,Ci(i,a),gi(i),t[Cn]=i.current,zd(t),new qc(i)},xl.version="19.1.0",xl}var Sv;function zS(){if(Sv)return lm.exports;Sv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),lm.exports=BS(),lm.exports}var qS=zS();const HS=OS(qS);var Dl={},wv;function FS(){if(wv)return Dl;wv=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.parse=f,Dl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,P){const k=new u,K=b.length;if(K<2)return k;const G=(P==null?void 0:P.decode)||E;let $=0;do{const ee=b.indexOf("=",$);if(ee===-1)break;const oe=b.indexOf(";",$),he=oe===-1?K:oe;if(ee>he){$=b.lastIndexOf(";",ee-1)+1;continue}const ce=m(b,$,ee),_e=p(b,ee,ce),O=b.slice(ce,_e);if(k[O]===void 0){let I=m(b,ee+1,he),C=p(b,he,I);const D=G(b.slice(I,C));k[O]=D}$=he+1}while($<K);return k}function m(b,P,k){do{const K=b.charCodeAt(P);if(K!==32&&K!==9)return P}while(++P<k);return k}function p(b,P,k){for(;P>k;){const K=b.charCodeAt(--P);if(K!==32&&K!==9)return P+1}return k}function g(b,P,k){const K=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const G=K(P);if(!e.test(G))throw new TypeError(`argument val is invalid: ${P}`);let $=b+"="+G;if(!k)return $;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);$+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);$+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);$+="; Path="+k.path}if(k.expires){if(!S(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);$+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&($+="; HttpOnly"),k.secure&&($+="; Secure"),k.partitioned&&($+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return $}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function S(b){return o.call(b)==="[object Date]"}return Dl}FS();var Rv="popstate";function GS(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Sm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ql(o)}return KS(e,n,null,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Yn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QS(){return Math.random().toString(36).substring(2,10)}function Iv(r,e){return{usr:r.state,key:r.key,idx:e}}function Sm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?co(e):e,state:n,key:e&&e.key||s||QS()}}function Ql({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function co(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function KS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let G=E(),$=G==null?null:G-g;g=G,p&&p({action:m,location:K.location,delta:$})}function b(G,$){m="PUSH";let ee=Sm(K.location,G,$);g=E()+1;let oe=Iv(ee,g),he=K.createHref(ee);try{f.pushState(oe,"",he)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(he)}u&&p&&p({action:m,location:K.location,delta:1})}function P(G,$){m="REPLACE";let ee=Sm(K.location,G,$);g=E();let oe=Iv(ee,g),he=K.createHref(ee);f.replaceState(oe,"",he),u&&p&&p({action:m,location:K.location,delta:0})}function k(G){return YS(G)}let K={get action(){return m},get location(){return r(o,f)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Rv,S),p=G,()=>{o.removeEventListener(Rv,S),p=null}},createHref(G){return e(o,G)},createURL:k,encodeLocation(G){let $=k(G);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:b,replace:P,go(G){return f.go(G)}};return K}function YS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ql(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function m0(r,e,n="/"){return $S(r,e,n,!1)}function $S(r,e,n,s){let o=typeof e=="string"?co(e):e,u=nr(o.pathname||"/",n);if(u==null)return null;let f=p0(r);XS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=ow(u);m=sw(f[p],g,s)}return m}function p0(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=er([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),p0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:iw(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of g0(u.path))o(u,f,p)}),e}function g0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=g0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function XS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:rw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ZS=/^:[\w-]+$/,WS=3,JS=2,ew=1,tw=10,nw=-2,Cv=r=>r==="*";function iw(r,e){let n=r.split("/"),s=n.length;return n.some(Cv)&&(s+=nw),e&&(s+=JS),n.filter(o=>!Cv(o)).reduce((o,u)=>o+(ZS.test(u)?WS:u===""?ew:tw),s)}function rw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function sw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:er([u,S.pathname]),pathnameBase:hw(er([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=er([u,S.pathnameBase]))}return f}function ch(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=aw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},b)=>{if(E==="*"){let k=m[b]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const P=m[b];return S&&!P?g[E]=void 0:g[E]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function aw(r,e=!1,n=!0){Yn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function ow(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function nr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function lw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?co(r):r;return{pathname:n?n.startsWith("/")?n:uw(n,e):e,search:fw(s),hash:dw(o)}}function uw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function fm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jm(r){let e=cw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ep(r,e,n,s=!1){let o;typeof r=="string"?o=co(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),fm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),fm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),fm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?e[S]:"/"}let p=lw(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var er=r=>r.join("/").replace(/\/\/+/g,"/"),hw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),fw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,dw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function mw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var y0=["POST","PUT","PATCH","DELETE"];new Set(y0);var pw=["GET",...y0];new Set(pw);var ho=z.createContext(null);ho.displayName="DataRouter";var kh=z.createContext(null);kh.displayName="DataRouterState";var _0=z.createContext({isTransitioning:!1});_0.displayName="ViewTransition";var gw=z.createContext(new Map);gw.displayName="Fetchers";var yw=z.createContext(null);yw.displayName="Await";var Zn=z.createContext(null);Zn.displayName="Navigation";var tu=z.createContext(null);tu.displayName="Location";var wi=z.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var tp=z.createContext(null);tp.displayName="RouteError";function _w(r,{relative:e}={}){at(fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(Zn),{hash:o,pathname:u,search:f}=nu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:er([n,u])),s.createHref({pathname:m,search:f,hash:o})}function fo(){return z.useContext(tu)!=null}function Wn(){return at(fo(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(tu).location}var v0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E0(r){z.useContext(Zn).static||z.useLayoutEffect(r)}function mo(){let{isDataRoute:r}=z.useContext(wi);return r?Dw():vw()}function vw(){at(fo(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(ho),{basename:e,navigator:n}=z.useContext(Zn),{matches:s}=z.useContext(wi),{pathname:o}=Wn(),u=JSON.stringify(Jm(s)),f=z.useRef(!1);return E0(()=>{f.current=!0}),z.useCallback((p,g={})=>{if(Yn(f.current,v0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=ep(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:er([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}z.createContext(null);function nu(r,{relative:e}={}){let{matches:n}=z.useContext(wi),{pathname:s}=Wn(),o=JSON.stringify(Jm(n));return z.useMemo(()=>ep(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Ew(r,e){return T0(r,e)}function T0(r,e,n,s){var $;at(fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(Zn),{matches:u}=z.useContext(wi),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let ee=E&&E.path||"";A0(p,!E||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let S=Wn(),b;if(e){let ee=typeof e=="string"?co(e):e;at(g==="/"||(($=ee.pathname)==null?void 0:$.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),b=ee}else b=S;let P=b.pathname||"/",k=P;if(g!=="/"){let ee=g.replace(/^\//,"").split("/");k="/"+P.replace(/^\//,"").split("/").slice(ee.length).join("/")}let K=m0(r,{pathname:k});Yn(E||K!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Yn(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=ww(K&&K.map(ee=>Object.assign({},ee,{params:Object.assign({},m,ee.params),pathname:er([g,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?g:er([g,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),u,n,s);return e&&G?z.createElement(tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},G):G}function Tw(){let r=xw(),e=mw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,f)}var Aw=z.createElement(Tw,null),bw=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?z.createElement(wi.Provider,{value:this.props.routeContext},z.createElement(tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sw({routeContext:r,match:e,children:n}){let s=z.useContext(ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(wi.Provider,{value:r},n)}function ww(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:S}=n,b=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let S,b=!1,P=null,k=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,P=g.route.errorElement||Aw,f&&(m<0&&E===0?(A0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,k=null):m===E&&(b=!0,k=g.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),G=()=>{let $;return S?$=P:b?$=k:g.route.Component?$=z.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,z.createElement(Sw,{match:g,routeContext:{outlet:p,matches:K,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?z.createElement(bw,{location:n.location,revalidation:n.revalidation,component:P,error:S,children:G(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):G()},null)}function np(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rw(r){let e=z.useContext(ho);return at(e,np(r)),e}function Iw(r){let e=z.useContext(kh);return at(e,np(r)),e}function Cw(r){let e=z.useContext(wi);return at(e,np(r)),e}function ip(r){let e=Cw(r),n=e.matches[e.matches.length-1];return at(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Nw(){return ip("useRouteId")}function xw(){var s;let r=z.useContext(tp),e=Iw("useRouteError"),n=ip("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function Dw(){let{router:r}=Rw("useNavigate"),e=ip("useNavigate"),n=z.useRef(!1);return E0(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Yn(n.current,v0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Nv={};function A0(r,e,n){!e&&!Nv[r]&&(Nv[r]=!0,Yn(!1,n))}z.memo(Ow);function Ow({routes:r,future:e,state:n}){return T0(r,void 0,n,e)}function xv({to:r,replace:e,state:n,relative:s}){at(fo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(Zn);Yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(wi),{pathname:f}=Wn(),m=mo(),p=ep(r,Jm(u),f,s==="path"),g=JSON.stringify(p);return z.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Ha(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){at(!fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=co(n));let{pathname:p="/",search:g="",hash:E="",state:S=null,key:b="default"}=n,P=z.useMemo(()=>{let k=nr(p,f);return k==null?null:{location:{pathname:k,search:g,hash:E,state:S,key:b},navigationType:s}},[f,p,g,E,S,b,s]);return Yn(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:z.createElement(Zn.Provider,{value:m},z.createElement(tu.Provider,{children:e,value:P}))}function kw({children:r,location:e}){return Ew(wm(r),e)}function wm(r,e=[]){let n=[];return z.Children.forEach(r,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,wm(s.props.children,u));return}at(s.type===Ha,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=wm(s.props.children,u)),n.push(f)}),n}var Zc="get",Wc="application/x-www-form-urlencoded";function Vh(r){return r!=null&&typeof r.tagName=="string"}function Vw(r){return Vh(r)&&r.tagName.toLowerCase()==="button"}function Pw(r){return Vh(r)&&r.tagName.toLowerCase()==="form"}function Lw(r){return Vh(r)&&r.tagName.toLowerCase()==="input"}function Uw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function jw(r,e){return r.button===0&&(!e||e==="_self")&&!Uw(r)}var Fc=null;function Bw(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var zw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dm(r){return r!=null&&!zw.has(r)?(Yn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):r}function qw(r,e){let n,s,o,u,f;if(Pw(r)){let m=r.getAttribute("action");s=m?nr(m,e):null,n=r.getAttribute("method")||Zc,o=dm(r.getAttribute("enctype"))||Wc,u=new FormData(r)}else if(Vw(r)||Lw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?nr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Zc,o=dm(r.getAttribute("formenctype"))||dm(m.getAttribute("enctype"))||Wc,u=new FormData(m,r),!Bw()){let{name:g,type:E,value:S}=r;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,S)}}else{if(Vh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zc,s=null,o=Wc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function rp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Hw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Gw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Hw(u,n);return f.links?f.links():[]}return[]}));return $w(s.flat(1).filter(Fw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Dv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Qw(r,e,{includeHydrateFallback:n}={}){return Kw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Kw(r){return[...new Set(r)]}function Yw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function $w(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Yw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Xw=new Set([100,101,204,205]);function Zw(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&nr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function b0(){let r=z.useContext(ho);return rp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ww(){let r=z.useContext(kh);return rp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var sp=z.createContext(void 0);sp.displayName="FrameworkContext";function S0(){let r=z.useContext(sp);return rp(r,"You must render this element inside a <HydratedRouter> element"),r}function Jw(r,e){let n=z.useContext(sp),[s,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,b=z.useRef(null);z.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=$=>{$.forEach(ee=>{f(ee.isIntersecting)})},G=new IntersectionObserver(K,{threshold:.5});return b.current&&G.observe(b.current),()=>{G.disconnect()}}},[r]),z.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let P=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Ol(m,P),onBlur:Ol(p,k),onMouseEnter:Ol(g,P),onMouseLeave:Ol(E,k),onTouchStart:Ol(S,P)}]:[!1,b,{}]}function Ol(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function e1({page:r,...e}){let{router:n}=b0(),s=z.useMemo(()=>m0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?z.createElement(n1,{page:r,matches:s,...e}):null}function t1(r){let{manifest:e,routeModules:n}=S0(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return Gw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function n1({page:r,matches:e,...n}){let s=Wn(),{manifest:o,routeModules:u}=S0(),{basename:f}=b0(),{loaderData:m,matches:p}=Ww(),g=z.useMemo(()=>Dv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=z.useMemo(()=>Dv(r,e,p,o,s,"assets"),[r,e,p,o,s]),S=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let k=new Set,K=!1;if(e.forEach($=>{var oe;let ee=o.routes[$.route.id];!ee||!ee.hasLoader||(!g.some(he=>he.route.id===$.route.id)&&$.route.id in m&&((oe=u[$.route.id])!=null&&oe.shouldRevalidate)||ee.hasClientLoader?K=!0:k.add($.route.id))}),k.size===0)return[];let G=Zw(r,f);return K&&k.size>0&&G.searchParams.set("_routes",e.filter($=>k.has($.route.id)).map($=>$.route.id).join(",")),[G.pathname+G.search]},[f,m,s,o,g,e,r,u]),b=z.useMemo(()=>Qw(E,o),[E,o]),P=t1(E);return z.createElement(z.Fragment,null,S.map(k=>z.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),b.map(k=>z.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),P.map(({key:k,link:K})=>z.createElement("link",{key:k,...K})))}function i1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var w0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w0&&(window.__reactRouterVersion="7.6.2")}catch{}function r1({basename:r,children:e,window:n}){let s=z.useRef();s.current==null&&(s.current=GS({window:n,v5Compat:!0}));let o=s.current,[u,f]=z.useState({action:o.action,location:o.location}),m=z.useCallback(p=>{z.startTransition(()=>f(p))},[f]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(Mw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var R0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I0=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S,...b},P){let{basename:k}=z.useContext(Zn),K=typeof g=="string"&&R0.test(g),G,$=!1;if(typeof g=="string"&&K&&(G=g,w0))try{let C=new URL(window.location.href),D=g.startsWith("//")?new URL(C.protocol+g):new URL(g),V=nr(D.pathname,k);D.origin===C.origin&&V!=null?g=V+D.search+D.hash:$=!0}catch{Yn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=_w(g,{relative:o}),[oe,he,ce]=Jw(s,b),_e=l1(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function O(C){e&&e(C),C.defaultPrevented||_e(C)}let I=z.createElement("a",{...b,...ce,href:G||ee,onClick:$||u?e:O,ref:i1(P,he),target:p,"data-discover":!K&&n==="render"?"true":void 0});return oe&&!K?z.createElement(z.Fragment,null,I,z.createElement(e1,{page:ee})):I});I0.displayName="Link";var s1=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let S=nu(f,{relative:g.relative}),b=Wn(),P=z.useContext(kh),{navigator:k,basename:K}=z.useContext(Zn),G=P!=null&&d1(S)&&m===!0,$=k.encodeLocation?k.encodeLocation(S).pathname:S.pathname,ee=b.pathname,oe=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),oe=oe?oe.toLowerCase():null,$=$.toLowerCase()),oe&&K&&(oe=nr(oe,K)||oe);const he=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ce=ee===$||!o&&ee.startsWith($)&&ee.charAt(he)==="/",_e=oe!=null&&(oe===$||!o&&oe.startsWith($)&&oe.charAt($.length)==="/"),O={isActive:ce,isPending:_e,isTransitioning:G},I=ce?e:void 0,C;typeof s=="function"?C=s(O):C=[s,ce?"active":null,_e?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(O):u;return z.createElement(I0,{...g,"aria-current":I,className:C,ref:E,style:D,to:f,viewTransition:m},typeof p=="function"?p(O):p)});s1.displayName="NavLink";var a1=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Zc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:S,...b},P)=>{let k=h1(),K=f1(m,{relative:g}),G=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&R0.test(m),ee=oe=>{if(p&&p(oe),oe.defaultPrevented)return;oe.preventDefault();let he=oe.nativeEvent.submitter,ce=(he==null?void 0:he.getAttribute("formmethod"))||f;k(he||oe.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return z.createElement("form",{ref:P,method:G,action:K,onSubmit:s?p:ee,...b,"data-discover":!$&&r==="render"?"true":void 0})});a1.displayName="Form";function o1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C0(r){let e=z.useContext(ho);return at(e,o1(r)),e}function l1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=mo(),p=Wn(),g=nu(r,{relative:u});return z.useCallback(E=>{if(jw(E,e)){E.preventDefault();let S=n!==void 0?n:Ql(p)===Ql(g);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var u1=0,c1=()=>`__${String(++u1)}__`;function h1(){let{router:r}=C0("useSubmit"),{basename:e}=z.useContext(Zn),n=Nw();return z.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=qw(s,e);if(o.navigate===!1){let E=o.fetcherKey||c1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function f1(r,{relative:e}={}){let{basename:n}=z.useContext(Zn),s=z.useContext(wi);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...nu(r||".",{relative:e})},f=Wn();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:er([n,u.pathname])),Ql(u)}function d1(r,e={}){let n=z.useContext(_0);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=C0("useViewTransitionState"),o=nu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=nr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=nr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ch(o.pathname,f)!=null||ch(o.pathname,u)!=null}[...Xw];const m1=()=>{};var Ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},p1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},x0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,P=g&63;p||(P=64,f||(b=64)),s.push(n[E],n[S],n[b],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(N0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):p1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new g1;const b=u<<2|m>>4;if(s.push(b),g!==64){const P=m<<4&240|g>>2;if(s.push(P),S!==64){const k=g<<6&192|S;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class g1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y1=function(r){const e=N0(r);return x0.encodeByteArray(e,!0)},hh=function(r){return y1(r).replace(/\./g,"")},D0=function(r){try{return x0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=()=>_1().__FIREBASE_DEFAULTS__,E1=()=>{if(typeof process>"u"||typeof Ov>"u")return;const r=Ov.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},T1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&D0(r[1]);return e&&JSON.parse(e)},Ph=()=>{try{return m1()||v1()||E1()||T1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},O0=r=>{var e,n;return(n=(e=Ph())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},A1=r=>{const e=O0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},M0=()=>{var r;return(r=Ph())===null||r===void 0?void 0:r.config},k0=r=>{var e;return(e=Ph())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(r){return r.endsWith(".cloudworkstations.dev")}async function V0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[hh(JSON.stringify(n)),hh(JSON.stringify(f)),""].join(".")}const jl={};function w1(){const r={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?r.emulator.push(e):r.prod.push(e);return r}function R1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Mv=!1;function P0(r,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||jl[r]===e||jl[r]||Mv)return;jl[r]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=w1().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,P){b.setAttribute("width","24"),b.setAttribute("id",P),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Mv=!0,f()},b}function E(b,P){b.setAttribute("id",P),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=R1(s),P=n("text"),k=document.getElementById(P)||document.createElement("span"),K=n("learnmore"),G=document.getElementById(K)||document.createElement("a"),$=n("preprendIcon"),ee=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const oe=b.element;m(oe),E(G,K);const he=g();p(ee,$),oe.append(ee,k,G,he),document.body.appendChild(oe)}u?(k.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function C1(){var r;const e=(r=Ph())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function x1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function D1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O1(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function M1(){return!C1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k1(){try{return typeof indexedDB=="object"}catch{return!1}}function V1(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="FirebaseError";class lr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=P1,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?L1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new lr(o,m,s)}}function L1(r,e){return r.replace(U1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const U1=/\{\$([^}]+)}/g;function j1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ir(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(kv(u)&&kv(f)){if(!ir(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function kv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ml(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function kl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function B1(r,e){const n=new z1(r,e);return n.subscribe.bind(n)}class z1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");q1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=mm),o.error===void 0&&(o.error=mm),o.complete===void 0&&(o.complete=mm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function mm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(r){return r&&r._delegate?r._delegate:r}class Bs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new b1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G1(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:F1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F1(r){return r===Us?void 0:r}function G1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new H1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const K1={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},Y1=Ve.INFO,$1={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},X1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=$1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ap{constructor(e){this.name=e,this._logLevel=Y1,this._logHandler=X1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const Z1=(r,e)=>e.some(n=>r instanceof n);let Vv,Pv;function W1(){return Vv||(Vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J1(){return Pv||(Pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L0=new WeakMap,Rm=new WeakMap,U0=new WeakMap,pm=new WeakMap,op=new WeakMap;function eR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Hr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&L0.set(n,r)}).catch(()=>{}),op.set(e,r),e}function tR(r){if(Rm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Rm.set(r,e)}let Im={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Rm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||U0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function nR(r){Im=r(Im)}function iR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(gm(this),e,...n);return U0.set(s,e.sort?e.sort():[e]),Hr(s)}:J1().includes(r)?function(...e){return r.apply(gm(this),e),Hr(L0.get(this))}:function(...e){return Hr(r.apply(gm(this),e))}}function rR(r){return typeof r=="function"?iR(r):(r instanceof IDBTransaction&&tR(r),Z1(r,W1())?new Proxy(r,Im):r)}function Hr(r){if(r instanceof IDBRequest)return eR(r);if(pm.has(r))return pm.get(r);const e=rR(r);return e!==r&&(pm.set(r,e),op.set(e,r)),e}const gm=r=>op.get(r);function sR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Hr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Hr(f.result),p.oldVersion,p.newVersion,Hr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const aR=["get","getKey","getAll","getAllKeys","count"],oR=["put","add","delete","clear"],ym=new Map;function Lv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=oR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||aR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return ym.set(e,u),u}nR(r=>({...r,get:(e,n,s)=>Lv(e,n)||r.get(e,n,s),has:(e,n)=>!!Lv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function uR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cm="@firebase/app",Uv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new ap("@firebase/app"),cR="@firebase/app-compat",hR="@firebase/analytics-compat",fR="@firebase/analytics",dR="@firebase/app-check-compat",mR="@firebase/app-check",pR="@firebase/auth",gR="@firebase/auth-compat",yR="@firebase/database",_R="@firebase/data-connect",vR="@firebase/database-compat",ER="@firebase/functions",TR="@firebase/functions-compat",AR="@firebase/installations",bR="@firebase/installations-compat",SR="@firebase/messaging",wR="@firebase/messaging-compat",RR="@firebase/performance",IR="@firebase/performance-compat",CR="@firebase/remote-config",NR="@firebase/remote-config-compat",xR="@firebase/storage",DR="@firebase/storage-compat",OR="@firebase/firestore",MR="@firebase/ai",kR="@firebase/firestore-compat",VR="firebase",PR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="[DEFAULT]",LR={[Cm]:"fire-core",[cR]:"fire-core-compat",[fR]:"fire-analytics",[hR]:"fire-analytics-compat",[mR]:"fire-app-check",[dR]:"fire-app-check-compat",[pR]:"fire-auth",[gR]:"fire-auth-compat",[yR]:"fire-rtdb",[_R]:"fire-data-connect",[vR]:"fire-rtdb-compat",[ER]:"fire-fn",[TR]:"fire-fn-compat",[AR]:"fire-iid",[bR]:"fire-iid-compat",[SR]:"fire-fcm",[wR]:"fire-fcm-compat",[RR]:"fire-perf",[IR]:"fire-perf-compat",[CR]:"fire-rc",[NR]:"fire-rc-compat",[xR]:"fire-gcs",[DR]:"fire-gcs-compat",[OR]:"fire-fst",[kR]:"fire-fst-compat",[MR]:"fire-vertex","fire-js":"fire-js",[VR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,UR=new Map,xm=new Map;function jv(r,e){try{r.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function to(r){const e=r.name;if(xm.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;xm.set(e,r);for(const n of fh.values())jv(n,r);for(const n of UR.values())jv(n,r);return!0}function lp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new iu("app","Firebase",jR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=PR;function j0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Nm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Fr.create("bad-app-name",{appName:String(o)});if(n||(n=M0()),!n)throw Fr.create("no-options");const u=fh.get(o);if(u){if(ir(n,u.options)&&ir(s,u.config))return u;throw Fr.create("duplicate-app",{appName:o})}const f=new Q1(o);for(const p of xm.values())f.addComponent(p);const m=new BR(n,s,f);return fh.set(o,m),m}function B0(r=Nm){const e=fh.get(r);if(!e&&r===Nm&&M0())return j0();if(!e)throw Fr.create("no-app",{appName:r});return e}function Gr(r,e,n){var s;let o=(s=LR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(m.join(" "));return}to(new Bs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="firebase-heartbeat-database",qR=1,Kl="firebase-heartbeat-store";let _m=null;function z0(){return _m||(_m=sR(zR,qR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Fr.create("idb-open",{originalErrorMessage:r.message})})),_m}async function HR(r){try{const n=(await z0()).transaction(Kl),s=await n.objectStore(Kl).get(q0(r));return await n.done,s}catch(e){if(e instanceof lr)rr.warn(e.message);else{const n=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(n.message)}}}async function Bv(r,e){try{const s=(await z0()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,q0(r)),await s.done}catch(n){if(n instanceof lr)rr.warn(n.message);else{const s=Fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rr.warn(s.message)}}}function q0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=1024,GR=30;class QR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=zv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>GR){const f=$R(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){rr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zv(),{heartbeatsToSend:s,unsentEntries:o}=KR(this._heartbeatsCache.heartbeats),u=hh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return rr.warn(n),""}}}function zv(){return new Date().toISOString().substring(0,10)}function KR(r,e=FR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),qv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),qv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class YR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k1()?V1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function qv(r){return hh(JSON.stringify({version:2,heartbeats:r})).length}function $R(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(r){to(new Bs("platform-logger",e=>new lR(e),"PRIVATE")),to(new Bs("heartbeat",e=>new QR(e),"PRIVATE")),Gr(Cm,Uv,r),Gr(Cm,Uv,"esm2017"),Gr("fire-js","")}XR("");function up(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function H0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZR=H0,F0=new iu("auth","Firebase",H0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new ap("@firebase/auth");function WR(r,...e){dh.logLevel<=Ve.WARN&&dh.warn(`Auth (${go}): ${r}`,...e)}function Jc(r,...e){dh.logLevel<=Ve.ERROR&&dh.error(`Auth (${go}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(r,...e){throw cp(r,...e)}function vi(r,...e){return cp(r,...e)}function G0(r,e,n){const s=Object.assign(Object.assign({},ZR()),{[e]:n});return new iu("auth","Firebase",s).create(e,{appName:r.name})}function tr(r){return G0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return F0.create(r,...e)}function we(r,e,...n){if(!r)throw cp(e,...n)}function Wi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Jc(e),new Error(e)}function sr(r,e){r||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function JR(){return Hv()==="http:"||Hv()==="https:"}function Hv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JR()||x1()||"connection"in navigator)?navigator.onLine:!0}function tI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=I1()||D1()}get(){return eI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(r,e){sr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rI=new su(3e4,6e4);function es(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ts(r,e,n,s,o={}){return K0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ru(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return N1()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&po(r.emulatorConfig.host)&&(g.credentials="include"),Q0.fetch()(await Y0(r,r.config.apiHost,n,m),g)})}async function K0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},nI),e);try{const o=new aI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Gc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Gc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Gc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw G0(r,E,g);$n(r,E)}}catch(o){if(o instanceof lr)throw o;$n(r,"network-request-failed",{message:String(o)})}}async function au(r,e,n,s,o={}){const u=await ts(r,e,n,s,o);return"mfaPendingCredential"in u&&$n(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Y0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?hp(r.config,o):`${r.config.apiScheme}://${o}`;return iI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function sI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(vi(this.auth,"network-request-failed")),rI.get())})}}function Gc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=vi(r,e,s);return o.customData._tokenResponse=n,o}function Fv(r){return r!==void 0&&r.enterprise!==void 0}class oI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lI(r,e){return ts(r,"GET","/v2/recaptchaConfig",es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(r,e){return ts(r,"POST","/v1/accounts:delete",e)}async function mh(r,e){return ts(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cI(r,e=!1){const n=mt(r),s=await n.getIdToken(e),o=fp(s);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Bl(vm(o.auth_time)),issuedAtTime:Bl(vm(o.iat)),expirationTime:Bl(vm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function vm(r){return Number(r)*1e3}function fp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=D0(n);return o?JSON.parse(o):(Jc("Failed to decode base64 JWT payload"),null)}catch(o){return Jc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Gv(r){const e=fp(r);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof lr&&hI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function hI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Yl(r,mh(n,{idToken:s}));we(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?$0(u.providerUserInfo):[],m=mI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Om(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function dI(r){const e=mt(r);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function $0(r){return r.map(e=>{var{providerId:n}=e,s=up(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(r,e){const n=await K0(r,{},async()=>{const s=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await Y0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&po(r.emulatorConfig.host)&&(p.credentials="include"),Q0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gI(r,e){return ts(r,"POST","/v2/accounts:revokeToken",es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=Gv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await pI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Za;return s&&(we(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(r,e){we(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=up(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Om(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Yl(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cI(this,e)}reload(){return dI(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(tr(this.auth));const e=await this.getIdToken();return await Yl(this,uI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(f=n.photoURL)!==null&&f!==void 0?f:void 0,K=(m=n.tenantId)!==null&&m!==void 0?m:void 0,G=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ee=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:oe,emailVerified:he,isAnonymous:ce,providerData:_e,stsTokenManager:O}=n;we(oe&&O,e,"internal-error");const I=Za.fromJSON(this.name,O);we(typeof oe=="string",e,"internal-error"),Lr(S,e.name),Lr(b,e.name),we(typeof he=="boolean",e,"internal-error"),we(typeof ce=="boolean",e,"internal-error"),Lr(P,e.name),Lr(k,e.name),Lr(K,e.name),Lr(G,e.name),Lr($,e.name),Lr(ee,e.name);const C=new Kn({uid:oe,auth:e,email:b,emailVerified:he,displayName:S,isAnonymous:ce,photoURL:k,phoneNumber:P,tenantId:K,stsTokenManager:I,createdAt:$,lastLoginAt:ee});return _e&&Array.isArray(_e)&&(C.providerData=_e.map(D=>Object.assign({},D))),G&&(C._redirectEventId=G),C}static async _fromIdTokenResponse(e,n,s=!1){const o=new Za;o.updateFromServerResponse(n);const u=new Kn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ph(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?$0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Za;m.updateFromIdToken(s);const p=new Kn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new Map;function Ji(r){sr(r instanceof Function,"Expected a class definition");let e=Qv.get(r);return e?(sr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Qv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}X0.type="NONE";const Kv=X0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(r,e,n){return`firebase:${r}:${e}:${n}`}class Wa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mh(this.auth,{idToken:e}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wa(Ji(Kv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ji(Kv);const f=eh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let S;if(typeof E=="string"){const b=await mh(e,{idToken:E}).catch(()=>{});if(!b)break;S=await Kn._fromGetAccountInfoResponse(e,b,E)}else S=Kn._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Wa(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Wa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nT(e))return"Blackberry";if(iT(e))return"Webos";if(W0(e))return"Safari";if((e.includes("chrome/")||J0(e))&&!e.includes("edge/"))return"Chrome";if(tT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Z0(r=rn()){return/firefox\//i.test(r)}function W0(r=rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J0(r=rn()){return/crios\//i.test(r)}function eT(r=rn()){return/iemobile/i.test(r)}function tT(r=rn()){return/android/i.test(r)}function nT(r=rn()){return/blackberry/i.test(r)}function iT(r=rn()){return/webos/i.test(r)}function dp(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function yI(r=rn()){var e;return dp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _I(){return O1()&&document.documentMode===10}function rT(r=rn()){return dp(r)||tT(r)||iT(r)||nT(r)||/windows phone/i.test(r)||eT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r,e=[]){let n;switch(r){case"Browser":n=Yv(rn());break;case"Worker":n=`${Yv(rn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${go}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(r,e={}){return ts(r,"GET","/v2/passwordPolicy",es(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=6;class AI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:TI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $v(this),this.idTokenSubscription=new $v(this),this.beforeStateQueue=new vI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ji(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mh(this,{idToken:e}),s=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Bn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(tr(this));const n=e?mt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EI(this),n=new AI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await gI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ji(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[Ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&WR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qs(r){return mt(r)}class $v{constructor(e){this.auth=e,this.observer=null,this.addObserver=B1(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SI(r){Lh=r}function aT(r){return Lh.loadJS(r)}function wI(){return Lh.recaptchaEnterpriseScript}function RI(){return Lh.gapiScript}function II(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class CI{constructor(){this.enterprise=new NI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class NI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const xI="recaptcha-enterprise",oT="NO_RECAPTCHA";class DI{constructor(e){this.type=xI,this.auth=Qs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{lI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new oI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Fv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(oT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Fv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=wI();p.length!==0&&(p+=m),aT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Xv(r,e,n,s=!1,o=!1){const u=new DI(r);let f;if(o)f=oT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Mm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Xv(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Xv(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(r,e){const n=lp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ir(u,e??{}))return o;$n(o,"already-initialized")}return n.initialize({options:e})}function MI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ji);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function kI(r,e,n){const s=Qs(r);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=lT(e),{host:f,port:m}=VI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(ir(g,s.config.emulator)&&ir(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,po(f)?(V0(`${u}//${f}${p}`),P0("Auth",!0)):PI()}function lT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function VI(r){const e=lT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Zv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Zv(f)}}}function Zv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function PI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,n){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function LI(r,e){return ts(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(r,e){return au(r,"POST","/v1/accounts:signInWithPassword",es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,e){return au(r,"POST","/v1/accounts:signInWithEmailLink",es(r,e))}async function BI(r,e){return au(r,"POST","/v1/accounts:signInWithEmailLink",es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends mp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new $l(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new $l(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,n,"signInWithPassword",UI);case"emailLink":return jI(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,s,"signUpPassword",LI);case"emailLink":return BI(e,{idToken:n,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(r,e){return au(r,"POST","/v1/accounts:signInWithIdp",es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="http://localhost";class zs extends mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=up(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ja(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ja(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ja(e,n)}buildRequest(){const e={requestUri:zI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HI(r){const e=Ml(kl(r)).link,n=e?Ml(kl(e)).deep_link_id:null,s=Ml(kl(r)).deep_link_id;return(s?Ml(kl(s)).link:null)||s||n||e||r}class pp{constructor(e){var n,s,o,u,f,m;const p=Ml(kl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,S=qI((o=p.mode)!==null&&o!==void 0?o:null);we(g&&E&&S,"argument-error"),this.apiKey=g,this.operation=S,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=HI(e);try{return new pp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(e,n){return $l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=pp.parseLink(n);return we(s,"argument-error"),$l._fromEmailAndCode(e,s.code,s.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends uT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends ou{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return jr.credential(n,s)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends ou{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends ou{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(r,e){return au(r,"POST","/v1/accounts:signUp",es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Kn._fromIdTokenResponse(e,s,o),f=Wv(s);return new qs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Wv(s);return new qs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Wv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends lr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new gh(e,n,s,o)}}function cT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(r,u,e,s):u})}async function GI(r,e,n=!1){const s=await Yl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return qs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(r,e,n=!1){const{auth:s}=r;if(Bn(s.app))return Promise.reject(tr(s));const o="reauthenticate";try{const u=await Yl(r,cT(s,o,e,r),n);we(u.idToken,s,"internal-error");const f=fp(u.idToken);we(f,s,"internal-error");const{sub:m}=f;return we(r.uid===m,s,"user-mismatch"),qs._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&$n(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hT(r,e,n=!1){if(Bn(r.app))return Promise.reject(tr(r));const s="signIn",o=await cT(r,s,e),u=await qs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function KI(r,e){return hT(Qs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(r){const e=Qs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YI(r,e,n){if(Bn(r.app))return Promise.reject(tr(r));const s=Qs(r),f=await Mm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&fT(r),p}),m=await qs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function $I(r,e,n){return Bn(r.app)?Promise.reject(tr(r)):KI(mt(r),yo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&fT(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(r,e){return mt(r).setPersistence(e)}function ZI(r,e,n,s){return mt(r).onIdTokenChanged(e,n,s)}function WI(r,e,n){return mt(r).beforeAuthStateChanged(e,n)}function JI(r,e,n,s){return mt(r).onAuthStateChanged(e,n,s)}function eC(r){return mt(r).signOut()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=1e3,nC=10;class mT extends dT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);_I()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,nC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},tC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mT.type="LOCAL";const pT=mT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends dT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gT.type="SESSION";const yT=gT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Uh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await iC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=gp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const b=S;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function sC(r){Ei().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function aC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function lC(){return _T()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="firebaseLocalStorageDb",uC=1,_h="firebaseLocalStorage",ET="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jh(r,e){return r.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function cC(){const r=indexedDB.deleteDatabase(vT);return new lu(r).toPromise()}function km(){const r=indexedDB.open(vT,uC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(_h,{keyPath:ET})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(_h)?e(s):(s.close(),await cC(),e(await km()))})})}async function Jv(r,e,n){const s=jh(r,!0).put({[ET]:e,value:n});return new lu(s).toPromise()}async function hC(r,e){const n=jh(r,!1).get(e),s=await new lu(n).toPromise();return s===void 0?null:s.value}function eE(r,e){const n=jh(r,!0).delete(e);return new lu(n).toPromise()}const fC=800,dC=3;class TT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>dC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(lC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await aC(),!this.activeServiceWorker)return;this.sender=new rC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await Jv(e,yh,"1"),await eE(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Jv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>hC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>eE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=jh(o,!1).getAll();return new lu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TT.type="LOCAL";const mC=TT;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(r,e){return e?Ji(e):(we(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends mp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gC(r){return hT(r.auth,new yp(r),r.bypassAuthState)}function yC(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),QI(n,new yp(r),r.bypassAuthState)}async function _C(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),GI(n,new yp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gC;case"linkViaPopup":case"linkViaRedirect":return _C;case"reauthViaPopup":case"reauthViaRedirect":return yC;default:$n(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new su(2e3,1e4);class $a extends AT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vC.get())};e()}}$a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="pendingRedirect",th=new Map;class TC extends AT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const s=await AC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AC(r,e){const n=wC(e),s=SC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function bC(r,e){th.set(r._key(),e)}function SC(r){return Ji(r._redirectPersistence)}function wC(r){return eh(EC,r.config.apiKey,r.name)}async function RC(r,e,n=!1){if(Bn(r.app))return Promise.reject(tr(r));const s=Qs(r),o=pC(s,e),f=await new TC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=10*60*1e3;class CC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!bT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IC&&this.cachedEventUids.clear(),this.cachedEventUids.has(tE(e))}saveEventToCache(e){this.cachedEventUids.add(tE(e)),this.lastProcessedEventTime=Date.now()}}function tE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function bT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(r,e={}){return ts(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OC=/^https?/;async function MC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await xC(r);for(const n of e)try{if(kC(n))return}catch{}$n(r,"unauthorized-domain")}function kC(r){const e=Dm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!OC.test(n))return!1;if(DC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new su(3e4,6e4);function nE(){const r=Ei().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function PC(r){return new Promise((e,n)=>{var s,o,u;function f(){nE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nE(),n(vi(r,"network-request-failed"))},timeout:VC.get()})}if(!((o=(s=Ei().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ei().gapi)===null||u===void 0)&&u.load)f();else{const m=II("iframefcb");return Ei()[m]=()=>{gapi.load?f():n(vi(r,"network-request-failed"))},aT(`${RI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw nh=null,e})}let nh=null;function LC(r){return nh=nh||PC(r),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new su(5e3,15e3),jC="__/auth/iframe",BC="emulator/auth/iframe",zC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HC(r){const e=r.config;we(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?hp(e,BC):`https://${r.config.authDomain}/${jC}`,s={apiKey:e.apiKey,appName:r.name,v:go},o=qC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ru(s).slice(1)}`}async function FC(r){const e=await LC(r),n=Ei().gapi;return we(n,r,"internal-error"),e.open({where:document.body,url:HC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=vi(r,"network-request-failed"),m=Ei().setTimeout(()=>{u(f)},UC.get());function p(){Ei().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QC=500,KC=600,YC="_blank",$C="http://localhost";class iE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XC(r,e,n,s=QC,o=KC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},GC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=rn().toLowerCase();n&&(m=J0(g)?YC:n),Z0(g)&&(e=e||$C,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[P,k])=>`${b}${P}=${k},`,"");if(yI(g)&&m!=="_self")return ZC(e||"",m),new iE(null);const S=window.open(e||"",m,E);we(S,r,"popup-blocked");try{S.focus()}catch{}return new iE(S)}function ZC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="__/auth/handler",JC="emulator/auth/handler",eN=encodeURIComponent("fac");async function rE(r,e,n,s,o,u){we(r.config.authDomain,r,"auth-domain-config-required"),we(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:go,eventId:o};if(e instanceof uT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",j1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof ou){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${eN}=${encodeURIComponent(p)}`:"";return`${tN(r)}?${ru(m).slice(1)}${g}`}function tN({config:r}){return r.emulator?hp(r,JC):`https://${r.authDomain}/${WC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="webStorageSupport";class nN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yT,this._completeRedirectFn=RC,this._overrideRedirectResult=bC}async _openPopup(e,n,s,o){var u;sr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await rE(e,n,s,Dm(),o);return XC(e,f,gp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await rE(e,n,s,Dm(),o);return sC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await FC(e),s=new CC(e);return n.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Em,{type:Em},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Em];f!==void 0&&n(!!f),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rT()||W0()||dp()}}const iN=nN;var sE="@firebase/auth",aE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aN(r){to(new Bs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sT(r)},g=new bI(s,o,u,p);return MI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),to(new Bs("auth-internal",e=>{const n=Qs(e.getProvider("auth").getImmediate());return(s=>new rN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(sE,aE,sN(r)),Gr(sE,aE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=5*60,lN=k0("authIdTokenMaxAge")||oN;let oE=null;const uN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>lN)return;const o=n==null?void 0:n.token;oE!==o&&(oE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function cN(r=B0()){const e=lp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=OI(r,{popupRedirectResolver:iN,persistence:[mC,pT,yT]}),s=k0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=uN(u.toString());WI(n,f,()=>f(n.currentUser)),ZI(n,m=>f(m))}}const o=O0("auth");return o&&kI(n,`http://${o}`),n}function hN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}SI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=vi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",hN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aN("Browser");var lE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qr,ST;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function C(){}C.prototype=I.prototype,O.D=I.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(D,V,U){for(var x=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)x[ot-2]=arguments[ot];return I.prototype[V].apply(D,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,I,C){C||(C=0);var D=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)D[V]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(V=0;16>V;++V)D[V]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=O.g[0],C=O.g[1],V=O.g[2];var U=O.g[3],x=I+(U^C&(V^U))+D[0]+3614090360&4294967295;I=C+(x<<7&4294967295|x>>>25),x=U+(V^I&(C^V))+D[1]+3905402710&4294967295,U=I+(x<<12&4294967295|x>>>20),x=V+(C^U&(I^C))+D[2]+606105819&4294967295,V=U+(x<<17&4294967295|x>>>15),x=C+(I^V&(U^I))+D[3]+3250441966&4294967295,C=V+(x<<22&4294967295|x>>>10),x=I+(U^C&(V^U))+D[4]+4118548399&4294967295,I=C+(x<<7&4294967295|x>>>25),x=U+(V^I&(C^V))+D[5]+1200080426&4294967295,U=I+(x<<12&4294967295|x>>>20),x=V+(C^U&(I^C))+D[6]+2821735955&4294967295,V=U+(x<<17&4294967295|x>>>15),x=C+(I^V&(U^I))+D[7]+4249261313&4294967295,C=V+(x<<22&4294967295|x>>>10),x=I+(U^C&(V^U))+D[8]+1770035416&4294967295,I=C+(x<<7&4294967295|x>>>25),x=U+(V^I&(C^V))+D[9]+2336552879&4294967295,U=I+(x<<12&4294967295|x>>>20),x=V+(C^U&(I^C))+D[10]+4294925233&4294967295,V=U+(x<<17&4294967295|x>>>15),x=C+(I^V&(U^I))+D[11]+2304563134&4294967295,C=V+(x<<22&4294967295|x>>>10),x=I+(U^C&(V^U))+D[12]+1804603682&4294967295,I=C+(x<<7&4294967295|x>>>25),x=U+(V^I&(C^V))+D[13]+4254626195&4294967295,U=I+(x<<12&4294967295|x>>>20),x=V+(C^U&(I^C))+D[14]+2792965006&4294967295,V=U+(x<<17&4294967295|x>>>15),x=C+(I^V&(U^I))+D[15]+1236535329&4294967295,C=V+(x<<22&4294967295|x>>>10),x=I+(V^U&(C^V))+D[1]+4129170786&4294967295,I=C+(x<<5&4294967295|x>>>27),x=U+(C^V&(I^C))+D[6]+3225465664&4294967295,U=I+(x<<9&4294967295|x>>>23),x=V+(I^C&(U^I))+D[11]+643717713&4294967295,V=U+(x<<14&4294967295|x>>>18),x=C+(U^I&(V^U))+D[0]+3921069994&4294967295,C=V+(x<<20&4294967295|x>>>12),x=I+(V^U&(C^V))+D[5]+3593408605&4294967295,I=C+(x<<5&4294967295|x>>>27),x=U+(C^V&(I^C))+D[10]+38016083&4294967295,U=I+(x<<9&4294967295|x>>>23),x=V+(I^C&(U^I))+D[15]+3634488961&4294967295,V=U+(x<<14&4294967295|x>>>18),x=C+(U^I&(V^U))+D[4]+3889429448&4294967295,C=V+(x<<20&4294967295|x>>>12),x=I+(V^U&(C^V))+D[9]+568446438&4294967295,I=C+(x<<5&4294967295|x>>>27),x=U+(C^V&(I^C))+D[14]+3275163606&4294967295,U=I+(x<<9&4294967295|x>>>23),x=V+(I^C&(U^I))+D[3]+4107603335&4294967295,V=U+(x<<14&4294967295|x>>>18),x=C+(U^I&(V^U))+D[8]+1163531501&4294967295,C=V+(x<<20&4294967295|x>>>12),x=I+(V^U&(C^V))+D[13]+2850285829&4294967295,I=C+(x<<5&4294967295|x>>>27),x=U+(C^V&(I^C))+D[2]+4243563512&4294967295,U=I+(x<<9&4294967295|x>>>23),x=V+(I^C&(U^I))+D[7]+1735328473&4294967295,V=U+(x<<14&4294967295|x>>>18),x=C+(U^I&(V^U))+D[12]+2368359562&4294967295,C=V+(x<<20&4294967295|x>>>12),x=I+(C^V^U)+D[5]+4294588738&4294967295,I=C+(x<<4&4294967295|x>>>28),x=U+(I^C^V)+D[8]+2272392833&4294967295,U=I+(x<<11&4294967295|x>>>21),x=V+(U^I^C)+D[11]+1839030562&4294967295,V=U+(x<<16&4294967295|x>>>16),x=C+(V^U^I)+D[14]+4259657740&4294967295,C=V+(x<<23&4294967295|x>>>9),x=I+(C^V^U)+D[1]+2763975236&4294967295,I=C+(x<<4&4294967295|x>>>28),x=U+(I^C^V)+D[4]+1272893353&4294967295,U=I+(x<<11&4294967295|x>>>21),x=V+(U^I^C)+D[7]+4139469664&4294967295,V=U+(x<<16&4294967295|x>>>16),x=C+(V^U^I)+D[10]+3200236656&4294967295,C=V+(x<<23&4294967295|x>>>9),x=I+(C^V^U)+D[13]+681279174&4294967295,I=C+(x<<4&4294967295|x>>>28),x=U+(I^C^V)+D[0]+3936430074&4294967295,U=I+(x<<11&4294967295|x>>>21),x=V+(U^I^C)+D[3]+3572445317&4294967295,V=U+(x<<16&4294967295|x>>>16),x=C+(V^U^I)+D[6]+76029189&4294967295,C=V+(x<<23&4294967295|x>>>9),x=I+(C^V^U)+D[9]+3654602809&4294967295,I=C+(x<<4&4294967295|x>>>28),x=U+(I^C^V)+D[12]+3873151461&4294967295,U=I+(x<<11&4294967295|x>>>21),x=V+(U^I^C)+D[15]+530742520&4294967295,V=U+(x<<16&4294967295|x>>>16),x=C+(V^U^I)+D[2]+3299628645&4294967295,C=V+(x<<23&4294967295|x>>>9),x=I+(V^(C|~U))+D[0]+4096336452&4294967295,I=C+(x<<6&4294967295|x>>>26),x=U+(C^(I|~V))+D[7]+1126891415&4294967295,U=I+(x<<10&4294967295|x>>>22),x=V+(I^(U|~C))+D[14]+2878612391&4294967295,V=U+(x<<15&4294967295|x>>>17),x=C+(U^(V|~I))+D[5]+4237533241&4294967295,C=V+(x<<21&4294967295|x>>>11),x=I+(V^(C|~U))+D[12]+1700485571&4294967295,I=C+(x<<6&4294967295|x>>>26),x=U+(C^(I|~V))+D[3]+2399980690&4294967295,U=I+(x<<10&4294967295|x>>>22),x=V+(I^(U|~C))+D[10]+4293915773&4294967295,V=U+(x<<15&4294967295|x>>>17),x=C+(U^(V|~I))+D[1]+2240044497&4294967295,C=V+(x<<21&4294967295|x>>>11),x=I+(V^(C|~U))+D[8]+1873313359&4294967295,I=C+(x<<6&4294967295|x>>>26),x=U+(C^(I|~V))+D[15]+4264355552&4294967295,U=I+(x<<10&4294967295|x>>>22),x=V+(I^(U|~C))+D[6]+2734768916&4294967295,V=U+(x<<15&4294967295|x>>>17),x=C+(U^(V|~I))+D[13]+1309151649&4294967295,C=V+(x<<21&4294967295|x>>>11),x=I+(V^(C|~U))+D[4]+4149444226&4294967295,I=C+(x<<6&4294967295|x>>>26),x=U+(C^(I|~V))+D[11]+3174756917&4294967295,U=I+(x<<10&4294967295|x>>>22),x=V+(I^(U|~C))+D[2]+718787259&4294967295,V=U+(x<<15&4294967295|x>>>17),x=C+(U^(V|~I))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,I){I===void 0&&(I=O.length);for(var C=I-this.blockSize,D=this.B,V=this.h,U=0;U<I;){if(V==0)for(;U<=C;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<I;)if(D[V++]=O.charCodeAt(U++),V==this.blockSize){o(this,D),V=0;break}}else for(;U<I;)if(D[V++]=O[U++],V==this.blockSize){o(this,D),V=0;break}}this.h=V,this.o+=I},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;var C=8*this.o;for(I=O.length-8;I<O.length;++I)O[I]=C&255,C/=256;for(this.u(O),O=Array(16),I=C=0;4>I;++I)for(var D=0;32>D;D+=8)O[C++]=this.g[I]>>>D&255;return O};function u(O,I){var C=m;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=I(O)}function f(O,I){this.h=I;for(var C=[],D=!0,V=O.length-1;0<=V;V--){var U=O[V]|0;D&&U==I||(C[V]=U,D=!1)}this.g=C}var m={};function p(O){return-128<=O&&128>O?u(O,function(I){return new f([I|0],0>I?-1:0)}):new f([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return G(g(-O));for(var I=[],C=1,D=0;O>=C;D++)I[D]=O/C|0,C*=4294967296;return new f(I,0)}function E(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return G(E(O.substring(1),I));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(I,8)),D=S,V=0;V<O.length;V+=8){var U=Math.min(8,O.length-V),x=parseInt(O.substring(V,V+U),I);8>U?(U=g(Math.pow(I,U)),D=D.j(U).add(g(x))):(D=D.j(C),D=D.add(g(x)))}return D}var S=p(0),b=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-G(this).m();for(var O=0,I=1,C=0;C<this.g.length;C++){var D=this.i(C);O+=(0<=D?D:4294967296+D)*I,I*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k(this))return"0";if(K(this))return"-"+G(this).toString(O);for(var I=g(Math.pow(O,6)),C=this,D="";;){var V=he(C,I).g;C=$(C,V.j(I));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=V,k(C))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function k(O){if(O.h!=0)return!1;for(var I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function K(O){return O.h==-1}r.l=function(O){return O=$(this,O),K(O)?-1:k(O)?0:1};function G(O){for(var I=O.g.length,C=[],D=0;D<I;D++)C[D]=~O.g[D];return new f(C,~O.h).add(b)}r.abs=function(){return K(this)?G(this):this},r.add=function(O){for(var I=Math.max(this.g.length,O.g.length),C=[],D=0,V=0;V<=I;V++){var U=D+(this.i(V)&65535)+(O.i(V)&65535),x=(U>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);D=x>>>16,U&=65535,x&=65535,C[V]=x<<16|U}return new f(C,C[C.length-1]&-2147483648?-1:0)};function $(O,I){return O.add(G(I))}r.j=function(O){if(k(this)||k(O))return S;if(K(this))return K(O)?G(this).j(G(O)):G(G(this).j(O));if(K(O))return G(this.j(G(O)));if(0>this.l(P)&&0>O.l(P))return g(this.m()*O.m());for(var I=this.g.length+O.g.length,C=[],D=0;D<2*I;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<O.g.length;V++){var U=this.i(D)>>>16,x=this.i(D)&65535,ot=O.i(V)>>>16,Fe=O.i(V)&65535;C[2*D+2*V]+=x*Fe,ee(C,2*D+2*V),C[2*D+2*V+1]+=U*Fe,ee(C,2*D+2*V+1),C[2*D+2*V+1]+=x*ot,ee(C,2*D+2*V+1),C[2*D+2*V+2]+=U*ot,ee(C,2*D+2*V+2)}for(D=0;D<I;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=I;D<2*I;D++)C[D]=0;return new f(C,0)};function ee(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function oe(O,I){this.g=O,this.h=I}function he(O,I){if(k(I))throw Error("division by zero");if(k(O))return new oe(S,S);if(K(O))return I=he(G(O),I),new oe(G(I.g),G(I.h));if(K(I))return I=he(O,G(I)),new oe(G(I.g),I.h);if(30<O.g.length){if(K(O)||K(I))throw Error("slowDivide_ only works with positive integers.");for(var C=b,D=I;0>=D.l(O);)C=ce(C),D=ce(D);var V=_e(C,1),U=_e(D,1);for(D=_e(D,2),C=_e(C,2);!k(D);){var x=U.add(D);0>=x.l(O)&&(V=V.add(C),U=x),D=_e(D,1),C=_e(C,1)}return I=$(O,V.j(I)),new oe(V,I)}for(V=S;0<=O.l(I);){for(C=Math.max(1,Math.floor(O.m()/I.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=g(C),x=U.j(I);K(x)||0<x.l(O);)C-=D,U=g(C),x=U.j(I);k(U)&&(U=b),V=V.add(U),O=$(O,x)}return new oe(V,O)}r.A=function(O){return he(this,O).h},r.and=function(O){for(var I=Math.max(this.g.length,O.g.length),C=[],D=0;D<I;D++)C[D]=this.i(D)&O.i(D);return new f(C,this.h&O.h)},r.or=function(O){for(var I=Math.max(this.g.length,O.g.length),C=[],D=0;D<I;D++)C[D]=this.i(D)|O.i(D);return new f(C,this.h|O.h)},r.xor=function(O){for(var I=Math.max(this.g.length,O.g.length),C=[],D=0;D<I;D++)C[D]=this.i(D)^O.i(D);return new f(C,this.h^O.h)};function ce(O){for(var I=O.g.length+1,C=[],D=0;D<I;D++)C[D]=O.i(D)<<1|O.i(D-1)>>>31;return new f(C,O.h)}function _e(O,I){var C=I>>5;I%=32;for(var D=O.g.length-C,V=[],U=0;U<D;U++)V[U]=0<I?O.i(U+C)>>>I|O.i(U+C+1)<<32-I:O.i(U+C);return new f(V,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ST=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Qr=f}).apply(typeof lE<"u"?lE:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wT,Vl,RT,ih,Vm,IT,CT,NT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in _))break e;_=_[j]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,j={next:function(){if(!w&&_<c.length){var X=_++;return{value:y(X,c[X]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,b.apply(null,arguments)}function P(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function k(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,j,X){for(var le=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)le[Le-2]=arguments[Le];return y.prototype[j].apply(w,le)}}function K(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function G(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const j=c.length||0,X=w.length||0;c.length=j+X;for(let le=0;le<X;le++)c[j+le]=w[le]}else c.push(w)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ee(c){return/^[\s\xa0]*$/.test(c)}function oe(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var ce=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function _e(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function I(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let _,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(_ in w)c[_]=w[_];for(let X=0;X<C.length;X++)_=C[X],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function x(){var c=F;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ot{constructor(){this.h=this.g=null}add(y,_){const w=Fe.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Fe=new $(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,te=!1,F=new ot,R=()=>{const c=m.Promise.resolve(void 0);ue=()=>{c.then(q)}};var q=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){U(_)}var y=Fe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}te=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Te(c,y){if(Z.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ce){e:{try{he(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ge[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Te.aa.h.call(this)}}k(Te,Z);var ge={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),De=0;function vt(c,y,_,w,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=j,this.key=++De,this.da=this.fa=!1}function Rt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Zt(c){this.src=c,this.g={},this.h=0}Zt.prototype.add=function(c,y,_,w,j){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var le=Jn(c,y,w,j);return-1<le?(y=c[le],_||(y.fa=!1)):(y=new vt(y,this.src,X,!!w,j),y.fa=_,c.push(y)),y};function hn(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],j=Array.prototype.indexOf.call(w,y,void 0),X;(X=0<=j)&&Array.prototype.splice.call(w,j,1),X&&(Rt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Jn(c,y,_,w){for(var j=0;j<c.length;++j){var X=c[j];if(!X.da&&X.listener==y&&X.capture==!!_&&X.ha==w)return j}return-1}var ei="closure_lm_"+(1e6*Math.random()|0),Ri={};function Eu(c,y,_,w,j){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Eu(c,y[X],_,w,j);return null}return _=Tu(_),c&&c[tt]?c.K(y,_,g(w)?!!w.capture:!1,j):In(c,y,_,!1,w,j)}function In(c,y,_,w,j,X){if(!y)throw Error("Invalid event type");var le=g(j)?!!j.capture:!!j,Le=Ws(c);if(Le||(c[ei]=Le=new Zt(c)),_=Le.add(y,_,w,le,X),_.proxy)return _;if(w=af(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)me||(j=le),j===void 0&&(j=!1),c.addEventListener(y.toString(),w,j);else if(c.attachEvent)c.attachEvent(rs(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function af(){function c(_){return y.call(c.src,c.listener,_)}const y=of;return c}function Ao(c,y,_,w,j){if(Array.isArray(y))for(var X=0;X<y.length;X++)Ao(c,y[X],_,w,j);else w=g(w)?!!w.capture:!!w,_=Tu(_),c&&c[tt]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],_=Jn(X,_,w,j),-1<_&&(Rt(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ws(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Jn(y,_,w,j)),(_=-1<c?y[c]:null)&&Zs(_))}function Zs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[tt])hn(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(rs(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=Ws(y))?(hn(_,c),_.h==0&&(_.src=null,y[ei]=null)):Rt(c)}}}function rs(c){return c in Ri?Ri[c]:Ri[c]="on"+c}function of(c,y){if(c.da)c=!0;else{y=new Te(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&Zs(c),c=_.call(w,y)}return c}function Ws(c){return c=c[ei],c instanceof Zt?c:null}var bo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tu(c){return typeof c=="function"?c:(c[bo]||(c[bo]=function(y){return c.handleEvent(y)}),c[bo])}function ht(){ae.call(this),this.i=new Zt(this),this.M=this,this.F=null}k(ht,ae),ht.prototype[tt]=!0,ht.prototype.removeEventListener=function(c,y,_,w){Ao(this,c,y,_,w)};function Qe(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new Z(y,c);else if(y instanceof Z)y.target=y.target||c;else{var j=y;y=new Z(w,c),D(y,j)}if(j=!0,_)for(var X=_.length-1;0<=X;X--){var le=y.g=_[X];j=gn(le,w,!0,y)&&j}if(le=y.g=c,j=gn(le,w,!0,y)&&j,j=gn(le,w,!1,y)&&j,_)for(X=0;X<_.length;X++)le=y.g=_[X],j=gn(le,w,!1,y)&&j}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)Rt(_[w]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},ht.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function gn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,X=0;X<y.length;++X){var le=y[X];if(le&&!le.da&&le.capture==_){var Le=le.listener,Ct=le.ha||le.src;le.fa&&hn(c.i,le),j=Le.call(Ct,w)!==!1&&j}}return j&&!w.defaultPrevented}function Wt(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Au(c){c.g=Wt(()=>{c.g=null,c.i&&(c.i=!1,Au(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class lf extends ae{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Au(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(c){ae.call(this),this.h=c,this.g={}}k(ss,ae);var as=[];function os(c){_e(c.g,function(y,_){this.g.hasOwnProperty(_)&&Zs(y)},c),c.g={}}ss.prototype.N=function(){ss.aa.N.call(this),os(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=m.JSON.stringify,Js=m.JSON.parse,ls=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function So(){}So.prototype.h=null;function wo(c){return c.h||(c.h=c.i())}function Ro(){}var Ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ci(){Z.call(this,"d")}k(Ci,Z);function Io(){Z.call(this,"c")}k(Io,Z);var ti={},Co=null;function ur(){return Co=Co||new ht}ti.La="serverreachability";function ea(c){Z.call(this,ti.La,c)}k(ea,Z);function cr(c){const y=ur();Qe(y,new ea(y))}ti.STAT_EVENT="statevent";function bu(c,y){Z.call(this,ti.STAT_EVENT,c),this.stat=y}k(bu,Z);function rt(c){const y=ur();Qe(y,new bu(y,c))}ti.Ma="timingevent";function It(c,y){Z.call(this,ti.Ma,c),this.size=y}k(It,Z);function Et(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function No(c,y,_,w,j,X){c.info(function(){if(c.g)if(X)for(var le="",Le=X.split("&"),Ct=0;Ct<Le.length;Ct++){var Ue=Le[Ct].split("=");if(1<Ue.length){var Vt=Ue[0];Ue=Ue[1];var Nt=Vt.split("_");le=2<=Nt.length&&Nt[1]=="type"?le+(Vt+"="+Ue+"&"):le+(Vt+"=redacted&")}}else le=null;else le=X;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+y+`
`+_+`
`+le})}function uf(c,y,_,w,j,X,le){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+y+`
`+_+`
`+X+" "+le})}function hr(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+us(c,_)+(w?" "+w:"")})}function Su(c,y){c.info(function(){return"TIMEOUT: "+y})}Cn.prototype.info=function(){};function us(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var X=j[0];if(X!="noop"&&X!="stop"&&X!="close")for(var le=1;le<j.length;le++)j[le]=""}}}}return zn(_)}catch{return y}}var fr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ni;function ii(){}k(ii,So),ii.prototype.g=function(){return new XMLHttpRequest},ii.prototype.i=function(){return{}},ni=new ii;function sn(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var xo={},ta={};function qn(c,y,_){c.L=1,c.v=ms(yn(y)),c.m=_,c.P=!0,xi(c,null)}function xi(c,y){c.F=Date.now(),cs(c),c.A=yn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Po(_.i,"t",w),c.C=0,_=c.j.J,c.h=new pt,c.g=Bu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new lf(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(as[0]=j.toString()),j=as);for(var X=0;X<j.length;X++){var le=Eu(_,j[X],w||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),cr(),No(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=On(this.g);var y=this.g.Ba();const Ui=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Ou(this.g)))){this.J||Nt!=4||y==7||(y==8||0>=Ui?cr(3):cr(2)),dr(this);var _=this.g.Z();this.X=_;t:if(wu(this)){var w=Ou(this.g);c="";var j=w.length,X=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),ri(this);var le="";break t}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(X&&y==j-1)});w.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,uf(this.i,this.u,this.A,this.l,this.R,Nt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Ct=this.g;if((Le=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Le)){var Ue=Le;break t}}Ue=null}if(_=Ue)hr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hs(this,_);else{this.o=!1,this.s=3,rt(12),zt(this),ri(this);break e}}if(this.P){_=!0;let qt;for(;!this.J&&this.C<le.length;)if(qt=Ru(this,le),qt==ta){Nt==4&&(this.s=4,rt(14),_=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==xo){this.s=4,rt(15),hr(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else hr(this.i,this.l,qt,null),hs(this,qt);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||le.length!=0||this.h.h||(this.s=1,rt(16),_=!1),this.o=this.o&&_,!_)hr(this.i,this.l,le,"[Invalid Chunked Response]"),zt(this),ri(this);else if(0<le.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),As(Vt),Vt.M=!0,rt(11))}}else hr(this.i,this.l,le,null),hs(this,le);Nt==4&&zt(this),this.o&&!this.J&&(Nt==4?Lu(this.j,this):(this.o=!1,cs(this)))}else mf(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),zt(this),ri(this)}}}catch{}finally{}};function wu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ru(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?ta:(_=Number(y.substring(_,w)),isNaN(_)?xo:(w+=1,w+_>y.length?ta:(y=y.slice(w,w+_),c.C=w+_,y)))}sn.prototype.cancel=function(){this.J=!0,zt(this)};function cs(c){c.S=Date.now()+c.I,Iu(c,c.I)}function Iu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(b(c.ba,c),y)}function dr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Su(this.i,this.A),this.L!=2&&(cr(),rt(17)),zt(this),this.s=2,ri(this)):Iu(this,this.S-c)};function ri(c){c.j.G==0||c.J||Lu(c.j,c)}function zt(c){dr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,os(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function hs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Do(_.h,c))){if(!c.K&&Do(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)da(_),ha(_);else break e;zo(_),rt(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Et(b(_.Za,_),6e3));if(1>=ia(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Li(_,11)}else if((c.K||_.g==c)&&da(_),!ee(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Ue=j[y];if(_.T=Ue[0],Ue=Ue[1],_.G==2)if(Ue[0]=="c"){_.K=Ue[1],_.ia=Ue[2];const Vt=Ue[3];Vt!=null&&(_.la=Vt,_.j.info("VER="+_.la));const Nt=Ue[4];Nt!=null&&(_.Aa=Nt,_.j.info("SVER="+_.Aa));const Ui=Ue[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(w=1.5*Ui,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const qt=c.g;if(qt){const hi=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hi){var X=w.h;X.g||hi.indexOf("spdy")==-1&&hi.indexOf("quic")==-1&&hi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ra(X,X.h),X.h=null))}if(w.D){const Ho=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(w.ya=Ho,$e(w.I,w.D,Ho))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var le=c;if(w.qa=ju(w,w.J?w.ia:null,w.W),le.K){an(w.h,le);var Le=le,Ct=w.L;Ct&&(Le.I=Ct),Le.B&&(dr(Le),cs(Le)),w.g=le}else Vu(w);0<_.i.length&&fa(_)}else Ue[0]!="stop"&&Ue[0]!="close"||Li(_,7);else _.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Li(_,7):jo(_):Ue[0]!="noop"&&_.l&&_.l.ta(Ue),_.v=0)}}cr(4)}catch{}}var Cu=class{constructor(c,y){this.g=c,this.map=y}};function Di(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function na(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ia(c){return c.h?1:c.g?c.g.size:0}function Do(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ra(c,y){c.g?c.g.add(y):c.h=y}function an(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Di.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return K(c.i)}function cf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function sa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function Mo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=sa(c),w=cf(c),j=w.length,X=0;X<j;X++)y.call(void 0,w[X],_&&_[X],c)}var fs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),j=null;if(0<=w){var X=c[_].substring(0,w);j=c[_].substring(w+1)}else X=c[_];y(X,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,ds(this,c.j),this.o=c.o,this.g=c.g,mr(this,c.s),this.l=c.l;var y=c.i,_=new Mi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Oi(this,_),this.m=c.m}else c&&(y=String(c).match(fs))?(this.h=!1,ds(this,y[1]||"",!0),this.o=Nn(y[2]||""),this.g=Nn(y[3]||"",!0),mr(this,y[4]),this.l=Nn(y[5]||"",!0),Oi(this,y[6]||"",!0),this.m=Nn(y[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}Tt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ps(y,ko,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ps(y,ko,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ps(_,_.charAt(0)=="/"?ff:Vo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ps(_,aa)),c.join("")};function yn(c){return new Tt(c)}function ds(c,y,_){c.j=_?Nn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function mr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Oi(c,y,_){y instanceof Mi?(c.i=y,xu(c.i,c.h)):(_||(y=ps(y,df)),c.i=new Mi(y,c.h))}function $e(c,y,_){c.i.set(y,_)}function ms(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Nn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ps(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Nu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Nu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ko=/[#\/\?@]/g,Vo=/[#\?:]/g,ff=/[#\?]/g,df=/[#\?@]/g,aa=/#/g;function Mi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&hf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Mi.prototype,r.add=function(c,y){xn(this),this.i=null,c=si(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ki(c,y){xn(c),y=si(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Vi(c,y){return xn(c),y=si(c,y),c.g.has(y)}r.forEach=function(c,y){xn(this),this.g.forEach(function(_,w){_.forEach(function(j){c.call(y,j,w,this)},this)},this)},r.na=function(){xn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const j=c[w];for(let X=0;X<j.length;X++)_.push(y[w])}return _},r.V=function(c){xn(this);let y=[];if(typeof c=="string")Vi(this,c)&&(y=y.concat(this.g.get(si(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return xn(this),this.i=null,c=si(this,c),Vi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Po(c,y,_){ki(c,y),0<_.length&&(c.i=null,c.g.set(si(c,y),K(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const X=encodeURIComponent(String(w)),le=this.V(w);for(w=0;w<le.length;w++){var j=X;le[w]!==""&&(j+="="+encodeURIComponent(String(le[w]))),c.push(j)}}return this.i=c.join("&")};function si(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function xu(c,y){y&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(_,w){var j=w.toLowerCase();w!=j&&(ki(this,w),Po(this,j,_))},c)),c.j=y}function gs(c,y){const _=new Cn;if(m.Image){const w=new Image;w.onload=P(Dn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=P(Dn,_,"TestLoadImage: error",!1,y,w),w.onabort=P(Dn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=P(Dn,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Hn(c,y){const _=new Cn,w=new AbortController,j=setTimeout(()=>{w.abort(),Dn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(X=>{clearTimeout(j),X.ok?Dn(_,"TestPingServer: ok",!0,y):Dn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Dn(_,"TestPingServer: error",!1,y)})}function Dn(c,y,_,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(_)}catch{}}function ys(){this.g=new ls}function ai(c,y,_){const w=_||"";try{Mo(c,function(j,X){let le=j;g(j)&&(le=zn(j)),y.push(w+X+"="+encodeURIComponent(le))})}catch(j){throw y.push(w+"type="+encodeURIComponent("_badmap")),j}}function pr(c){this.l=c.Ub||null,this.j=c.eb||!1}k(pr,So),pr.prototype.g=function(){return new Pi(this.l,this.j)},pr.prototype.i=function(c){return function(){return c}}({});function Pi(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Pi,ht),r=Pi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,li(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?oi(this):li(this),this.readyState==3&&Lo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,oi(this))},r.Qa=function(c){this.g&&(this.response=c,oi(this))},r.ga=function(){this.g&&oi(this)};function oi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,li(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function li(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Uo(c){let y="";return _e(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function kt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Uo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$e(c,y,_))}function Ge(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ge,ht);var oa=/^https?$/i,_s=["POST","PUT"];r=Ge.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ni.g(),this.v=this.o?wo(this.o):wo(ni),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){Du(this,X);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)_.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const X of w.keys())_.set(X,w.get(X));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(_s,y,void 0))||w||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of _)this.g.setRequestHeader(X,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Du(this,X)}};function Du(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,la(c),ui(c)}function la(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ua(this):this.bb())},r.bb=function(){ua(this)};function ua(c){if(c.h&&typeof f<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Wt(c.Ea,0,c);else if(Qe(c,"readystatechange"),On(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=le===0){var j=String(c.D).match(fs)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),w=!oa.test(j?j.toLowerCase():"")}_=w}if(_)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var X=2<On(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",la(c)}}finally{ui(c)}}}}function ui(c,y){if(c.g){vs(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{_.onreadystatechange=w}catch{}}}function vs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Js(y)}};function Ou(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function mf(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(ee(c[w]))continue;var _=V(c[w]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=y[j]||[];y[j]=X,X.push(_)}O(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Es(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ca(c){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Es("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Es("baseRetryDelayMs",5e3,c),this.cb=Es("retryDelaySeedMs",1e4,c),this.Wa=Es("forwardChannelMaxRetries",2,c),this.wa=Es("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Di(c&&c.concurrentRequestLimit),this.Da=new ys,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ca.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,w){rt(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=ju(this,null,this.W),fa(this)};function jo(c){if(Mu(c),c.G==3){var y=c.U++,_=yn(c.I);if($e(_,"SID",c.K),$e(_,"RID",y),$e(_,"TYPE","terminate"),Ts(c,_),y=new sn(c,c.j,y),y.L=2,y.v=ms(yn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Bu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),cs(y)}Uu(c)}function ha(c){c.g&&(As(c),c.g.cancel(),c.g=null)}function Mu(c){ha(c),c.u&&(m.clearTimeout(c.u),c.u=null),da(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function fa(c){if(!na(c.h)&&!c.s){c.s=!0;var y=c.Ga;ue||R(),te||(ue(),te=!0),F.add(y,c),c.B=0}}function pf(c,y){return ia(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(b(c.Ga,c,y),qo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new sn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=I(X),D(X,this.S)):X=this.S),this.m!==null||this.O||(j.H=X,X=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ku(this,j,y),_=yn(this.I),$e(_,"RID",c),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),Ts(this,_),X&&(this.O?y="headers="+encodeURIComponent(String(Uo(X)))+"&"+y:this.m&&kt(_,this.m,X)),ra(this.h,j),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",y),$e(_,"SID","null"),j.T=!0,qn(j,_,null)):qn(j,_,y),this.G=2}}else this.G==3&&(c?Bo(this,c):this.i.length==0||na(this.h)||Bo(this))};function Bo(c,y){var _;y?_=y.l:_=c.U++;const w=yn(c.I);$e(w,"SID",c.K),$e(w,"RID",_),$e(w,"AID",c.T),Ts(c,w),c.m&&c.o&&kt(w,c.m,c.o),_=new sn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ku(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ra(c.h,_),qn(_,w,y)}function Ts(c,y){c.H&&_e(c.H,function(_,w){$e(y,w,_)}),c.l&&Mo({},function(_,w){$e(y,w,_)})}function ku(c,y,_){_=Math.min(c.i.length,_);var w=c.l?b(c.l.Na,c.l,c):null;e:{var j=c.i;let X=-1;for(;;){const le=["count="+_];X==-1?0<_?(X=j[0].g,le.push("ofs="+X)):X=0:le.push("ofs="+X);let Le=!0;for(let Ct=0;Ct<_;Ct++){let Ue=j[Ct].g;const Vt=j[Ct].map;if(Ue-=X,0>Ue)X=Math.max(0,j[Ct].g-100),Le=!1;else try{ai(Vt,le,"req"+Ue+"_")}catch{w&&w(Vt)}}if(Le){w=le.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function Vu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ue||R(),te||(ue(),te=!0),F.add(y,c),c.v=0}}function zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(b(c.Fa,c),qo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),ha(this),Pu(this))};function As(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Pu(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=yn(c.qa);$e(y,"RID","rpc"),$e(y,"SID",c.K),$e(y,"AID",c.T),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(y,"TO",c.ja),$e(y,"TYPE","xmlhttp"),Ts(c,y),c.m&&c.o&&kt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ms(yn(y)),_.m=null,_.P=!0,xi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ha(this),zo(this),rt(19))};function da(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Lu(c,y){var _=null;if(c.g==y){da(c),As(c),c.g=null;var w=2}else if(Do(c.h,y))_=y.D,an(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;w=ur(),Qe(w,new It(w,_)),fa(c)}else Vu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(w==1&&pf(c,y)||w==2&&zo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Li(c,5);break;case 4:Li(c,10);break;case 3:Li(c,6);break;default:Li(c,2)}}}function qo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Li(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),w=c.Xa;const j=!w;w=new Tt(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ds(w,"https"),ms(w),j?gs(w.toString(),_):Hn(w.toString(),_)}else rt(2);c.G=0,c.l&&c.l.sa(y),Uu(c),Mu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Uu(c){if(c.G=0,c.ka=[],c.l){const y=Oo(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ka,y),G(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function ju(c,y,_){var w=_ instanceof Tt?yn(_):new Tt(_);if(w.g!="")y&&(w.g=y+"."+w.g),mr(w,w.s);else{var j=m.location;w=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var X=new Tt(null);w&&ds(X,w),y&&(X.g=y),j&&mr(X,j),_&&(X.l=_),w=X}return _=c.D,y=c.ya,_&&y&&$e(w,_,y),$e(w,"VER",c.la),Ts(c,w),w}function Bu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new pr({eb:_})):new Ge(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}r=zu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ma(){}ma.prototype.g=function(c,y){return new on(c,y)};function on(c,y){ht.call(this),this.g=new ca(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ee(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ee(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ci(this)}k(on,ht),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){jo(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=zn(c),c=_);y.i.push(new Cu(y.Ya++,c)),y.G==3&&fa(y)},on.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,on.aa.N.call(this)};function qu(c){Ci.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(qu,Ci);function Hu(){Io.call(this),this.status=1}k(Hu,Io);function ci(c){this.g=c}k(ci,zu),ci.prototype.ua=function(){Qe(this.g,"a")},ci.prototype.ta=function(c){Qe(this.g,new qu(c))},ci.prototype.sa=function(c){Qe(this.g,new Hu)},ci.prototype.ra=function(){Qe(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,NT=function(){return new ma},CT=function(){return ur()},IT=ti,Vm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,ih=fr,Ni.COMPLETE="complete",RT=Ni,Ro.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Vl=Ro,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,wT=Ge}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});const uE="@firebase/firestore",cE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new ap("@firebase/firestore");function Fa(){return Hs.logLevel}function de(r,...e){if(Hs.logLevel<=Ve.DEBUG){const n=e.map(_p);Hs.debug(`Firestore (${_o}): ${r}`,...n)}}function ar(r,...e){if(Hs.logLevel<=Ve.ERROR){const n=e.map(_p);Hs.error(`Firestore (${_o}): ${r}`,...n)}}function no(r,...e){if(Hs.logLevel<=Ve.WARN){const n=e.map(_p);Hs.warn(`Firestore (${_o}): ${r}`,...n)}}function _p(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,xT(r,s,n)}function xT(r,e,n){let s=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ar(s),new Error(s)}function ze(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||xT(e,o,s)}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class dN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mN{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ti,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ti)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ze(typeof s.accessToken=="string",31837,{l:s}),new DT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class pN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new pN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0,3512);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=_N(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function xe(r,e){return r<e?-1:r>e?1:0}function Pm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return xe(s,o);{const u=OT(),f=vN(u.encode(fE(r,n)),u.encode(fE(e,n)));return f!==0?f:xe(s,o)}}n+=s>65535?2:1}return xe(r.length,e.length)}function fE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function vN(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return xe(r[n],e[n]);return xe(r.length,e.length)}function io(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=-62135596800,mE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*mE);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dE)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mE}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-dE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new it(0,0))}static max(){return new Se(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="__name__";class yi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=yi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const s=yi.isNumericId(e),o=yi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?yi.extractNumericId(e).compare(yi.extractNumericId(n)):Pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qr.fromString(e.substring(4,e.length-2))}}class et extends yi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new et(n)}static emptyPath(){return new et([])}}const EN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends yi{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return EN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pE}static keyField(){return new Kt([pE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(et.fromString(e))}static fromName(e){return new ve(et.fromString(e).popFirst(5))}static empty(){return new ve(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function TN(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new Yr(o,ve.empty(),e)}function AN(r){return new Yr(r.readTime,r.key,Xl)}class Yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(Se.min(),ve.empty(),Xl)}static max(){return new Yr(Se.max(),ve.empty(),Xl)}}function bN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==SN)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,s)=>{n(e)})}static reject(e){return new se((n,s)=>{s(e)})}static waitFor(e){return new se((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next(o=>o?se.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new se((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new se((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function RN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Bh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=-1;function uu(r){return r==null}function vh(r){return r===0&&1/r==-1/0}function IN(r){return typeof r=="number"&&Number.isInteger(r)&&!vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="";function CN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=gE(e)),e=NN(r.get(n),e);return gE(e)}function NN(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case kT:n+="";break;default:n+=u}}return n}function gE(r){return r+kT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ns(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function VT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _E(this.data.getIterator())}getIteratorFrom(e){return new _E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class _E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Mt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new PT("Invalid base64 string: "+u):u}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const xN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(r){if(ze(!!r,39018),typeof r=="string"){let e=0;const n=xN.exec(r);if(ze(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xr(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="server_timestamp",UT="__type__",jT="__previous_value__",BT="__local_write_time__";function Ep(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[UT])===null||n===void 0?void 0:n.stringValue)===LT}function zh(r){const e=r.mapValue.fields[jT];return Ep(e)?zh(e):e}function Zl(r){const e=$r(r.mapValue.fields[BT].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Eh="(default)";class Wl{constructor(e,n){this.projectId=e,this.database=n||Eh}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="__type__",ON="__max__",Yc={mapValue:{}},qT="__vector__",Th="value";function Zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ep(r)?4:kN(r)?9007199254740991:MN(r)?10:11:Ee(28295,{value:r})}function bi(r,e){if(r===e)return!0;const n=Zr(r);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zl(r).isEqual(Zl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=$r(o.timestampValue),m=$r(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Xr(o.bytesValue).isEqual(Xr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?vh(f)===vh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return io(r.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(yE(f)!==yE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!bi(f[p],m[p])))return!1;return!0}(r,e);default:return Ee(52216,{left:r})}}function Jl(r,e){return(r.values||[]).find(n=>bi(n,e))!==void 0}function ro(r,e){if(r===e)return 0;const n=Zr(r),s=Zr(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return vE(r.timestampValue,e.timestampValue);case 4:return vE(Zl(r),Zl(e));case 5:return Pm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Xr(u),p=Xr(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=xe(m[g],p[g]);if(E!==0)return E}return xe(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=xe(_t(u.latitude),_t(f.latitude));return m!==0?m:xe(_t(u.longitude),_t(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return EE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const S=u.fields||{},b=f.fields||{},P=(m=S[Th])===null||m===void 0?void 0:m.arrayValue,k=(p=b[Th])===null||p===void 0?void 0:p.arrayValue,K=xe(((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:EE(P,k)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Yc.mapValue&&f===Yc.mapValue)return 0;if(u===Yc.mapValue)return 1;if(f===Yc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const b=Pm(p[S],E[S]);if(b!==0)return b;const P=ro(m[p[S]],g[E[S]]);if(P!==0)return P}return xe(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Ee(23264,{Pe:n})}}function vE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const n=$r(r),s=$r(e),o=xe(n.seconds,s.seconds);return o!==0?o:xe(n.nanos,s.nanos)}function EE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ro(n[o],s[o]);if(u)return u}return xe(n.length,s.length)}function so(r){return Lm(r)}function Lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=$r(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Xr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ve.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Lm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Lm(n.fields[f])}`;return o+"}"}(r.mapValue):Ee(61005,{value:r})}function rh(r){switch(Zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(r);return e?16+rh(e):16;case 5:return 2*r.stringValue.length;case 6:return Xr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+rh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ns(s.fields,(u,f)=>{o+=u.length+rh(f)}),o}(r.mapValue);default:throw Ee(13486,{value:r})}}function TE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Um(r){return!!r&&"integerValue"in r}function Tp(r){return!!r&&"arrayValue"in r}function AE(r){return!!r&&"nullValue"in r}function bE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function sh(r){return!!r&&"mapValue"in r}function MN(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[zT])===null||n===void 0?void 0:n.stringValue)===qT}function zl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ns(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=zl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function kN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ON}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=zl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ns(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new un(zl(this.value))}}function HT(r){const e=[];return ns(r.fields,(n,s)=>{const o=new Kt([n]);if(sh(s)){const u=HT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Bt(e,0,Se.min(),Se.min(),Se.min(),un.empty(),0)}static newFoundDocument(e,n,s,o){return new Bt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Bt(e,2,n,Se.min(),Se.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,Se.min(),Se.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function SE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(f.referenceValue),n.key):s=ro(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function wE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!bi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function VN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{}class wt extends FT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new LN(e,n,s):n==="array-contains"?new BN(e,s):n==="in"?new zN(e,s):n==="not-in"?new qN(e,s):n==="array-contains-any"?new HN(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new UN(e,s):new jN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ro(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends FT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Xn(e,n)}matches(e){return GT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function GT(r){return r.op==="and"}function QT(r){return PN(r)&&GT(r)}function PN(r){for(const e of r.filters)if(e instanceof Xn)return!1;return!0}function jm(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+so(r.value);if(QT(r))return r.filters.map(e=>jm(e)).join(",");{const e=r.filters.map(n=>jm(n)).join(",");return`${r.op}(${e})`}}function KT(r,e){return r instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&bi(s.value,o.value)}(r,e):r instanceof Xn?function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&KT(f,o.filters[m]),!0):!1}(r,e):void Ee(19439)}function YT(r){return r instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${so(n.value)}`}(r):r instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(YT).join(" ,")+"}"}(r):"Filter"}class LN extends wt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class UN extends wt{constructor(e,n){super(e,"in",n),this.keys=$T("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jN extends wt{constructor(e,n){super(e,"not-in",n),this.keys=$T("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $T(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ve.fromName(s.referenceValue))}class BN extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tp(n)&&Jl(n.arrayValue,this.value)}}class zN extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class qN extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class HN extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Jl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function RE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new FN(r,e,n,s,o,u,f)}function Ap(r){const e=Ie(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>jm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),uu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>so(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>so(s)).join(",")),e.Ie=n}return e.Ie}function bp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!VN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!KT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!wE(r.startAt,e.startAt)&&wE(r.endAt,e.endAt)}function Bm(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function GN(r,e,n,s,o,u,f,m){return new cu(r,e,n,s,o,u,f,m)}function qh(r){return new cu(r)}function IE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function XT(r){return r.collectionGroup!==null}function ql(r){const e=Ie(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Mt(Kt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new bh(u,s))}),n.has(Kt.keyField().canonicalString())||e.Ee.push(new bh(Kt.keyField(),s))}return e.Ee}function Ai(r){const e=Ie(r);return e.de||(e.de=QN(e,ql(r))),e.de}function QN(r,e){if(r.limitType==="F")return RE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new bh(o.field,u)});const n=r.endAt?new Ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ah(r.startAt.position,r.startAt.inclusive):null;return RE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function zm(r,e){const n=r.filters.concat([e]);return new cu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function qm(r,e,n){return new cu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Hh(r,e){return bp(Ai(r),Ai(e))&&r.limitType===e.limitType}function ZT(r){return`${Ap(Ai(r))}|lt:${r.limitType}`}function Ga(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>YT(o)).join(", ")}]`),uu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>so(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>so(o)).join(",")),`Target(${s})`}(Ai(r))}; limitType=${r.limitType})`}function Fh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=SE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,ql(s),o)||s.endAt&&!function(f,m,p){const g=SE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,ql(s),o))}(r,e)}function KN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function WT(r){return(e,n)=>{let s=!1;for(const o of ql(r)){const u=YN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function YN(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?ro(p,g):Ee(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ns(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return VT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new ct(ve.comparator);function or(){return $N}const JT=new ct(ve.comparator);function Pl(...r){let e=JT;for(const n of r)e=e.insert(n.key,n);return e}function eA(r){let e=JT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function js(){return Hl()}function tA(){return Hl()}function Hl(){return new Ks(r=>r.toString(),(r,e)=>r.isEqual(e))}const XN=new ct(ve.comparator),ZN=new Mt(ve.comparator);function Pe(...r){let e=ZN;for(const n of r)e=e.add(n);return e}const WN=new Mt(xe);function JN(){return WN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function nA(r){return{integerValue:""+r}}function e2(r,e){return IN(e)?nA(e):Sp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this._=void 0}}function t2(r,e,n){return r instanceof Sh?function(o,u){const f={fields:{[UT]:{stringValue:LT},[BT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ep(u)&&(u=zh(u)),u&&(f.fields[jT]=u),{mapValue:f}}(n,e):r instanceof ao?rA(r,e):r instanceof oo?sA(r,e):function(o,u){const f=iA(o,u),m=CE(f)+CE(o.Re);return Um(f)&&Um(o.Re)?nA(m):Sp(o.serializer,m)}(r,e)}function n2(r,e,n){return r instanceof ao?rA(r,e):r instanceof oo?sA(r,e):n}function iA(r,e){return r instanceof wh?function(s){return Um(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Sh extends Gh{}class ao extends Gh{constructor(e){super(),this.elements=e}}function rA(r,e){const n=aA(e);for(const s of r.elements)n.some(o=>bi(o,s))||n.push(s);return{arrayValue:{values:n}}}class oo extends Gh{constructor(e){super(),this.elements=e}}function sA(r,e){let n=aA(e);for(const s of r.elements)n=n.filter(o=>!bi(o,s));return{arrayValue:{values:n}}}class wh extends Gh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function CE(r){return _t(r.integerValue||r.doubleValue)}function aA(r){return Tp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n){this.field=e,this.transform=n}}function i2(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof ao&&o instanceof ao||s instanceof oo&&o instanceof oo?io(s.elements,o.elements,bi):s instanceof wh&&o instanceof wh?bi(s.Re,o.Re):s instanceof Sh&&o instanceof Sh}(r.transform,e.transform)}class r2{constructor(e,n){this.version=e,this.transformResults=n}}class Yt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yt}static exists(e){return new Yt(void 0,e)}static updateTime(e){return new Yt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Qh{}function lA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Kh(r.key,Yt.none()):new hu(r.key,r.data,Yt.none());{const n=r.data,s=un.empty();let o=new Mt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new is(r.key,s,new wn(o.toArray()),Yt.none())}}function s2(r,e,n){r instanceof hu?function(o,u,f){const m=o.value.clone(),p=xE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof is?function(o,u,f){if(!ah(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=xE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(uA(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Fl(r,e,n,s){return r instanceof hu?function(u,f,m,p){if(!ah(u.precondition,f))return m;const g=u.value.clone(),E=DE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof is?function(u,f,m,p){if(!ah(u.precondition,f))return m;const g=DE(u.fieldTransforms,p,f),E=f.data;return E.setAll(uA(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,s):function(u,f,m){return ah(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function a2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=iA(s.transform,o||null);u!=null&&(n===null&&(n=un.empty()),n.set(s.field,u))}return n||null}function NE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&io(s,o,(u,f)=>i2(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class hu extends Qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class is extends Qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function uA(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function xE(r,e,n){const s=new Map;ze(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,n2(f,m,n[o]))}return s}function DE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,t2(u,f,e))}return s}class Kh extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cA extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&s2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=tA();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=lA(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,(n,s)=>NE(n,s))&&io(this.baseMutations,e.baseMutations,(n,s)=>NE(n,s))}}class wp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){ze(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return XN}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new wp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Be;function hA(r){switch(r){case ie.OK:return Ee(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function fA(r){if(r===void 0)return ar("GRPC error has no .code"),ie.UNKNOWN;switch(r){case St.OK:return ie.OK;case St.CANCELLED:return ie.CANCELLED;case St.UNKNOWN:return ie.UNKNOWN;case St.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case St.INTERNAL:return ie.INTERNAL;case St.UNAVAILABLE:return ie.UNAVAILABLE;case St.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case St.NOT_FOUND:return ie.NOT_FOUND;case St.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case St.ABORTED:return ie.ABORTED;case St.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case St.DATA_LOSS:return ie.DATA_LOSS;default:return Ee(39323,{code:r})}}(Be=St||(St={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new Qr([4294967295,4294967295],0);function OE(r){const e=OT().encode(r),n=new ST;return n.update(e),new Uint8Array(n.digest())}function ME(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qr([n,s],0),new Qr([o,u],0)]}class Rp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(s<0)throw new Ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Qr.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(Qr.fromNumber(s)));return o.compare(c2)===1&&(o=new Qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=OE(e),[s,o]=ME(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Rp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=OE(e),[s,o]=ME(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Yh(Se.min(),o,new ct(xe),or(),Pe())}}class fu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new fu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class dA{constructor(e,n){this.targetId=e,this.Ce=n}}class mA{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class kE{constructor(){this.Fe=0,this.Me=VE(),this.xe=Xt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Pe(),n=Pe(),s=Pe();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new fu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=VE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class h2{constructor(e){this.ze=e,this.je=new Map,this.He=or(),this.Je=$c(),this.Ye=$c(),this.Ze=new ct(xe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Bm(u))if(s===0){const f=new ve(u.path);this.tt(n,f,Bt.newNoDocument(f,Se.min()))}else ze(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Xr(s).toUint8Array()}catch(p){if(p instanceof PT)return no("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Rp(f,o,u)}catch(p){return no(p instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Bm(m.target)){const p=new ve(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Bt.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Pe();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Yh(e,n,this.Ze,this.He,s);return this.He=or(),this.Je=$c(),this.Ye=$c(),this.Ze=new ct(xe),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new kE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Mt(xe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Mt(xe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new kE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function $c(){return new ct(ve.comparator)}function VE(){return new ct(ve.comparator)}const f2={asc:"ASCENDING",desc:"DESCENDING"},d2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m2={and:"AND",or:"OR"};class p2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hm(r,e){return r.useProto3Json||uu(e)?e:{value:e}}function Rh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function g2(r,e){return Rh(r,e.toTimestamp())}function Rn(r){return ze(!!r,49232),Se.fromTimestamp(function(n){const s=$r(n);return new it(s.seconds,s.nanos)}(r))}function Ip(r,e){return Fm(r,e).canonicalString()}function Fm(r,e){const n=function(o){return new et(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function gA(r){const e=et.fromString(r);return ze(AA(e),10190,{key:e.toString()}),e}function Ih(r,e){return Ip(r.databaseId,e.path)}function Gl(r,e){const n=gA(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(_A(n))}function yA(r,e){return Ip(r.databaseId,e)}function y2(r){const e=gA(r);return e.length===4?et.emptyPath():_A(e)}function Gm(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _A(r){return ze(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function PE(r,e,n){return{name:Ih(r,e),fields:n.value.mapValue.fields}}function _2(r,e){return"found"in e?function(s,o){ze(!!o.found,43571),o.found.name,o.found.updateTime;const u=Gl(s,o.found.name),f=Rn(o.found.updateTime),m=o.found.createTime?Rn(o.found.createTime):Se.min(),p=new un({mapValue:{fields:o.found.fields}});return Bt.newFoundDocument(u,f,m,p)}(r,e):"missing"in e?function(s,o){ze(!!o.missing,3894),ze(!!o.readTime,22933);const u=Gl(s,o.missing),f=Rn(o.readTime);return Bt.newNoDocument(u,f)}(r,e):Ee(7234,{result:e})}function v2(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(ze(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?ie.UNKNOWN:fA(g.code);return new fe(E,g.message||"")}(f);n=new mA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Gl(r,s.document.name),u=Rn(s.document.updateTime),f=s.document.createTime?Rn(s.document.createTime):Se.min(),m=new un({mapValue:{fields:s.document.fields}}),p=Bt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new oh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Gl(r,s.document),u=s.readTime?Rn(s.readTime):Se.min(),f=Bt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new oh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Gl(r,s.document),u=s.removedTargetIds||[];n=new oh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new u2(o,u),m=s.targetId;n=new dA(m,f)}}return n}function vA(r,e){let n;if(e instanceof hu)n={update:PE(r,e.key,e.value)};else if(e instanceof Kh)n={delete:Ih(r,e.key)};else if(e instanceof is)n={update:PE(r,e.key,e.data),updateMask:C2(e.fieldMask)};else{if(!(e instanceof cA))return Ee(16599,{ft:e.type});n={verify:Ih(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ao)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof oo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Ee(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:g2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(r,e.precondition)),n}function E2(r,e){return r&&r.length>0?(ze(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?Rn(o.updateTime):Rn(u);return f.isEqual(Se.min())&&(f=Rn(u)),new r2(f,o.transformResults||[])}(n,e))):[]}function T2(r,e){return{documents:[yA(r,e.path)]}}function A2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=yA(r,o);const u=function(g){if(g.length!==0)return TA(Xn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(b){return{field:Qa(b.field),direction:w2(b.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Hm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function b2(r){let e=y2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ze(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const b=EA(S);return b instanceof Xn&&QT(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(b=>function(k){return new bh(Ka(k.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(S){let b;return b=typeof S=="object"?S.value:S,uu(b)?null:b}(n.limit));let p=null;n.startAt&&(p=function(S){const b=!!S.before,P=S.values||[];return new Ah(P,b)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const b=!S.before,P=S.values||[];return new Ah(P,b)}(n.endAt)),GN(e,o,f,u,m,"F",p,g)}function S2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EA(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ka(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ka(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ka(n.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(r):r.fieldFilter!==void 0?function(n){return wt.create(Ka(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(s=>EA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(r):Ee(30097,{filter:r})}function w2(r){return f2[r]}function R2(r){return d2[r]}function I2(r){return m2[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Kt.fromServerFormat(r.fieldPath)}function TA(r){return r instanceof wt?function(n){if(n.op==="=="){if(bE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(AE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(AE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:R2(n.op),value:n.value}}}(r):r instanceof Xn?function(n){const s=n.getFilters().map(o=>TA(o));return s.length===1?s[0]:{compositeFilter:{op:I2(n.op),filters:s}}}(r):Ee(54877,{filter:r})}function C2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.wt=e}}function x2(r){const e=b2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.Cn=new O2}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Yr.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class O2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Mt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bA=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(bA,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new lo(0)}static lr(){return new lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="LruGarbageCollector",M2=1048576;function jE([r,e],[n,s]){const o=xe(r,n);return o===0?xe(e,s):o}class k2{constructor(e){this.Er=e,this.buffer=new Mt(jE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();jE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class V2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){de(UE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?de(UE,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.mr(3e5)})}}class P2{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Bh.le);const s=new k2(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(LE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),Fa()<=Ve.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function L2(r,e){return new P2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.changes=new Ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Fl(s.mutation,o,wn.empty(),it.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const o=js();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Pl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=js();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=or();const f=Hl(),m=function(){return Hl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof is)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Fl(E.mutation,g,E.mutation.getFieldMask(),it.now())):f.set(g.key,wn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var S;return m.set(g,new j2(E,(S=f.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Hl();let o=new ct((f,m)=>f-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||wn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=tA();E.forEach(b=>{if(!u.has(b)){const P=lA(n.get(b),s.get(b));P!==null&&S.set(b,P),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return se.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):se.resolve(js());let m=Xl,p=u;return f.next(g=>se.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{p=p.insert(E,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Pe())).next(E=>({batchId:m,changes:eA(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(s=>{let o=Pl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Pl();return this.indexManager.getCollectionParents(e,u).next(m=>se.forEach(m,p=>{const g=function(S,b){return new cu(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((S,b)=>{f=f.insert(S,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Bt.newInvalidDocument(E)))});let m=Pl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Fl(E.mutation,g,wn.empty(),it.now()),Fh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return se.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Rn(o.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:x2(o.bundledQuery),readTime:Rn(o.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.overlays=new ct(ve.comparator),this.Qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=js();return se.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),se.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const o=js(),u=n.length+1,f=new ve(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=js(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return se.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new l2(n,s));let u=this.Qr.get(n);u===void 0&&(u=Pe(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.$r=new Mt(jt.Ur),this.Kr=new Mt(jt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new jt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new jt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new ve(new et([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ve(new et([])),s=new jt(n,e),o=new jt(n,e+1);let u=Pe();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new jt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ve.comparator(e.key,n.key)||xe(e.Zr,n.Zr)}static Wr(e,n){return xe(e.Zr,n.Zr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Mt(jt.Ur)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new o2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(f)}lookupMutationBatch(e,n){return se.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?vp:this.nr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(xe);return n.forEach(o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),se.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ve(u),0);let m=new Mt(xe);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),se.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ze(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return se.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new jt(n,0),o=this.Xr.firstAfterOrEqual(s);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.ii=e,this.docs=function(){return new ct(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let s=or();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Bt.newInvalidDocument(o))}),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=or();const f=n.path,m=new ve(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||bN(AN(E),s)<=0||(o.has(E.key)||Fh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}si(e,n){return se.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Q2(this)}getSize(e){return se.resolve(this.size)}}class Q2 extends U2{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),se.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.persistence=e,this.oi=new Ks(n=>Ap(n),bp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this._i=0,this.ai=new Cp,this.targetCount=0,this.ui=lo.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),se.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new lo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Tr(n),se.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),se.waitFor(u).next(()=>o)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),se.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n){this.ci={},this.overlays={},this.li=new Bh(0),this.hi=!1,this.hi=!0,this.Pi=new H2,this.referenceDelegate=e(this),this.Ti=new K2(this),this.indexManager=new D2,this.remoteDocumentCache=function(o){return new G2(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new N2(n),this.Ei=new z2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new F2(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new Y2(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return se.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class Y2 extends wN{constructor(e){super(),this.currentSequenceNumber=e}}class Np{constructor(e){this.persistence=e,this.Vi=new Cp,this.mi=null}static fi(e){return new Np(e)}get gi(){if(this.mi)return this.mi;throw Ee(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.gi,s=>{const o=ve.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return se.or([()=>se.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Ch{constructor(e,n){this.persistence=e,this.yi=new Ks(s=>CN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=L2(this,n)}static fi(e,n){return new Ch(e,n)}di(){}Ai(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return se.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?se.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}Dr(e,n,s){return se.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return se.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return M1()?8:RN(rn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new $2;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(Fa()<=Ve.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),se.resolve()):(Fa()<=Ve.DEBUG&&de("QueryEngine","Query:",Ga(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Fa()<=Ve.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(n))):se.resolve())}ws(e,n){if(IE(n))return se.resolve(null);let s=Ai(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=qm(n,null,"F"),s=Ai(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Pe(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,f,p.readTime)?this.ws(e,qm(n,null,"F")):this.Fs(e,g,n,p)}))})))}bs(e,n,s,o){return IE(n)||o.isEqual(Se.min())?se.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?se.resolve(null):(Fa()<=Ve.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ga(n)),this.Fs(e,f,n,TN(o,Xl)).next(m=>m))})}vs(e,n){let s=new Mt(WT(e));return n.forEach((o,u)=>{Fh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Fa()<=Ve.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.ys.getDocumentsMatchingQuery(e,n,Yr.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="LocalStore",Z2=3e8;class W2{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new ct(xe),this.Os=new Ks(u=>Ap(u),bp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function J2(r,e,n,s){return new W2(r,e,n,s)}async function wA(r,e){const n=Ie(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Pe();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function ex(r,e){const n=Ie(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const S=g.batch,b=S.keys();let P=se.resolve();return b.forEach(k=>{P=P.next(()=>E.getEntry(p,k)).next(K=>{const G=g.docVersions.get(k);ze(G!==null,48541),K.version.compareTo(G)<0&&(S.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),E.addEntry(K)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function RA(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function tx(r,e){const n=Ie(r),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((E,S)=>{const b=o.get(S);if(!b)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,S)));let P=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(Xt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(S,P),function(K,G,$){return K.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=Z2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(b,P,E)&&m.push(n.Ti.updateTargetData(u,P))});let p=or(),g=Pe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(nx(u,f,e.documentUpdates).next(E=>{p=E.qs,g=E.Qs})),!s.isEqual(Se.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(S=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return se.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function nx(r,e,n){let s=Pe(),o=Pe();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=or();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):de(Dp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function ix(r,e){const n=Ie(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=vp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function rx(r,e){const n=Ie(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,se.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new qr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function Qm(r,e,n){const s=Ie(r),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Eo(f))throw f;de(Dp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function BE(r,e,n){const s=Ie(r);let o=Se.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const S=Ie(p),b=S.Os.get(E);return b!==void 0?se.resolve(S.xs.get(b)):S.Ti.getTargetData(g,E)}(s,f,Ai(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Pe())).next(m=>(sx(s,KN(e),m),{documents:m,$s:u})))}function sx(r,e,n){let s=r.Ns.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(e,s)}class zE{constructor(){this.activeTargetIds=JN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ax{constructor(){this.xo=new zE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new zE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="ConnectivityMonitor";class HE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){de(qE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){de(qE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function Km(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="RestConnection",lx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ux{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Eh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const f=Km(),m=this.jo(e,n.toUriEncodedString());de(Tm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),E=po(g);return this.Jo(e,m,p,s,E).then(S=>(de(Tm,`Received RPC '${e}' ${f}: `,S),S),S=>{throw no(Tm,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S})}Yo(e,n,s,o,u,f){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_o}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=lx[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class hx extends ux{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Km();return new Promise((m,p)=>{const g=new wT;g.setWithCredentials(!0),g.listenOnce(RT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ih.NO_ERROR:const S=g.getResponseJson();de(tn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case ih.TIMEOUT:de(tn,`RPC '${e}' ${f} timed out`),p(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const b=g.getStatus();if(de(tn,`RPC '${e}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const k=P==null?void 0:P.error;if(k&&k.status&&k.message){const K=function($){const ee=$.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(ee)>=0?ee:ie.UNKNOWN}(k.status);p(new fe(K,k.message))}else p(new fe(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{h_:e,streamId:f,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{de(tn,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);de(tn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}I_(e,n,s){const o=Km(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=NT(),m=CT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");de(tn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);this.E_(S);let b=!1,P=!1;const k=new cx({Zo:G=>{P?de(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(b||(de(tn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),b=!0),de(tn,`RPC '${e}' stream ${o} sending:`,G),S.send(G))},Xo:()=>S.close()}),K=(G,$,ee)=>{G.listen($,oe=>{try{ee(oe)}catch(he){setTimeout(()=>{throw he},0)}})};return K(S,Vl.EventType.OPEN,()=>{P||(de(tn,`RPC '${e}' stream ${o} transport opened.`),k.__())}),K(S,Vl.EventType.CLOSE,()=>{P||(P=!0,de(tn,`RPC '${e}' stream ${o} transport closed`),k.u_(),this.d_(S))}),K(S,Vl.EventType.ERROR,G=>{P||(P=!0,no(tn,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),k.u_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))}),K(S,Vl.EventType.MESSAGE,G=>{var $;if(!P){const ee=G.data[0];ze(!!ee,16349);const oe=ee,he=(oe==null?void 0:oe.error)||(($=oe[0])===null||$===void 0?void 0:$.error);if(he){de(tn,`RPC '${e}' stream ${o} received error:`,he);const ce=he.status;let _e=function(C){const D=St[C];if(D!==void 0)return fA(D)}(ce),O=he.message;_e===void 0&&(_e=ie.INTERNAL,O="Unknown error status: "+ce+" with message "+he.message),P=!0,k.u_(new fe(_e,O)),S.close()}else de(tn,`RPC '${e}' stream ${o} received:`,ee),k.c_(ee)}}),K(m,IT.STAT_EVENT,G=>{G.stat===Vm.PROXY?de(tn,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===Vm.NOPROXY&&de(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.a_()},0),k}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(r){return new p2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="PersistentStream";class IA{constructor(e,n,s,o,u,f,m,p){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Op(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{e(()=>{const o=new fe(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return de(FE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(de(FE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fx extends IA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=v2(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Rn(f.readTime):Se.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=Gm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Bm(p)?{documents:T2(u,p)}:{query:A2(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=pA(u,f.resumeToken);const g=Hm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Rh(u,f.snapshotVersion.toTimestamp());const g=Hm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=S2(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=Gm(this.serializer),n.removeTarget=e,this.Q_(n)}}class dx extends IA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=E2(e.writeResults,e.commitTime),s=Rn(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=Gm(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>vA(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{}class px extends mx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,Fm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ie.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,Fm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(ie.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class gx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ar(n),this.ua=!1):de("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="RemoteStore";class yx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{Ys(this)&&(de(Fs,"Restarting streams for network reachability change."),await async function(p){const g=Ie(p);g.da.add(4),await du(g),g.Va.set("Unknown"),g.da.delete(4),await Xh(g)}(this))})}),this.Va=new gx(s,o)}}async function Xh(r){if(Ys(r))for(const e of r.Aa)await e(!0)}async function du(r){for(const e of r.Aa)await e(!1)}function CA(r,e){const n=Ie(r);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Pp(n)?Vp(n):To(n).N_()&&kp(n,e))}function Mp(r,e){const n=Ie(r),s=To(n);n.Ea.delete(e),s.N_()&&NA(n,e),n.Ea.size===0&&(s.N_()?s.k_():Ys(n)&&n.Va.set("Unknown"))}function kp(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(r).Z_(e)}function NA(r,e){r.ma.Ke(e),To(r).X_(e)}function Vp(r){r.ma=new h2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),To(r).start(),r.Va.ca()}function Pp(r){return Ys(r)&&!To(r).O_()&&r.Ea.size>0}function Ys(r){return Ie(r).da.size===0}function xA(r){r.ma=void 0}async function _x(r){r.Va.set("Online")}async function vx(r){r.Ea.forEach((e,n)=>{kp(r,e)})}async function Ex(r,e){xA(r),Pp(r)?(r.Va.Pa(e),Vp(r)):r.Va.set("Unknown")}async function Tx(r,e,n){if(r.Va.set("Online"),e instanceof mA&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(r,e)}catch(s){de(Fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nh(r,s)}else if(e instanceof oh?r.ma.Xe(e):e instanceof dA?r.ma.ot(e):r.ma.nt(e),!n.isEqual(Se.min()))try{const s=await RA(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ea.get(g);E&&u.Ea.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ea.get(p);if(!E)return;u.Ea.set(p,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),NA(u,p);const S=new qr(E.target,p,g,E.sequenceNumber);kp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){de(Fs,"Failed to raise snapshot:",s),await Nh(r,s)}}async function Nh(r,e,n){if(!Eo(e))throw e;r.da.add(1),await du(r),r.Va.set("Offline"),n||(n=()=>RA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{de(Fs,"Retrying IndexedDB access"),await n(),r.da.delete(1),await Xh(r)})}function DA(r,e){return e().catch(n=>Nh(r,n,e))}async function Zh(r){const e=Ie(r),n=Wr(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:vp;for(;Ax(e);)try{const o=await ix(e.localStore,s);if(o===null){e.Ia.length===0&&n.k_();break}s=o.batchId,bx(e,o)}catch(o){await Nh(e,o)}OA(e)&&MA(e)}function Ax(r){return Ys(r)&&r.Ia.length<10}function bx(r,e){r.Ia.push(e);const n=Wr(r);n.N_()&&n.ea&&n.ta(e.mutations)}function OA(r){return Ys(r)&&!Wr(r).O_()&&r.Ia.length>0}function MA(r){Wr(r).start()}async function Sx(r){Wr(r).ia()}async function wx(r){const e=Wr(r);for(const n of r.Ia)e.ta(n.mutations)}async function Rx(r,e,n){const s=r.Ia.shift(),o=wp.from(s,e,n);await DA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Zh(r)}async function Ix(r,e){e&&Wr(r).ea&&await async function(s,o){if(function(f){return hA(f)&&f!==ie.ABORTED}(o.code)){const u=s.Ia.shift();Wr(s).L_(),await DA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Zh(s)}}(r,e),OA(r)&&MA(r)}async function GE(r,e){const n=Ie(r);n.asyncQueue.verifyOperationInProgress(),de(Fs,"RemoteStore received new credentials");const s=Ys(n);n.da.add(3),await du(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Xh(n)}async function Cx(r,e){const n=Ie(r);e?(n.da.delete(2),await Xh(n)):e||(n.da.add(2),await du(n),n.Va.set("Unknown"))}function To(r){return r.fa||(r.fa=function(n,s,o){const u=Ie(n);return u.oa(),new fx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:_x.bind(null,r),n_:vx.bind(null,r),i_:Ex.bind(null,r),Y_:Tx.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),Pp(r)?Vp(r):r.Va.set("Unknown")):(await r.fa.stop(),xA(r))})),r.fa}function Wr(r){return r.ga||(r.ga=function(n,s,o){const u=Ie(n);return u.oa(),new dx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:Sx.bind(null,r),i_:Ix.bind(null,r),na:wx.bind(null,r),ra:Rx.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await Zh(r)):(await r.ga.stop(),r.Ia.length>0&&(de(Fs,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Lp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Up(r,e){if(ar("AsyncQueue",`${e}: ${r}`),Eo(r))return new fe(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Pl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.pa=new ct(ve.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class uo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new uo(e,n,eo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class xx{constructor(){this.queries=KE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ie(n),u=o.queries;o.queries=KE(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function KE(){return new Ks(r=>ZT(r),Hh)}async function jp(r,e){const n=Ie(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new Nx,s=e.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Up(f,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&zp(n)}async function Bp(r,e){const n=Ie(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Dx(r,e){const n=Ie(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(s=!0);f.ba=o}}s&&zp(n)}function Ox(r,e,n){const s=Ie(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function zp(r){r.Ca.forEach(e=>{e.next()})}var Ym,YE;(YE=Ym||(Ym={})).xa="default",YE.Cache="cache";class qp{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.key=e}}class VA{constructor(e){this.key=e}}class Mx{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.Za=WT(e),this.Xa=new eo(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new QE,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const b=o.get(E),P=Fh(this.query,S)?S:null,k=!!b&&this.mutatedKeys.has(b.key),K=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let G=!1;b&&P?b.data.isEqual(P.data)?k!==K&&(s.track({type:3,doc:P}),G=!0):this.ru(b,P)||(s.track({type:2,doc:P}),G=!0,(p&&this.Za(P,p)>0||g&&this.Za(P,g)<0)&&(m=!0)):!b&&P?(s.track({type:0,doc:P}),G=!0):b&&!P&&(s.track({type:1,doc:b}),G=!0,(p||g)&&(m=!0)),G&&(P?(f=f.add(P),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Xa:f,nu:s,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((E,S)=>function(P,k){const K=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:G})}};return K(P)-K(k)}(E.type,S.type)||this.Za(E.doc,S.doc)),this.iu(s),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,f.length!==0||g?{snapshot:new uo(this.query,e.Xa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new QE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new VA(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new kA(s))}),n}au(e){this.Ha=e.$s,this.Ya=Pe();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return uo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Hp="SyncEngine";class kx{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Vx{constructor(e){this.key=e,this.cu=!1}}class Px{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Ks(m=>ZT(m),Hh),this.Pu=new Map,this.Tu=new Set,this.Iu=new ct(ve.comparator),this.Eu=new Map,this.du=new Cp,this.Au={},this.Ru=new Map,this.Vu=lo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Lx(r,e,n=!0){const s=zA(r);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await PA(s,e,n,!0),o}async function Ux(r,e){const n=zA(r);await PA(n,e,!0,!1)}async function PA(r,e,n,s){const o=await rx(r.localStore,Ai(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await jx(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&CA(r.remoteStore,o),m}async function jx(r,e,n,s,o){r.fu=(S,b,P)=>async function(K,G,$,ee){let oe=G.view.tu($);oe.Cs&&(oe=await BE(K.localStore,G.query,!1).then(({documents:O})=>G.view.tu(O,oe)));const he=ee&&ee.targetChanges.get(G.targetId),ce=ee&&ee.targetMismatches.get(G.targetId)!=null,_e=G.view.applyChanges(oe,K.isPrimaryClient,he,ce);return XE(K,G.targetId,_e.ou),_e.snapshot}(r,S,b,P);const u=await BE(r.localStore,e,!0),f=new Mx(e,u.$s),m=f.tu(u.documents),p=fu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);XE(r,n,g.ou);const E=new kx(e,n,f);return r.hu.set(e,E),r.Pu.has(n)?r.Pu.get(n).push(e):r.Pu.set(n,[e]),g.snapshot}async function Bx(r,e,n){const s=Ie(r),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!Hh(f,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Qm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Mp(s.remoteStore,o.targetId),$m(s,o.targetId)}).catch(vo)):($m(s,o.targetId),await Qm(s.localStore,o.targetId,!0))}async function zx(r,e){const n=Ie(r),s=n.hu.get(e),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Mp(n.remoteStore,s.targetId))}async function qx(r,e,n){const s=$x(r);try{const o=await function(f,m){const p=Ie(f),g=it.now(),E=m.reduce((P,k)=>P.add(k.key),Pe());let S,b;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let k=or(),K=Pe();return p.Bs.getEntries(P,E).next(G=>{k=G,k.forEach(($,ee)=>{ee.isValidDocument()||(K=K.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,k)).next(G=>{S=G;const $=[];for(const ee of m){const oe=a2(ee,S.get(ee.key).overlayedDocument);oe!=null&&$.push(new is(ee.key,oe,HT(oe.value.mapValue),Yt.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,$,m)}).next(G=>{b=G;const $=G.applyToLocalDocumentSet(S,K);return p.documentOverlayCache.saveOverlays(P,G.batchId,$)})}).then(()=>({batchId:b.batchId,changes:eA(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Au[f.currentUser.toKey()];g||(g=new ct(xe)),g=g.insert(m,p),f.Au[f.currentUser.toKey()]=g}(s,o.batchId,n),await mu(s,o.changes),await Zh(s.remoteStore)}catch(o){const u=Up(o,"Failed to persist write");n.reject(u)}}async function LA(r,e){const n=Ie(r);try{const s=await tx(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?ze(f.cu,14607):o.removedDocuments.size>0&&(ze(f.cu,42227),f.cu=!1))}),await mu(n,s,e)}catch(s){await vo(s)}}function $E(r,e,n){const s=Ie(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,f)=>{const m=f.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ie(f);p.onlineState=m;let g=!1;p.queries.forEach((E,S)=>{for(const b of S.Sa)b.Fa(m)&&(g=!0)}),g&&zp(p)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Hx(r,e,n){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new ct(ve.comparator);f=f.insert(u,Bt.newNoDocument(u,Se.min()));const m=Pe().add(u),p=new Yh(Se.min(),new Map,new ct(xe),f,m);await LA(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(e),Fp(s)}else await Qm(s.localStore,e,!1).then(()=>$m(s,e,n)).catch(vo)}async function Fx(r,e){const n=Ie(r),s=e.batch.batchId;try{const o=await ex(n.localStore,e);jA(n,s,null),UA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await mu(n,o)}catch(o){await vo(o)}}async function Gx(r,e,n){const s=Ie(r);try{const o=await function(f,m){const p=Ie(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(ze(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);jA(s,e,n),UA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await mu(s,o)}catch(o){await vo(o)}}function UA(r,e){(r.Ru.get(e)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(e)}function jA(r,e,n){const s=Ie(r);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function $m(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Pu.get(e))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(s=>{r.du.containsKey(s)||BA(r,s)})}function BA(r,e){r.Tu.delete(e.path.canonicalString());const n=r.Iu.get(e);n!==null&&(Mp(r.remoteStore,n),r.Iu=r.Iu.remove(e),r.Eu.delete(n),Fp(r))}function XE(r,e,n){for(const s of n)s instanceof kA?(r.du.addReference(s.key,e),Qx(r,s)):s instanceof VA?(de(Hp,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,e),r.du.containsKey(s.key)||BA(r,s.key)):Ee(19791,{pu:s})}function Qx(r,e){const n=e.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(de(Hp,"New document in limbo: "+n),r.Tu.add(s),Fp(r))}function Fp(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const n=new ve(et.fromString(e)),s=r.Vu.next();r.Eu.set(s,new Vx(n)),r.Iu=r.Iu.insert(n,s),CA(r.remoteStore,new qr(Ai(qh(n.path)),s,"TargetPurposeLimboResolution",Bh.le))}}async function mu(r,e,n){const s=Ie(r),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{f.push(s.fu(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=xp.Rs(p.targetId,g);u.push(S)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(p,g){const E=Ie(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>se.forEach(g,b=>se.forEach(b.ds,P=>E.persistence.referenceDelegate.addReference(S,b.targetId,P)).next(()=>se.forEach(b.As,P=>E.persistence.referenceDelegate.removeReference(S,b.targetId,P)))))}catch(S){if(!Eo(S))throw S;de(Dp,"Failed to update sequence numbers: "+S)}for(const S of g){const b=S.targetId;if(!S.fromCache){const P=E.xs.get(b),k=P.snapshotVersion,K=P.withLastLimboFreeSnapshotVersion(k);E.xs=E.xs.insert(b,K)}}}(s.localStore,u))}async function Kx(r,e){const n=Ie(r);if(!n.currentUser.isEqual(e)){de(Hp,"User change. New user:",e.toKey());const s=await wA(n.localStore,e);n.currentUser=e,function(u,f){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new fe(ie.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mu(n,s.ks)}}function Yx(r,e){const n=Ie(r),s=n.Eu.get(e);if(s&&s.cu)return Pe().add(s.key);{let o=Pe();const u=n.Pu.get(e);if(!u)return o;for(const f of u){const m=n.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function zA(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=LA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hx.bind(null,e),e.lu.Y_=Dx.bind(null,e.eventManager),e.lu.gu=Ox.bind(null,e.eventManager),e}function $x(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gx.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return J2(this.persistence,new X2,e.initialUser,this.serializer)}Su(e){return new SA(Np.fi,this.serializer)}bu(e){return new ax}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class Xx extends xh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ze(this.persistence.referenceDelegate instanceof Ch,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new V2(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new SA(s=>Ch.fi(s,n),this.serializer)}}class Xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$E(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kx.bind(null,this.syncEngine),await Cx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xx}()}createDatastore(e){const n=$h(e.databaseInfo.databaseId),s=function(u){return new hx(u)}(e.databaseInfo);return function(u,f,m,p){return new px(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new yx(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>$E(this.syncEngine,n,0),function(){return HE.C()?new HE:new ox}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const S=new Px(o,u,f,m,p,g);return E&&(S.mu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ie(o);de(Fs,"RemoteStore shutting down."),u.da.add(5),await du(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Xm.provider={build:()=>new Xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new fe(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(o,u){const f=Ie(o),m={documents:u.map(S=>Ih(f.serializer,S))},p=await f.Yo("BatchGetDocuments",f.serializer.databaseId,et.emptyPath(),m,u.length),g=new Map;p.forEach(S=>{const b=_2(f.serializer,S);g.set(b.key.toString(),b)});const E=[];return u.forEach(S=>{const b=g.get(S.toString());ze(!!b,55234,{key:S}),E.push(b)}),E}(this.datastore,e);return n.forEach(s=>this.recordVersion(s)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Kh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,s)=>{const o=ve.fromPath(s);this.mutations.push(new cA(o,this.precondition(o)))}),await async function(s,o){const u=Ie(s),f={writes:o.map(m=>vA(u.serializer,m))};await u.zo("Commit",u.serializer.databaseId,et.emptyPath(),f)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ee(50498,{Uu:e.constructor.name});n=Se.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new fe(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Se.min())?Yt.exists(!1):Yt.updateTime(n):Yt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Se.min()))throw new fe(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yt.updateTime(n)}return Yt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,s,o,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Ku=s.maxAttempts,this.x_=new Op(this.asyncQueue,"transaction_retry")}Wu(){this.Ku-=1,this.Gu()}Gu(){this.x_.y_(async()=>{const e=new Zx(this.datastore),n=this.zu(e);n&&n.then(s=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(s)}).catch(o=>{this.ju(o)}))}).catch(s=>{this.ju(s)})})}zu(e){try{const n=this.updateFunction(e);return!uu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ju(e){this.Ku>0&&this.Hu(e)?(this.Ku-=1,this.asyncQueue.enqueueAndForget(()=>(this.Gu(),Promise.resolve()))):this.deferred.reject(e)}Hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!hA(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="FirestoreClient";class Jx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=MT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{de(Jr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(de(Jr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Up(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function bm(r,e){r.asyncQueue.verifyOperationInProgress(),de(Jr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await wA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function ZE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await eD(r);de(Jr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>GE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>GE(e.remoteStore,o)),r._onlineComponents=e}async function eD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(Jr,"Using user provided OfflineComponentProvider");try{await bm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;no("Error using user provided cache. Falling back to memory cache: "+n),await bm(r,new xh)}}else de(Jr,"Using default OfflineComponentProvider"),await bm(r,new Xx(void 0));return r._offlineComponents}async function Qp(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(Jr,"Using user provided OnlineComponentProvider"),await ZE(r,r._uninitializedComponentsProvider._online)):(de(Jr,"Using default OnlineComponentProvider"),await ZE(r,new Xm))),r._onlineComponents}function tD(r){return Qp(r).then(e=>e.syncEngine)}function nD(r){return Qp(r).then(e=>e.datastore)}async function Dh(r){const e=await Qp(r),n=e.eventManager;return n.onListen=Lx.bind(null,e.syncEngine),n.onUnlisten=Bx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ux.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zx.bind(null,e.syncEngine),n}function iD(r,e,n={}){const s=new Ti;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new Gp({next:b=>{E.xu(),f.enqueueAndForget(()=>Bp(u,S));const P=b.docs.has(m);!P&&b.fromCache?g.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&b.fromCache&&p&&p.source==="server"?g.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),S=new qp(qh(m.path),E,{includeMetadataChanges:!0,Qa:!0});return jp(u,S)}(await Dh(r),r.asyncQueue,e,n,s)),s.promise}function rD(r,e,n={}){const s=new Ti;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new Gp({next:b=>{E.xu(),f.enqueueAndForget(()=>Bp(u,S)),b.fromCache&&p.source==="server"?g.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),S=new qp(m,E,{includeMetadataChanges:!0,Qa:!0});return jp(u,S)}(await Dh(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(r,e,n){if(!n)throw new fe(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function sD(r,e,n,s){if(e===!0&&s===!0)throw new fe(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function JE(r){if(!ve.isDocumentKey(r))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function e0(r){if(ve.isDocumentKey(r))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function cn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(r);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="firestore.googleapis.com",t0=!0;class n0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FA,this.ssl=t0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:t0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<M2)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new fN;switch(s.type){case"firstParty":return new gN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=WE.get(n);s&&(de("ComponentProvider","Removing Datastore"),WE.delete(n),s.terminate())}(this),Promise.resolve()}}function aD(r,e,n,s={}){var o;r=cn(r,Jh);const u=po(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(V0(`https://${p}`),P0("Firestore",!0)),f.host!==FA&&f.host!==p&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!ir(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,S;if(typeof s.mockUserToken=="string")E=s.mockUserToken,S=nn.MOCK_USER;else{E=S1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new nn(b)}r._authCredentials=new dN(new DT(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $s(this.firestore,e,this._query)}}class $t{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}}class Kr extends $s{constructor(e,n,s){super(e,n,qh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new ve(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function lh(r,e,...n){if(r=mt(r),HA("collection","path",e),r instanceof Jh){const s=et.fromString(e,...n);return e0(s),new Kr(r,null,s)}{if(!(r instanceof $t||r instanceof Kr))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return e0(s),new Kr(r.firestore,null,s)}}function Ot(r,e,...n){if(r=mt(r),arguments.length===1&&(e=MT.newId()),HA("doc","path",e),r instanceof Jh){const s=et.fromString(e,...n);return JE(s),new $t(r,null,new ve(s))}{if(!(r instanceof $t||r instanceof Kr))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return JE(s),new $t(r.firestore,r instanceof Kr?r.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="AsyncQueue";class r0{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Op(this,"async_queue_retry"),this.rc=()=>{const s=Am();s&&de(i0,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=Am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ti;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Eo(e))throw e;de(i0,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,ar("INTERNAL UNHANDLED ERROR: ",s0(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=Lp.createAndSchedule(this,e,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Ee(47125,{cc:s0(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function s0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Si extends Jh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new r0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new r0(e),this._firestoreClient=void 0,await e}}}function oD(r,e){const n=typeof r=="object"?r:B0(),s=typeof r=="string"?r:Eh,o=lp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=A1("firestore");u&&aD(o,...u)}return o}function pu(r){if(r._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||lD(r),r._firestoreClient}function lD(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new DN(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,qA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Jx(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gs(Xt.fromBase64String(e))}catch(n){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gs(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=/^__.*__$/;class cD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new hu(e,this.data,n,this.fieldTransforms)}}class GA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ic:r})}}class ef{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Oh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(QA(this.Ic)&&uD.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class hD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||$h(e)}bc(e,n,s,o=!1){return new ef({Ic:e,methodName:n,wc:s,path:Kt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _u(r){const e=r._freezeSettings(),n=$h(r._databaseId);return new hD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function $p(r,e,n,s,o,u={}){const f=r.bc(u.merge||u.mergeFields?2:0,e,n,o);Wp("Data must be an object, but it was:",f,s);const m=XA(s,f);let p,g;if(u.merge)p=new wn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const b=Zm(e,S,n);if(!f.contains(b))throw new fe(ie.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);WA(E,b)||E.push(b)}p=new wn(E),g=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=f.fieldTransforms;return new cD(new un(m),p,g)}class tf extends yu{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}function KA(r,e,n){return new ef({Ic:3,wc:e.settings.wc,methodName:r._methodName,Rc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Xp extends yu{constructor(e,n){super(e),this.Sc=n}_toFieldTransform(e){const n=KA(this,e,!0),s=this.Sc.map(u=>Xs(u,n)),o=new ao(s);return new oA(e.path,o)}isEqual(e){return e instanceof Xp&&ir(this.Sc,e.Sc)}}class Zp extends yu{constructor(e,n){super(e),this.Sc=n}_toFieldTransform(e){const n=KA(this,e,!0),s=this.Sc.map(u=>Xs(u,n)),o=new oo(s);return new oA(e.path,o)}isEqual(e){return e instanceof Zp&&ir(this.Sc,e.Sc)}}function YA(r,e,n,s){const o=r.bc(1,e,n);Wp("Data must be an object, but it was:",o,s);const u=[],f=un.empty();ns(s,(p,g)=>{const E=Jp(e,p,n);g=mt(g);const S=o.mc(E);if(g instanceof tf)u.push(E);else{const b=Xs(g,S);b!=null&&(u.push(E),f.set(E,b))}});const m=new wn(u);return new GA(f,m,o.fieldTransforms)}function $A(r,e,n,s,o,u){const f=r.bc(1,e,n),m=[Zm(e,s,n)],p=[o];if(u.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(Zm(e,u[b])),p.push(u[b+1]);const g=[],E=un.empty();for(let b=m.length-1;b>=0;--b)if(!WA(g,m[b])){const P=m[b];let k=p[b];k=mt(k);const K=f.mc(P);if(k instanceof tf)g.push(P);else{const G=Xs(k,K);G!=null&&(g.push(P),E.set(P,G))}}const S=new wn(g);return new GA(E,S,f.fieldTransforms)}function fD(r,e,n,s=!1){return Xs(n,r.bc(s?4:3,e))}function Xs(r,e){if(ZA(r=mt(r)))return Wp("Unsupported field value:",e,r),XA(r,e);if(r instanceof yu)return function(s,o){if(!QA(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Xs(m,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=mt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return e2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Rh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rh(o.serializer,u)}}if(s instanceof Kp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gs)return{bytesValue:pA(o.serializer,s._byteString)};if(s instanceof $t){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ip(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Yp)return function(f,m){return{mapValue:{fields:{[zT]:{stringValue:qT},[Th]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return Sp(m.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Wh(s)}`)}(r,e)}function XA(r,e){const n={};return VT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ns(r,(s,o)=>{const u=Xs(o,e.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function ZA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Kp||r instanceof Gs||r instanceof $t||r instanceof yu||r instanceof Yp)}function Wp(r,e,n){if(!ZA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Wh(n);throw s==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+s)}}function Zm(r,e,n){if((e=mt(e))instanceof gu)return e._internalPath;if(typeof e=="string")return Jp(r,e);throw Oh("Field path arguments must be of type string or ",r,!1,void 0,n)}const dD=new RegExp("[~\\*/\\[\\]]");function Jp(r,e,n){if(e.search(dD)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new gu(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Oh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new fe(ie.INVALID_ARGUMENT,m+r+p)}function WA(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(eg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mD extends Mh{data(){return super.data()}}function eg(r,e){return typeof e=="string"?Jp(r,e):e instanceof gu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class pD extends tg{}function o0(r,e,...n){let s=[];e instanceof tg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof ng).length,m=u.filter(p=>p instanceof nf).length;if(f>1||f>0&&m>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class nf extends pD{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new nf(e,n,s)}_apply(e){const n=this._parse(e);return eb(e._query,n),new $s(e.firestore,e.converter,zm(e._query,n))}_parse(e){const n=_u(e.firestore);return function(u,f,m,p,g,E,S){let b;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){c0(S,E);const k=[];for(const K of S)k.push(u0(p,u,K));b={arrayValue:{values:k}}}else b=u0(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||c0(S,E),b=fD(m,f,S,E==="in"||E==="not-in");return wt.create(g,E,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function l0(r,e,n){const s=e,o=eg("where",r);return nf._create(o,s,n)}class ng extends tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ng(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)eb(f,p),f=zm(f,p)}(e._query,n),new $s(e.firestore,e.converter,zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function u0(r,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XT(e)&&n.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!ve.isDocumentKey(s))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return TE(r,new ve(s))}if(n instanceof $t)return TE(r,n._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function c0(r,e){if(!Array.isArray(r)||r.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eb(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tb{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ns(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Th].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>_t(f.doubleValue));return new Yp(u)}convertGeoPoint(e){return new Kp(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=zh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=$r(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);ze(AA(s),9688,{name:e});const o=new Wl(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class gD extends tb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rg extends Mh{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(eg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class uh extends rg{data(e={}){return super.data(e)}}class nb{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xa(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new uh(this._firestore,this._userDataWriter,s.key,s,new Xa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xa(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xa(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:yD(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(r){r=cn(r,$t);const e=cn(r.firestore,Si);return iD(pu(e),r._key).then(n=>rb(e,r,n))}class rf extends tb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function _D(r){r=cn(r,$s);const e=cn(r.firestore,Si),n=pu(e),s=new rf(e);return JA(r._query),rD(n,r._query).then(o=>new nb(e,s,r,o))}function vD(r,e,n){r=cn(r,$t);const s=cn(r.firestore,Si),o=ig(r.converter,e,n);return sf(s,[$p(_u(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Yt.none())])}function _i(r,e,n,...s){r=cn(r,$t);const o=cn(r.firestore,Si),u=_u(o);let f;return f=typeof(e=mt(e))=="string"||e instanceof gu?$A(u,"updateDoc",r._key,e,n,s):YA(u,"updateDoc",r._key,e),sf(o,[f.toMutation(r._key,Yt.exists(!0))])}function ED(r){return sf(cn(r.firestore,Si),[new Kh(r._key,Yt.none())])}function TD(r,e){const n=cn(r.firestore,Si),s=Ot(r),o=ig(r.converter,e);return sf(n,[$p(_u(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Yt.exists(!1))]).then(()=>s)}function ib(r,...e){var n,s,o;r=mt(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||a0(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(a0(e[f])){const S=e[f];e[f]=(n=S.next)===null||n===void 0?void 0:n.bind(S),e[f+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,g,E;if(r instanceof $t)g=cn(r.firestore,Si),E=qh(r._key.path),p={next:S=>{e[f]&&e[f](rb(g,r,S))},error:e[f+1],complete:e[f+2]};else{const S=cn(r,$s);g=cn(S.firestore,Si),E=S._query;const b=new rf(g);p={next:P=>{e[f]&&e[f](new nb(g,b,S,P))},error:e[f+1],complete:e[f+2]},JA(r._query)}return function(b,P,k,K){const G=new Gp(K),$=new qp(P,G,k);return b.asyncQueue.enqueueAndForget(async()=>jp(await Dh(b),$)),()=>{G.xu(),b.asyncQueue.enqueueAndForget(async()=>Bp(await Dh(b),$))}}(pu(g),E,m,p)}function sf(r,e){return function(s,o){const u=new Ti;return s.asyncQueue.enqueueAndForget(async()=>qx(await tD(s),o,u)),u.promise}(pu(r),e)}function rb(r,e,n){const s=n.docs.get(e._key),o=new rf(r);return new rg(r,o,e._key,s,new Xa(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD={maxAttempts:5};function Ul(r,e){if((r=mt(r)).firestore!==e)throw new fe(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=_u(e)}get(e){const n=Ul(e,this._firestore),s=new gD(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||o.length!==1)return Ee(24041);const u=o[0];if(u.isFoundDocument())return new Mh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Mh(this._firestore,s,n._key,null,n.converter);throw Ee(18433,{doc:u})})}set(e,n,s){const o=Ul(e,this._firestore),u=ig(o.converter,n,s),f=$p(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,n,s,...o){const u=Ul(e,this._firestore);let f;return f=typeof(n=mt(n))=="string"||n instanceof gu?$A(this._dataReader,"Transaction.update",u._key,n,s,o):YA(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(e){const n=Ul(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD extends bD{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ul(e,this._firestore),s=new rf(this._firestore);return super.get(e).then(o=>new rg(this._firestore,s,n._key,o._document,new Xa(!1,!1),n.converter))}}function wD(r,e,n){r=cn(r,Si);const s=Object.assign(Object.assign({},AD),n);return function(u){if(u.maxAttempts<1)throw new fe(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(u,f,m){const p=new Ti;return u.asyncQueue.enqueueAndForget(async()=>{const g=await nD(u);new Wx(u.asyncQueue,g,m,f,p).Wu()}),p.promise}(pu(r),o=>e(new SD(r,o)),s)}function h0(...r){return new Xp("arrayUnion",r)}function f0(...r){return new Zp("arrayRemove",r)}(function(e,n=!0){(function(o){_o=o})(go),to(new Bs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Si(new mN(s.getProvider("auth-internal")),new yN(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Gr(uE,cE,e),Gr(uE,cE,"esm2017")})();var RD="firebase",ID="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(RD,ID,"app");const CD={apiKey:"AIzaSyBnrsKn-a_gLx-5ma_MueGRkgn_tIOqSFk",authDomain:"queuetrackrweb.firebaseapp.com",projectId:"queuetrackrweb",storageBucket:"queuetrackrweb.firebasestorage.app",messagingSenderId:"531544166633",appId:"1:531544166633:web:d14bcb7c15d2a73d2fe078",measurementId:"G-ML56XE5FM2"},sb=j0(CD),Ya=cN(sb),ut=oD(sb),ab=z.createContext(),ND=({children:r})=>{const[e,n]=z.useState(null),[s,o]=z.useState(!0);z.useEffect(()=>{let p=()=>{};return(async()=>{try{await XI(Ya,pT)}catch(g){console.warn("Auth persistence error:",g)}p=JI(Ya,async g=>{if(g)try{const E=await eu(Ot(ut,"users",g.uid));E.exists()?n({uid:g.uid,email:g.email,...E.data()}):n({uid:g.uid,email:g.email})}catch{n({uid:g.uid,email:g.email})}else n(null);o(!1)})})(),()=>p()},[]);const u=async(p,g,E,S)=>{const b=await YI(Ya,p,g);await vD(Ot(ut,"users",b.user.uid),{name:E,role:S,email:p}),n({uid:b.user.uid,name:E,role:S,email:p})},f=async(p,g)=>{const E=await $I(Ya,p,g),S=await eu(Ot(ut,"users",E.user.uid));S.exists()?n({uid:E.user.uid,email:E.user.email,...S.data()}):n({uid:E.user.uid,email:E.user.email})},m=async()=>{await eC(Ya),n(null)};return A.jsx(ab.Provider,{value:{user:e,loading:s,signup:u,login:f,logout:m},children:r})},vu=()=>z.useContext(ab);function xD(){const r=mo(),[e,n]=z.useState(!0);return z.useEffect(()=>{let s=!1;const o=()=>{s||(s=!0,n(!1))},u=new Image;u.src="/queuetrackr-logo.png",u.onload=o,u.onerror=o;const f=setTimeout(o,700);return()=>clearTimeout(f)},[]),A.jsxs("div",{className:`welcome page ${e?"":"page--ready"}`,children:[e&&A.jsxs("div",{className:"loader",role:"status","aria-live":"polite","aria-label":"Loading",children:[A.jsx("img",{src:"/queuetrackr-logo.png",alt:"QueueTrackr Logo",className:"loader-logo"}),A.jsx("div",{className:"spinner"})]}),A.jsxs("header",{className:"site-header reveal fade-in-down slow",style:{animationDelay:"120ms"},children:[A.jsxs("div",{className:"brand",children:[A.jsx("img",{src:"/queuetrackr-logo.png",alt:"QueueTrackr",className:"brand-logo"}),A.jsx("span",{className:"brand-name",children:"QueueTrackr"})]}),A.jsxs("nav",{className:"nav",children:[A.jsx("button",{className:"btn btn-text",onClick:()=>r("/login",{state:{showLoader:!0}}),children:"Sign In"}),A.jsx("button",{className:"btn btn-primary",onClick:()=>r("/login",{state:{showLoader:!0}}),children:"Get Started"})]})]}),A.jsx("main",{className:"hero container",children:A.jsxs("div",{className:"hero-grid",children:[A.jsxs("section",{className:"hero-copy reveal fade-in-up slow",style:{animationDelay:"200ms"},children:[A.jsx("h1",{className:"hero-title",children:"Queue existing? Join to become a member."}),A.jsx("p",{className:"hero-subtitle",children:"Got a queue code? Join now to track your place in real time and receive instant updates."}),A.jsxs("div",{className:"cta",children:[A.jsx("button",{className:"btn btn-primary",onClick:()=>r("/signup",{state:{showLoader:!0}}),children:"Join now"}),A.jsx("button",{className:"btn btn-secondary",onClick:()=>r("/login",{state:{showLoader:!0}}),children:"Proceed to login"})]}),A.jsxs("div",{className:"stats",children:[A.jsxs("div",{className:"stat",children:[A.jsx("span",{className:"stat-num",children:"99.9%"}),A.jsx("span",{className:"stat-label",children:"Uptime"})]}),A.jsxs("div",{className:"stat",children:[A.jsx("span",{className:"stat-num",children:"Realtime"}),A.jsx("span",{className:"stat-label",children:"Sync"})]}),A.jsxs("div",{className:"stat",children:[A.jsx("span",{className:"stat-num",children:"Zero"}),A.jsx("span",{className:"stat-label",children:"Paper queues"})]})]})]}),A.jsxs("section",{className:"hero-card reveal fade-in-right slow",style:{animationDelay:"340ms"},"aria-label":"For admins",children:[A.jsx("h2",{className:"card-title",children:"Are you an admin handling a queue?"}),A.jsx("p",{children:"Create a queue, share a code, and automate the experience for faster, clearer service. Advance, dismiss, and notify participants with realtime updates."}),A.jsxs("div",{className:"features",children:[A.jsxs("div",{className:"feature",children:[A.jsx("span",{className:"badge badge-alt",children:"Create"}),"Set up a queue in seconds with smart defaults."]}),A.jsxs("div",{className:"feature",children:[A.jsx("span",{className:"badge",children:"Automate"}),"Reduce manual followups with instant notifications."]}),A.jsxs("div",{className:"feature",children:[A.jsx("span",{className:"badge",children:"Observe"}),"Monitor positions and throughput as it happens."]})]}),A.jsx("div",{className:"cta",style:{marginTop:12},children:A.jsx("button",{className:"btn btn-primary",onClick:()=>r("/login",{state:{showLoader:!0}}),children:"Login to create a queue"})})]})]})}),A.jsx("section",{className:"highlights container",children:A.jsxs("div",{className:"cards",children:[A.jsxs("article",{className:"card reveal fade-in-up slow",style:{animationDelay:"180ms"},children:[A.jsx("h3",{children:"Realtime visibility"}),A.jsx("p",{children:"Live updates keep students and staff aligned, powered by Firestore."})]}),A.jsxs("article",{className:"card reveal fade-in-right slow",style:{animationDelay:"260ms"},children:[A.jsx("h3",{children:"Frictionless management"}),A.jsx("p",{children:"Create queues, set priorities, and move things along with one click."})]}),A.jsxs("article",{className:"card reveal fade-in-scale slow",style:{animationDelay:"340ms"},children:[A.jsx("h3",{children:"Mobilefirst design"}),A.jsx("p",{children:"Optimized for phones and tablets with smooth, accessible interactions."})]})]})}),A.jsxs("footer",{className:"site-footer reveal fade-in-up slow",style:{animationDelay:"420ms"},children:[A.jsxs("div",{className:"container footer-inner",children:[A.jsx("p",{className:"footer-brand",children:"QueueTrackr"}),A.jsx("p",{className:"footer-copy",children:"Built for campuses, banks and every commercial infrastructure that value time and clarity."}),A.jsxs("div",{className:"footer-actions",children:[A.jsx("button",{className:"btn btn-text",onClick:()=>r("/login",{state:{showLoader:!0}}),children:"Sign In"}),A.jsx("button",{className:"btn btn-primary",onClick:()=>r("/signup",{state:{showLoader:!0}}),children:"Get Started"})]})]}),A.jsx("div",{className:"container footer-legal",children:A.jsxs("p",{children:[" 2025 QueueTrackr  Developed by Kamar",A.jsx("span",{className:"ak-badge","aria-label":"AK",children:"AK"})]})})]})]})}const DD="18052006AK",OD=()=>{var he;const{signup:r}=vu(),e=mo(),n=Wn(),[s,o]=z.useState(!!((he=n.state)!=null&&he.showLoader)),[u,f]=z.useState(!1),[m,p]=z.useState(!1),[g,E]=z.useState(""),[S,b]=z.useState(""),[P,k]=z.useState(!1),[K,G]=z.useState({name:"",email:"",password:"",role:"Admin"});z.useEffect(()=>{if(!s)return;const ce=setTimeout(()=>o(!1),700);return()=>clearTimeout(ce)},[s]);const $=ce=>{const{name:_e,value:O}=ce.target;G(I=>{const C={...I,[_e]:O};return _e==="role"&&(E(""),b("")),C})},ee=async ce=>{ce.preventDefault(),b(""),f(!0);try{if(K.role==="Admin"){const _e=(g||"").trim().toUpperCase();if(_e.length!==10||_e!==DD){b("Invalid admin access code. Please verify and try again."),f(!1);return}}await r(K.email.trim(),K.password,K.name.trim(),K.role),k(!0),f(!1),setTimeout(()=>{e("/login",{state:{showLoader:!0,signupSuccess:!0}})},2e3)}catch(_e){alert(_e.message||"Signup failed"),f(!1)}},oe="mailto:abukamar1805@gmail.com?subject="+encodeURIComponent("QueueTrackr Admin Access Code Request")+"&body="+encodeURIComponent(`Hello QueueTrackr,

I'd like to request an admin access code for QueueTrackr.
Name: [your name]
Organization: [your organization]
Purpose: [brief purpose]

Thank you!`);return A.jsxs("div",{className:"auth-page",children:[s&&A.jsxs("div",{className:"auth-loader",role:"status","aria-live":"polite","aria-label":"Loading",children:[A.jsx("img",{src:"/queuetrackr-logo.png",alt:"QueueTrackr Logo",className:"loader-logo"}),A.jsx("div",{className:"auth-spinner"})]}),A.jsxs("header",{className:"auth-header reveal fade-in-down slow",children:[A.jsxs("button",{className:"brand",onClick:()=>e("/"),children:[A.jsx("img",{src:"/queuetrackr-logo.png",alt:"QueueTrackr",className:"brand-logo"}),A.jsx("span",{className:"brand-name",children:"QueueTrackr"})]}),A.jsx("button",{className:"back-link","aria-label":"Back to Home",onClick:()=>e("/"),children:" Back to Home"}),A.jsxs("div",{className:"header-actions",children:[A.jsx("button",{className:"btn btn-text",onClick:()=>e("/login",{state:{showLoader:!0}}),children:"Sign In"}),A.jsx("button",{className:"btn btn-primary",onClick:()=>e("/login",{state:{showLoader:!0}}),children:"Get Started"})]})]}),P&&A.jsx("div",{className:"toast toast-success",role:"status","aria-live":"polite",children:A.jsx("span",{children:"Account created! Please login with your credentials"})}),A.jsx("main",{className:"auth-main",children:A.jsxs("section",{className:"auth-card reveal fade-in-up slow",style:{animationDelay:"120ms"},children:[A.jsx("h1",{className:"auth-title",children:"Create your account"}),A.jsx("p",{className:"auth-subtitle",children:"Join QueueTrackr to manage or join queues with realtime updates."}),A.jsxs("form",{className:"auth-form",onSubmit:ee,noValidate:!0,children:[A.jsxs("div",{className:"field",children:[A.jsx("label",{htmlFor:"name",children:"Full Name"}),A.jsx("input",{id:"name",name:"name",placeholder:"Jane Doe",value:K.name,onChange:$,required:!0,autoComplete:"name"})]}),A.jsxs("div",{className:"field",children:[A.jsx("label",{htmlFor:"email",children:"Email address"}),A.jsx("input",{id:"email",name:"email",type:"email",placeholder:"jane@example.com",value:K.email,onChange:$,required:!0,autoComplete:"email"})]}),A.jsxs("div",{className:"field",children:[A.jsx("label",{htmlFor:"password",children:"Password"}),A.jsxs("div",{className:"password-wrap",children:[A.jsx("input",{id:"password",name:"password",type:m?"text":"password",placeholder:"Create a strong password",value:K.password,onChange:$,required:!0,minLength:6,autoComplete:"new-password"}),A.jsx("button",{type:"button",className:"pwd-toggle",onClick:()=>p(ce=>!ce),"aria-label":m?"Hide password":"Show password",children:m?"Hide":"Show"})]})]}),A.jsxs("div",{className:"field",children:[A.jsx("label",{htmlFor:"role",children:"Role"}),A.jsxs("select",{id:"role",name:"role",value:K.role,onChange:$,required:!0,children:[A.jsx("option",{value:"Admin",children:"Queue Admin"}),A.jsx("option",{value:"Student",children:"Queue Member (Student)"})]})]}),K.role==="Admin"&&A.jsxs("div",{className:"field",children:[A.jsx("label",{htmlFor:"adminCode",children:"Admin access code"}),A.jsx("input",{id:"adminCode",name:"adminCode",placeholder:"Enter your 10-character code",value:g,onChange:ce=>{E(ce.target.value.toUpperCase()),b("")},autoComplete:"off",inputMode:"text",maxLength:10,minLength:10,required:!0,"aria-describedby":"adminCodeHelp adminCodeError"}),A.jsxs("div",{id:"adminCodeHelp",className:"help-text",children:["Dont have a code?"," ",A.jsx("a",{className:"link-btn",href:oe,children:"Get your code now"})]}),S?A.jsx("div",{id:"adminCodeError",className:"error-text",role:"alert",children:S}):null]}),A.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:u,children:u?"Creating account":"Sign Up"})]}),A.jsxs("p",{className:"auth-switch",children:["Already have an account?"," ",A.jsx("button",{className:"link-btn",onClick:()=>e("/login"),children:"Sign in"})]})]})}),A.jsx("footer",{className:"auth-footer reveal fade-in-up slow",style:{animationDelay:"220ms"},children:A.jsxs("p",{children:[" 2025 QueueTrackr  Developed by Kamar",A.jsx("span",{className:"ak-badge","aria-label":"AK",children:"AK"})]})})]})},MD=()=>{var K,G;const{login:r}=vu(),e=mo(),n=Wn(),[s,o]=z.useState(!!((K=n.state)!=null&&K.showLoader)),[u,f]=z.useState({email:"",password:""}),[m,p]=z.useState(!1),[g,E]=z.useState(!1),[S,b]=z.useState(!!((G=n.state)!=null&&G.signupSuccess));z.useEffect(()=>{if(!s)return;const $=setTimeout(()=>o(!1),700);return()=>clearTimeout($)},[s]),z.useEffect(()=>{if(!S)return;const $=setTimeout(()=>b(!1),6e3);return()=>clearTimeout($)},[S]);const P=$=>{f(ee=>({...ee,[$.target.name]:$.target.value}))},k=async $=>{$.preventDefault(),p(!0);try{await r(u.email.trim(),u.password);const ee=Ot(ut,"users",Ya.currentUser.uid),oe=await eu(ee);if(oe.exists()){const he=oe.data().role;e(he==="Admin"?"/admin":he==="Student"?"/student":"/")}else alert("User info not found.")}catch(ee){alert(ee.message||"Login failed")}finally{p(!1)}};return A.jsxs("div",{className:"auth-page",children:[s&&A.jsxs("div",{className:"auth-loader",role:"status","aria-live":"polite","aria-label":"Loading",children:[A.jsx("img",{src:"/queuetrackr-logo.png",alt:"QueueTrackr Logo",className:"loader-logo"}),A.jsx("div",{className:"auth-spinner"})]}),S&&A.jsxs("div",{className:"toast toast-success",role:"status","aria-live":"polite",children:[A.jsx("span",{children:"Account created successfully. Please log in with your credentials."}),A.jsx("button",{className:"btn btn-text",onClick:()=>b(!1),children:"Dismiss"})]}),A.jsxs("header",{className:"auth-header reveal fade-in-down slow",children:[A.jsxs("button",{className:"brand",onClick:()=>e("/"),children:[A.jsx("img",{src:"/queuetrackr-logo.png",alt:"QueueTrackr",className:"brand-logo"}),A.jsx("span",{className:"brand-name",children:"QueueTrackr"})]}),A.jsx("button",{className:"back-link","aria-label":"Back to Home",onClick:()=>e("/"),children:" Back to Home"}),A.jsxs("div",{className:"header-actions",children:[A.jsx("button",{className:"btn btn-text",onClick:()=>e("/login",{state:{showLoader:!0}}),children:"Sign In"}),A.jsx("button",{className:"btn btn-primary",onClick:()=>e("/signup",{state:{showLoader:!0}}),children:"Get Started"})]})]}),A.jsx("main",{className:"auth-main",children:A.jsxs("section",{className:"auth-card reveal fade-in-up slow",style:{animationDelay:"120ms"},children:[A.jsx("h1",{className:"auth-title",children:"Welcome back"}),A.jsx("p",{className:"auth-subtitle",children:"Sign in to continue to QueueTrackr."}),A.jsxs("form",{className:"auth-form",onSubmit:k,noValidate:!0,children:[A.jsxs("div",{className:"field",children:[A.jsx("label",{htmlFor:"email",children:"Email address"}),A.jsx("input",{id:"email",name:"email",type:"email",placeholder:"you@example.com",value:u.email,onChange:P,required:!0,autoComplete:"email"})]}),A.jsxs("div",{className:"field",children:[A.jsx("label",{htmlFor:"password",children:"Password"}),A.jsxs("div",{className:"password-wrap",children:[A.jsx("input",{id:"password",name:"password",type:g?"text":"password",placeholder:"Your password",value:u.password,onChange:P,required:!0,autoComplete:"current-password"}),A.jsx("button",{type:"button",className:"pwd-toggle",onClick:()=>E($=>!$),"aria-label":g?"Hide password":"Show password",children:g?"Hide":"Show"})]})]}),A.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:m,children:m?"Logging in":"Login"})]}),A.jsxs("p",{className:"auth-switch",children:["New here?"," ",A.jsx("button",{className:"link-btn",onClick:()=>e("/signup",{state:{showLoader:!0}}),children:"Create an account"})]})]})}),A.jsx("footer",{className:"auth-footer reveal fade-in-up slow",style:{animationDelay:"220ms"},children:A.jsxs("p",{children:[" 2025 QueueTrackr  Developed by Kamar",A.jsx("span",{className:"ak-badge","aria-label":"AK",children:"AK"})]})})]})};function ob(){const r=mo();return A.jsxs("footer",{className:"site-footer reveal fade-in-up slow",style:{animationDelay:"420ms"},children:[A.jsxs("div",{className:"container footer-inner",children:[A.jsx("p",{className:"footer-brand",children:"QueueTrackr"}),A.jsx("p",{className:"footer-copy",children:"Built for campuses, banks and every commercial infrastructure that value time and clarity."}),A.jsxs("div",{className:"footer-actions",children:[A.jsx("button",{className:"btn btn-text",onClick:()=>r("/login",{state:{showLoader:!0}}),children:"Sign In"}),A.jsx("button",{className:"btn btn-primary",onClick:()=>r("/signup",{state:{showLoader:!0}}),children:"Get Started"})]})]}),A.jsx("div",{className:"container footer-legal",children:A.jsxs("p",{children:[" 2025 QueueTrackr  Developed by Kamar",A.jsx("span",{className:"ak-badge","aria-label":"AK",children:"AK"})]})})]})}function kD(){const{user:r,logout:e}=vu(),[n,s]=z.useState([]),[o,u]=z.useState(""),[f,m]=z.useState(!1),[p,g]=z.useState(null),[E,S]=z.useState([]),[b,P]=z.useState(10),[k,K]=z.useState(Date.now()),G=z.useRef(new Set),[$,ee]=z.useState(!1),[oe,he]=z.useState(null);z.useEffect(()=>{if(/Android/i.test(navigator.userAgent)){const R=document.activeElement;R&&(R.tagName==="INPUT"||R.tagName==="TEXTAREA"||R.tagName==="SELECT")&&R.blur()}},[]),z.useEffect(()=>{if(!r)return;const F=o0(lh(ut,"queues"),l0("createdBy","==",r.uid)),R=ib(F,q=>{const ae=q.docs.map(Z=>({...Z.data(),docId:Z.id}));s(ae)});return()=>R()},[r]),z.useEffect(()=>{const F=setInterval(()=>K(Date.now()),1e3);return()=>clearInterval(F)},[]),z.useEffect(()=>{const F=async()=>{var R;for(const q of n){const ae=(R=q.breakEndsAt)!=null&&R.toMillis?q.breakEndsAt.toMillis():Number(q.breakEndsAt);if(q.isOnBreak&&q.breakEndsAt&&ae<=Date.now()){if(G.current.has(q.docId))continue;G.current.add(q.docId);try{await _i(Ot(ut,"queues",q.docId),{isOnBreak:!1,breakEndsAt:null})}catch{}finally{setTimeout(()=>G.current.delete(q.docId),3e3)}}}};n.length&&F()},[n]);const ce=async()=>{if(!(!o.trim()||!r)){m(!0);try{let F="";for(let q=0;q<10&&(F="Q"+Math.floor(Math.random()*9e3+1e3),!(await _D(o0(lh(ut,"queues"),l0("id","==",F)))).empty);q++)F="";if(!F){alert("Could not generate a unique Queue ID. Please try again.");return}const R={name:o.trim(),id:F,createdBy:r.uid,createdAt:it.now(),users:[],currentIndex:0,hasStarted:!1,isOnBreak:!1,breakEndsAt:null,nextLockUntil:null};await TD(lh(ut,"queues"),R),u("")}catch{alert("Failed to create queue. Please try again.")}finally{m(!1)}}},_e=async F=>{window.confirm("End this queue? This cannot be undone.")&&await ED(Ot(ut,"queues",F))},O=async F=>{const R=F.currentIndex??0,q=await Promise.all((F.users||[]).map(async ae=>{const Z=await eu(Ot(ut,"users",ae));return Z.exists()&&Z.data().name||"Unknown"}));S(q.map((ae,Z)=>({name:ae,dismissed:Z<R}))),g(F.name)},I=async(F,R)=>{if(ot(F))return;const q=it.fromMillis(Date.now()+R*60*1e3);await _i(Ot(ut,"queues",F.docId),{isOnBreak:!0,breakEndsAt:q}),he(null)},C=async F=>{await _i(Ot(ut,"queues",F.docId),{isOnBreak:!1,breakEndsAt:null})},D=async(F,R)=>{var Z;if(!F.breakEndsAt)return;const q=(Z=F.breakEndsAt)!=null&&Z.toMillis?F.breakEndsAt.toMillis():Number(F.breakEndsAt),ae=it.fromMillis(q+R*60*1e3);await _i(Ot(ut,"queues",F.docId),{breakEndsAt:ae})},V=async F=>{try{await _i(Ot(ut,"queues",F.docId),{nextLockUntil:null})}catch{alert("Failed to proceed. Please try again.")}},U=F=>{var q;if(!F.breakEndsAt)return 0;const R=(q=F.breakEndsAt)!=null&&q.toMillis?F.breakEndsAt.toMillis():Number(F.breakEndsAt);return Math.max(0,R-k)},x=F=>{if(!F.nextLockUntil)return 0;const R=F.nextLockUntil.toMillis?F.nextLockUntil.toMillis():Number(F.nextLockUntil);return Math.max(0,R-k)},ot=F=>x(F)>0,Fe=F=>{const R=Math.max(0,Math.ceil(F/1e3)),q=Math.floor(R/60),ae=R%60;return`${String(q).padStart(2,"0")}:${String(ae).padStart(2,"0")}`},W=async()=>{try{ee(!0),await e()}catch{ee(!1),alert("Logout failed. Please try again.")}},ue=async F=>{const R=F.avgServeMs??18e4,q=F.samples??0;await _i(Ot(ut,"queues",F.docId),{hasStarted:!0,lastAdvanceAt:it.now(),avgServeMs:R,samples:q})},te=async F=>{if(F.isOnBreak||ot(F))return;const R=Ot(ut,"queues",F.docId);try{await wD(ut,async q=>{var Jn,ei;const ae=await q.get(R);if(!ae.exists())throw new Error("Queue not found");const Z=ae.data();if(!Z.hasStarted)throw new Error("Queue not started");if(Z.isOnBreak)throw new Error("Queue on break");const me=(Jn=Z.nextLockUntil)!=null&&Jn.toMillis?Z.nextLockUntil.toMillis():Number(Z.nextLockUntil);if(me&&me>Date.now())throw new Error("Awaiting arrival (locked)");const Te=(Z.users||[]).length,tt=(Z.currentIndex??0)+1;if(tt>=Te)throw new Error("No more users in the queue");const De=Date.now(),vt=(ei=Z.lastAdvanceAt)!=null&&ei.toMillis?Z.lastAdvanceAt.toMillis():null;let Rt=Z.avgServeMs??18e4,Zt=Z.samples??0;if(vt&&De>vt){const Ri=De-vt;Ri>0&&Ri<4*60*60*1e3&&(Rt=Math.round((Rt*Zt+Ri)/(Zt+1)),Zt+=1)}const hn=it.fromMillis(De+2*60*1e3);q.update(R,{currentIndex:tt,nextLockUntil:hn,lastAdvanceAt:it.fromMillis(De),avgServeMs:Rt,samples:Zt})})}catch(q){alert(q.message||"Failed to move to next.");return}he(null)};return A.jsxs("div",{className:"admin-dashboard",children:[A.jsxs("header",{className:"admin-header reveal fade-in-down slow",children:[A.jsxs("div",{className:"brand",role:"button",children:[A.jsx("img",{src:"/queuetrackr-logo.png",alt:"QueueTrackr",className:"brand-logo"}),A.jsx("span",{className:"brand-name",children:"QueueTrackr Admin"})]}),A.jsx("div",{className:"spacer"}),A.jsxs("div",{className:"admin-meta",children:[A.jsxs("span",{className:"admin-user",children:["Hi, ",(r==null?void 0:r.name)||"Admin"]}),A.jsx("span",{className:"admin-role",children:(r==null?void 0:r.role)||"Admin"})]}),A.jsxs("button",{className:"btn btn-text",onClick:W,disabled:$,"aria-busy":$?"true":"false",children:[$?A.jsx("span",{className:"btn-spinner","aria-hidden":"true"}):null,$?"Logging out":"Logout"]})]}),A.jsxs("main",{className:"admin-main",children:[A.jsxs("section",{className:"panel panel-create reveal fade-in-up slow",style:{animationDelay:"160ms"},children:[A.jsx("div",{className:"panel-head",children:A.jsx("h3",{children:"Create a Queue"})}),A.jsx("div",{className:"panel-body",children:A.jsxs("div",{className:"row",children:[A.jsx("input",{className:"input",type:"text",placeholder:"Enter queue name",value:o,onChange:F=>u(F.target.value),"aria-label":"Queue name"}),A.jsx("button",{className:"btn btn-primary",onClick:ce,disabled:!o.trim()||f,children:f?"Creating":"Create Queue"})]})})]}),A.jsxs("section",{className:"panel panel-queues reveal fade-in-up slow",style:{animationDelay:"220ms"},children:[A.jsx("div",{className:"panel-head",children:A.jsx("h3",{children:"Active Queues"})}),n.length===0?A.jsx("p",{className:"empty",children:"No active queues yet."}):A.jsx("ul",{className:"queue-grid",children:n.map(F=>{var vt;const R=!!F.hasStarted,q=!!F.isOnBreak,ae=q?U(F):0,Z=ot(F),me=Z?x(F):0,Te=((vt=F.users)==null?void 0:vt.length)||0,ge=F.currentIndex??0,tt=Math.max(0,Te-(R?ge:0)),De=R&&!q&&!Z&&Te>0&&ge<Te;return A.jsxs("li",{className:"queue-card",children:[A.jsxs("div",{className:"queue-card-head",children:[A.jsx("h4",{className:"queue-name",children:F.name}),A.jsx("div",{className:"badges",children:R?q?A.jsxs("span",{className:"badge badge-warn",children:["On Break  ",Fe(ae)]}):Z?A.jsxs("span",{className:"badge badge-info",children:["Awaiting arrival  ",Fe(me)]}):A.jsx("span",{className:"badge",children:"Active"}):A.jsx("span",{className:"badge badge-pending",children:"Not Started"})})]}),A.jsxs("div",{className:"queue-meta",children:[A.jsxs("div",{className:"meta",children:[A.jsx("span",{className:"label",children:"Queue ID"}),A.jsxs("span",{className:"value",children:[F.id," ",A.jsx("button",{className:"copy-btn",onClick:()=>{navigator.clipboard.writeText(F.id),alert("Queue ID copied.")},"aria-label":"Copy queue ID",children:"COPY"})]})]}),A.jsxs("div",{className:"meta",children:[A.jsx("span",{className:"label",children:"People in queue"}),A.jsx("span",{className:"value",children:tt})]}),A.jsxs("div",{className:"meta",children:[A.jsx("span",{className:"label",children:"Currently serving"}),A.jsx("span",{className:"value",children:R?Te>0&&ge<Te?`#${ge+1}`:"None":"Not started yet"})]}),A.jsxs("div",{className:"meta",children:[A.jsx("span",{className:"label",children:"Queue Speed"}),A.jsx("span",{className:"value",children:F.samples>0&&F.avgServeMs?`${Fe(F.avgServeMs)} / person`:"Learning"})]})]}),A.jsx("div",{className:"divider"}),A.jsxs("div",{className:"queue-actions",children:[A.jsx("div",{className:"left-actions",children:R?A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"btn btn-secondary",onClick:()=>O(F),children:"View Users"}),A.jsx("button",{className:"btn btn-danger",onClick:()=>_e(F.docId),children:"End Queue"}),A.jsx("button",{className:"btn btn-primary",onClick:()=>he(oe===F.docId?null:F.docId),disabled:!De,title:q?"Unavailable during break":Z?"Waiting for current person":R?De?"Choose to take break or move next":"No one to serve":"Start queue to serve",children:"Dismiss Current"})]}):A.jsx("button",{className:"btn btn-primary",onClick:()=>ue(F),disabled:q,title:q?"End break first":"Start this queue",children:"Start Queue"})}),A.jsx("div",{className:"right-actions",children:q?A.jsxs("div",{className:"break-controls",children:[A.jsx("label",{className:"label",children:"Break ends in"}),A.jsx("span",{className:"timer",children:Fe(ae)}),A.jsxs("select",{className:"input compact",defaultValue:5,onChange:Rt=>D(F,Number(Rt.target.value)),"aria-label":"Extend break by",children:[A.jsx("option",{value:5,children:"+5"}),A.jsx("option",{value:10,children:"+10"}),A.jsx("option",{value:15,children:"+15"})]}),A.jsx("button",{className:"btn btn-warn",onClick:()=>C(F),children:"End Break Now"})]}):A.jsxs("div",{className:`break-controls ${Z?"controls-disabled":""}`,children:[A.jsx("label",{className:"label",children:"Break"}),A.jsxs("select",{className:"input compact",value:b,onChange:Rt=>P(Number(Rt.target.value)),disabled:Z,children:[A.jsx("option",{value:5,children:"5 min"}),A.jsx("option",{value:10,children:"10 min"}),A.jsx("option",{value:15,children:"15 min"}),A.jsx("option",{value:20,children:"20 min"}),A.jsx("option",{value:30,children:"30 min"})]}),A.jsx("button",{className:"btn btn-outline",onClick:()=>I(F,b),disabled:Z||!R,title:R?Z?"Awaiting arrival":"Start break":"Start queue first",children:"Start Break"})]})})]}),oe===F.docId&&A.jsx("div",{className:"serve-action-menu",children:A.jsxs("div",{className:"menu-inner",children:[A.jsx("p",{className:"menu-title",children:"Choose an action"}),A.jsxs("div",{className:"menu-actions",children:[A.jsxs("button",{className:"btn btn-outline",onClick:()=>I(F,b),children:["Take Break (",b,"m)"]}),A.jsx("button",{className:"btn btn-primary",onClick:()=>te(F),children:"Move to Next Person"}),A.jsx("button",{className:"btn btn-text",onClick:()=>he(null),children:"Cancel"})]})]})}),Z&&R&&!q&&A.jsxs("div",{className:"no-show-hint",role:"status","aria-live":"polite",children:[A.jsxs("div",{className:"hint-text",children:[A.jsx("strong",{children:"Awaiting arrival of current person"}),"  ",Fe(me),A.jsx("span",{className:"hint-note",children:"If the queue member arrives before the countdown ends, click Proceed now to continue."})]}),A.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>V(F),title:"Clear countdown and continue now",children:"Proceed now"})]})]},F.docId)})})]}),p&&A.jsxs("section",{className:"panel panel-users reveal fade-in-up slow",style:{animationDelay:"260ms"},children:[A.jsx("div",{className:"panel-head",children:A.jsxs("h3",{children:["Users in ",p,""]})}),A.jsx("ul",{className:"users-list",children:E.map((F,R)=>A.jsxs("li",{children:[A.jsxs("span",{className:"index",children:["#",R+1]}),A.jsxs("span",{className:`name ${F.dismissed?"dismissed":""}`,children:[F.name," ",F.dismissed?A.jsx("span",{className:"dismissed-tag",children:"(dismissed)"}):null]})]},R))}),A.jsx("div",{className:"panel-foot",children:A.jsx("button",{className:"btn btn-text",onClick:()=>{g(null),S([])},children:"Close"})})]})]}),A.jsx(ob,{})]})}function VD(){const{user:r,logout:e}=vu(),[n,s]=z.useState([]),[o,u]=z.useState([]),[f,m]=z.useState(""),[p,g]=z.useState(""),[E,S]=z.useState(!1),[b,P]=z.useState(""),[k,K]=z.useState(!1),[G,$]=z.useState(Date.now()),[ee,oe]=z.useState(null),[he,ce]=z.useState(null),_e=z.useRef(new Set);z.useEffect(()=>{if(/Android/i.test(navigator.userAgent)){const F=document.activeElement;F&&(F.tagName==="INPUT"||F.tagName==="TEXTAREA"||F.tagName==="SELECT")&&F.blur()}},[]),z.useEffect(()=>{if(!r)return;const te=ib(lh(ut,"queues"),async F=>{const R=F.docs.map(Z=>({...Z.data(),docId:Z.id}));s(R);const q=R.filter(Z=>(Z.users||[]).includes(r.uid)),ae=await Promise.all(q.map(async Z=>{const me=await Promise.all((Z.users||[]).map(async Te=>{const ge=await eu(Ot(ut,"users",Te));return ge.exists()&&ge.data().name||"Unknown"}));return{...Z,userNames:me}}));u(ae)});return()=>te()},[r]),z.useEffect(()=>{const te=setInterval(()=>$(Date.now()),1e3);return()=>clearInterval(te)},[]);const O=n.filter(te=>!(te.users||[]).includes(r==null?void 0:r.uid)),I=async()=>{if(!(!f||!r)){S(!0);try{await _i(Ot(ut,"queues",f),{users:h0(r.uid)}),m(""),alert("Joined queue.")}catch{alert("Failed to join. Try again.")}finally{S(!1)}}},C=async()=>{if(!p.trim()||!r)return;const te=n.find(F=>F.id===p.trim());if(!te){alert("Queue not found.");return}S(!0);try{await _i(Ot(ut,"queues",te.docId),{users:h0(r.uid)}),g(""),alert("Joined queue.")}catch{alert("Failed to join. Try again.")}finally{S(!1)}},D=async te=>{if(r){P(te);try{await _i(Ot(ut,"queues",te),{users:f0(r.uid)})}catch{alert("Failed to leave. Try again.")}finally{P("")}}},V=te=>oe({docId:te.docId,name:te.name}),U=async()=>{ee&&(await D(ee.docId),oe(null))},x=()=>oe(null),ot=async()=>{try{K(!0),await e()}catch{K(!1),alert("Logout failed. Please try again.")}},Fe=te=>{if(!te.breakEndsAt)return 0;const F=typeof te.breakEndsAt.toMillis=="function"?te.breakEndsAt.toMillis():Number(te.breakEndsAt);return Math.max(0,F-G)},W=te=>{const F=Math.ceil(te/1e3),R=Math.floor(F/60),q=F%60,ae=Z=>String(Z).padStart(2,"0");return`${ae(R)}:${ae(q)}`},ue=te=>{const F=Math.max(0,Math.ceil(te/1e3)),R=Math.floor(F/60),q=F%60;return`${String(R).padStart(2,"0")}:${String(q).padStart(2,"0")}`};return z.useEffect(()=>{if(!r||o.length===0)return;let te=!1;return(async()=>{for(const F of o){const R=(F.users||[]).indexOf(r.uid),q=F.currentIndex??0;if(R>=0&&q>R&&!_e.current.has(F.docId)){_e.current.add(F.docId),te||ce({name:F.name});try{await _i(Ot(ut,"queues",F.docId),{users:f0(r.uid)})}catch{}}}})(),()=>{te=!0}},[o,r]),z.useEffect(()=>{if(!he)return;const te=setTimeout(()=>ce(null),6e3);return()=>clearTimeout(te)},[he]),A.jsxs("div",{className:"student-dashboard",children:[A.jsxs("header",{className:"sd-header reveal fade-in-down slow",children:[A.jsxs("div",{className:"brand",role:"button",children:[A.jsx("img",{src:"/queuetrackr-logo.png",alt:"QueueTrackr",className:"brand-logo"}),A.jsx("span",{className:"brand-name",children:"QueueTrackr Student"})]}),A.jsx("div",{className:"spacer"}),A.jsxs("div",{className:"sd-meta",children:[A.jsxs("span",{className:"sd-user",children:["Hi, ",(r==null?void 0:r.name)||"Student"]}),A.jsx("span",{className:"sd-role",children:(r==null?void 0:r.role)||"Student"})]}),A.jsxs("button",{className:"btn btn-text",onClick:ot,disabled:k,"aria-busy":k?"true":"false",children:[k?A.jsx("span",{className:"btn-spinner","aria-hidden":"true"}):null,k?"Logging out":"Logout"]})]}),he&&A.jsxs("div",{className:"toast toast-success",role:"status","aria-live":"polite",children:[A.jsxs("span",{children:["All done with ",he.name,"! Youve been removed from the queue."]}),A.jsx("button",{className:"btn btn-text",onClick:()=>ce(null),children:"Dismiss"})]}),A.jsxs("main",{className:"sd-main",children:[A.jsxs("section",{className:"panel panel-join reveal fade-in-up slow",style:{animationDelay:"120ms"},children:[A.jsx("div",{className:"panel-head",children:A.jsx("h3",{children:"Join a Queue"})}),A.jsx("div",{className:"panel-body",children:A.jsxs("div",{className:"join-grid",children:[A.jsxs("div",{className:"join-block",children:[A.jsx("label",{className:"label",children:"Pick from available queues"}),A.jsxs("div",{className:"row",children:[A.jsxs("select",{className:"input",value:f,onChange:te=>m(te.target.value),children:[A.jsx("option",{value:"",children:"Select a queue"}),O.map(te=>{var me;const F=!!te.hasStarted,R=((me=te.users)==null?void 0:me.length)||0,q=te.currentIndex??0,ae=Math.max(0,R-(F?q:0)),Z=F?te.isOnBreak?"On Break":"Active":"Not Started";return A.jsxs("option",{value:te.docId,children:[te.name,"  ",te.id,"  ",ae," in queue  ",Z]},te.docId)})]}),A.jsx("button",{className:"btn btn-primary",onClick:I,disabled:!f||E,children:E?"Joining":"Join"})]})]}),A.jsxs("div",{className:"join-block",children:[A.jsx("label",{className:"label",children:"Or paste a Queue ID"}),A.jsxs("div",{className:"row",children:[A.jsx("input",{className:"input",type:"text",placeholder:"e.g. Q4821",value:p,onChange:te=>g(te.target.value)}),A.jsx("button",{className:"btn btn-secondary",onClick:C,disabled:!p||E,children:E?"Joining":"Join by ID"})]})]})]})})]}),A.jsxs("section",{className:"panel panel-myqueues reveal fade-in-up slow",style:{animationDelay:"220ms"},children:[A.jsx("div",{className:"panel-head",children:A.jsx("h3",{children:"My Queues"})}),o.length===0?A.jsx("p",{className:"empty",children:"You have not joined any queues yet."}):A.jsx("ul",{className:"queue-grid",children:o.map(te=>{var Rt;const F=(te.users||[]).indexOf(r.uid),R=te.currentIndex??0,q=!!te.hasStarted,ae=!!te.isOnBreak,Z=ae?Fe(te):0,me=q?R<(((Rt=te.userNames)==null?void 0:Rt.length)||0)?`#${R+1}. ${te.userNames[R]}`:"None":"Not started yet",Te=F>=0?Math.max(0,F-R):null,ge=te.avgServeMs??18e4,tt=Math.min(60*60*1e3,Math.max(5e3,ge)),De=Te!=null?Te*tt:null,vt=q?ae?De!=null?De+Z:null:De:null;return A.jsxs("li",{className:"queue-card",children:[A.jsxs("div",{className:"queue-card-head",children:[A.jsx("h4",{className:"queue-name",children:te.name}),A.jsx("div",{className:"badges",children:q?ae?A.jsxs("span",{className:"badge badge-warn",children:["On Break  ",W(Z)]}):A.jsx("span",{className:"badge",children:"Active"}):A.jsx("span",{className:"badge badge-pending",children:"Not Started"})})]}),A.jsxs("div",{className:"queue-meta",children:[A.jsxs("div",{className:"meta",children:[A.jsx("span",{className:"label",children:"Queue ID"}),A.jsx("span",{className:"value",children:te.id})]}),A.jsxs("div",{className:"meta",children:[A.jsx("span",{className:"label",children:"Your Position"}),A.jsxs("span",{className:"value",children:["#",F+1]})]}),A.jsxs("div",{className:"meta",children:[A.jsx("span",{className:"label",children:"Currently Serving"}),A.jsx("span",{className:"value",children:me})]}),A.jsxs("div",{className:"meta",children:[A.jsx("span",{className:"label",children:"Queue Speed"}),A.jsx("span",{className:"value",children:te.samples>0&&te.avgServeMs?`${ue(tt)} / person`:"Learning"})]}),A.jsxs("div",{className:"meta",children:[A.jsx("span",{className:"label",children:"Your ETA"}),A.jsx("span",{className:"value",children:q?Te===0?"Now":vt!=null?ue(vt):"":""})]})]}),A.jsx("div",{className:"divider"}),A.jsxs("div",{className:"user-list",children:[A.jsx("h5",{children:"All Users in Queue"}),A.jsx("ul",{children:(te.userNames||[]).map((Zt,hn)=>A.jsxs("li",{className:te.users[hn]===r.uid?"you":"",children:["#",hn+1,". ",Zt,te.users[hn]===r.uid?" (You)":""]},hn))})]}),A.jsx("div",{className:"actions",children:A.jsx("button",{className:"btn btn-danger",onClick:()=>V(te),disabled:b===te.docId,children:b===te.docId?"Leaving":"Leave Queue"})})]},te.docId)})})]})]}),A.jsx(ob,{}),ee&&A.jsx("div",{className:"modal-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"leave-title",children:A.jsxs("div",{className:"modal",children:[A.jsx("h4",{id:"leave-title",className:"modal-title",children:"Leave this queue?"}),A.jsxs("div",{className:"modal-body",children:[A.jsxs("p",{children:["Youre about to leave ",A.jsx("strong",{children:ee.name}),"."]}),A.jsx("p",{className:"warn",children:"Warning: If you join again, you will lose your current position and rejoin at the end."})]}),A.jsxs("div",{className:"modal-actions",children:[A.jsx("button",{className:"btn btn-text",onClick:x,children:"Cancel"}),A.jsx("button",{className:"btn btn-danger",onClick:U,disabled:b===ee.docId,children:b===ee.docId?"Leaving":"Yes, leave queue"})]})]})})]})}const d0=({children:r,allowedRoles:e})=>{const{user:n,loading:s}=vu(),o=Wn();return s?A.jsx("div",{style:{padding:24},children:"Loading"}):n?e&&!e.includes(n.role)?A.jsx(xv,{to:"/",replace:!0}):r:A.jsx(xv,{to:"/login",replace:!0,state:{from:o,showLoader:!0}})};function PD(){return A.jsxs(kw,{children:[A.jsx(Ha,{path:"/",element:A.jsx(xD,{})}),A.jsx(Ha,{path:"/signup",element:A.jsx(OD,{})}),A.jsx(Ha,{path:"/login",element:A.jsx(MD,{})}),A.jsx(Ha,{path:"/admin",element:A.jsx(d0,{allowedRoles:["Admin"],children:A.jsx(kD,{})})}),A.jsx(Ha,{path:"/student",element:A.jsx(d0,{allowedRoles:["Student"],children:A.jsx(VD,{})})})]})}HS.createRoot(document.getElementById("root")).render(A.jsx(r1,{children:A.jsx(ND,{children:A.jsx(PD,{})})}));
